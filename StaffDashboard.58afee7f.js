function e(e,s,a,t){Object.defineProperty(e,s,{get:a,set:t,enumerable:!0,configurable:!0})}var s=globalThis.parcelRequire3f2f,a=s.register;a("45vda",function(a,t){Object.defineProperty(a.exports,"__esModule",{value:!0,configurable:!0}),e(a.exports,"default",()=>o);var l=s("ayMG0"),n=s("acw62"),i=s("aOD4d"),r=s("hyYFF"),c=s("iFlyT"),d=s("gqAsg");function o({user:e,onLogout:s}){let[a]=(0,n.useState)(c.Storage.get("timetable")),t=a?.staffTimetables||null;return(0,n.useEffect)(()=>{console.log("=== StaffDashboard Debug ==="),console.log("User object:",e),console.log("User name:",e?.name),console.log("Timetable data:",a),console.log("Staff timetables:",t),t&&console.log("Available staff:",Object.keys(t))},[e,a,t]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(i.default,{}),(0,l.jsx)("div",{className:"header",children:(0,l.jsxs)("div",{className:"header-content",children:[(0,l.jsx)("h1",{children:"üìò Staff Dashboard"}),(0,l.jsx)("div",{className:"header-center",children:e&&e.name&&(0,l.jsxs)("div",{className:"staff-name-display",children:[(0,l.jsx)("span",{className:"staff-label",children:"Staff:"}),(0,l.jsx)("span",{className:"staff-name-text",children:e.name})]})}),(0,l.jsxs)("div",{className:"header-actions",children:[(0,l.jsx)("button",{className:"theme-toggle",children:"üåô"}),(0,l.jsx)("button",{className:"btn btn-danger btn-sm",onClick:s,children:"Logout"})]})]})}),(0,l.jsx)("div",{className:"content",children:(0,l.jsxs)("div",{className:"section",children:[(0,l.jsxs)("div",{className:"section-header",children:[(0,l.jsx)("span",{className:"section-icon",children:"üìÖ"}),(0,l.jsx)("h2",{className:"section-title",children:"My Timetable"})]}),(0,l.jsx)("div",{className:"card",children:e&&e.name?t?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"timetable-info-header",children:[(0,l.jsx)("h3",{children:"üìä Your Weekly Schedule"}),(0,l.jsx)("p",{children:"Below is your teaching timetable for the week"})]}),(0,l.jsx)(r.default,{timetable:t,staffName:e.name}),(0,l.jsxs)("div",{style:{marginTop:"20px",display:"flex",gap:"10px",justifyContent:"center"},className:"no-print",children:[(0,l.jsx)("button",{className:"btn btn-primary btn-sm",onClick:()=>(0,d.exportToPDF)("staff-timetable-export",`${e.name}_Timetable.pdf`),children:"üìÑ Download PDF"}),(0,l.jsx)("button",{className:"btn btn-primary btn-sm",onClick:()=>window.print(),children:"üñ®Ô∏è Print"})]})]}):(0,l.jsxs)("div",{style:{padding:"60px 20px",textAlign:"center"},children:[(0,l.jsx)("div",{style:{fontSize:"60px",marginBottom:"20px"},children:"üìã"}),(0,l.jsx)("h3",{style:{marginBottom:"10px",color:"#1e293b"},children:"No Timetable Generated"}),(0,l.jsx)("p",{style:{color:"#64748b"},children:"Please contact the administrator to generate a timetable."})]}):(0,l.jsxs)("div",{style:{padding:"60px 20px",textAlign:"center"},children:[(0,l.jsx)("div",{style:{fontSize:"60px",marginBottom:"20px"},children:"‚ö†Ô∏è"}),(0,l.jsx)("h3",{style:{marginBottom:"10px",color:"#1e293b"},children:"User Information Missing"}),(0,l.jsx)("p",{style:{color:"#64748b"},children:"Please logout and login again."})]})})]})})]})}}),a("hyYFF",function(a,t){e(a.exports,"default",()=>n);var l=s("ayMG0");function n({timetable:e,staffName:s}){let a=["P1","P2","P3","P4","P5","P6"],t=e[s];return(console.log("StaffTimetableGrid - Staff name:",s),console.log("StaffTimetableGrid - Staff schedule:",t),console.log("StaffTimetableGrid - All timetables:",Object.keys(e)),t)?(0,l.jsx)("div",{className:"timetable-container",id:"staff-timetable-export",children:(0,l.jsxs)("table",{className:"timetable",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"day-header",children:"Day/Period"}),a.map(e=>(0,l.jsx)("th",{className:"period-header",children:e},e))]})}),(0,l.jsx)("tbody",{children:["Monday","Tuesday","Wednesday","Thursday","Friday"].map((e,s)=>(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"day-cell",children:e}),a.map((e,a)=>{let n=t[s]?.[a],i=!n||"free"===n.type||"FREE"===n.subject;return(0,l.jsx)("td",{className:`period-cell ${i?"free-period":"class-period"}`,children:i?(0,l.jsx)("div",{className:"period-content free",children:(0,l.jsx)("span",{className:"subject-name",children:"FREE"})}):(0,l.jsxs)("div",{className:"period-content",children:[(0,l.jsx)("span",{className:"subject-name",children:n.subject}),(0,l.jsx)("span",{className:"class-name",children:n.class})]})},e)})]},e))})]})}):(0,l.jsxs)("div",{style:{padding:"40px",textAlign:"center"},children:[(0,l.jsx)("div",{style:{fontSize:"48px",marginBottom:"20px"},children:"‚ö†Ô∏è"}),(0,l.jsx)("h3",{children:"No Timetable Found"}),(0,l.jsxs)("p",{style:{color:"#64748b"},children:['No timetable found for "',s,'".']}),(0,l.jsxs)("p",{style:{color:"#64748b",marginTop:"10px",fontSize:"14px"},children:["Available staff: ",Object.keys(e).join(", ")]})]})}s("acw62")});
//# sourceMappingURL=StaffDashboard.58afee7f.js.map

function e(e,a,s,t){Object.defineProperty(e,a,{get:s,set:t,enumerable:!0,configurable:!0})}var a=globalThis.parcelRequire3f2f,s=a.register;s("45vda",function(s,t){Object.defineProperty(s.exports,"__esModule",{value:!0,configurable:!0}),e(s.exports,"default",()=>d);var l=a("ayMG0"),n=a("acw62"),i=a("aOD4d"),r=a("hyYFF"),o=a("iFlyT"),c=a("gqAsg");function d({user:e,onLogout:a}){let[s]=(0,n.useState)(o.Storage.get("timetable")),t=s?.staffTimetables||null;return(0,n.useEffect)(()=>{console.log("=== StaffDashboard Debug ==="),console.log("User object:",e),console.log("User name:",e?.name),console.log("Timetable data:",s),console.log("Staff timetables:",t),t&&console.log("Available staff:",Object.keys(t))},[e,s,t]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(i.default,{}),(0,l.jsx)("div",{className:"header",children:(0,l.jsxs)("div",{className:"header-content",children:[(0,l.jsx)("div",{className:"header-left",children:(0,l.jsx)("h1",{children:"ðŸ‘¨â€ðŸ« Staff Dashboard"})}),(0,l.jsx)("div",{className:"header-center",children:e&&e.name&&(0,l.jsxs)("div",{className:"welcome-message",children:[(0,l.jsx)("span",{className:"welcome-text",children:"Welcome,"}),(0,l.jsx)("span",{className:"staff-name",children:e.name})]})}),(0,l.jsxs)("div",{className:"header-actions",children:[(0,l.jsx)("button",{className:"theme-toggle",children:"ðŸŒ™"}),(0,l.jsx)("button",{className:"btn btn-danger btn-sm",onClick:a,children:"Logout"})]})]})}),(0,l.jsx)("div",{className:"content",children:(0,l.jsxs)("div",{className:"section",children:[(0,l.jsxs)("div",{className:"section-header",children:[(0,l.jsx)("span",{className:"section-icon",children:"ðŸ“…"}),(0,l.jsx)("h2",{className:"section-title",children:"My Timetable"})]}),(0,l.jsx)("div",{className:"card",children:e&&e.name?t?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"timetable-header-info",children:[(0,l.jsx)("h3",{children:"ðŸ“Š Your Schedule"}),(0,l.jsx)("p",{children:"Below is your weekly teaching schedule"})]}),(0,l.jsx)(r.default,{timetable:t,staffName:e.name}),(0,l.jsxs)("div",{style:{marginTop:"20px",display:"flex",gap:"10px",justifyContent:"center"},className:"no-print",children:[(0,l.jsx)("button",{className:"btn btn-primary btn-sm",onClick:()=>(0,c.exportToPDF)("staff-timetable-export",`${e.name}_Timetable.pdf`),children:"ðŸ“„ Download PDF"}),(0,l.jsx)("button",{className:"btn btn-primary btn-sm",onClick:()=>window.print(),children:"ðŸ–¨ï¸ Print"})]})]}):(0,l.jsxs)("div",{style:{padding:"60px 20px",textAlign:"center"},children:[(0,l.jsx)("div",{style:{fontSize:"60px",marginBottom:"20px"},children:"ðŸ“‹"}),(0,l.jsx)("h3",{style:{marginBottom:"10px",color:"#1e293b"},children:"No Timetable Generated"}),(0,l.jsx)("p",{style:{color:"#64748b"},children:"Please contact the administrator to generate a timetable."})]}):(0,l.jsxs)("div",{style:{padding:"60px 20px",textAlign:"center"},children:[(0,l.jsx)("div",{style:{fontSize:"60px",marginBottom:"20px"},children:"âš ï¸"}),(0,l.jsx)("h3",{style:{marginBottom:"10px",color:"#1e293b"},children:"User Information Missing"}),(0,l.jsx)("p",{style:{color:"#64748b"},children:"Please logout and login again."})]})})]})})]})}}),s("hyYFF",function(s,t){e(s.exports,"default",()=>r);var l=a("ayMG0"),n=a("acw62");let i=["Monday","Tuesday","Wednesday","Thursday","Friday"];function r({timetable:e,staffName:a}){if(console.log("=== StaffTimetableGrid Debug ==="),console.log("Received timetable:",e),console.log("Received staffName:",a),console.log("timetable keys:",e?Object.keys(e):"timetable is null"),!e)return console.warn("No timetable data received"),(0,l.jsxs)("div",{style:{padding:"40px",textAlign:"center",color:"#64748b"},children:[(0,l.jsx)("p",{children:"No timetable data available"}),(0,l.jsx)("p",{style:{fontSize:"14px",marginTop:"10px"},children:"Please generate a timetable first from the Admin Dashboard"})]});if(!e[a])return console.warn(`No timetable found for staff: ${a}`),console.log("Available staff timetables:",Object.keys(e)),(0,l.jsxs)("div",{style:{padding:"40px",textAlign:"center",color:"#64748b"},children:[(0,l.jsxs)("p",{children:["No timetable available for ",a]}),(0,l.jsx)("p",{style:{fontSize:"14px",marginTop:"10px"},children:"Timetable may not have been generated yet or you are not assigned any classes."})]});let s=e[a];return(console.log("Grid data:",s),console.log("Grid is array?",Array.isArray(s)),console.log("Grid length:",s?s.length:0),Array.isArray(s)&&0!==s.length)?(console.log("Rendering timetable grid..."),(0,l.jsxs)("div",{id:"staff-timetable-export",className:"timetable-grid",children:[(0,l.jsx)("div",{className:"timetable-header",children:"Day/Period"}),[...Array(6)].map((e,a)=>(0,l.jsxs)("div",{className:"timetable-header",children:["P",a+1]},a)),i.map((e,a)=>s[a]&&Array.isArray(s[a])?(0,l.jsxs)((n&&n.__esModule?n.default:n).Fragment,{children:[(0,l.jsx)("div",{className:"timetable-day",children:e}),s[a].map((e,a)=>{if(!e)return(0,l.jsx)("div",{className:"timetable-cell subject-free",children:(0,l.jsx)("div",{style:{color:"#94a3b8"},children:"FREE"})},a);let s=e.type?e.type.toLowerCase():"free",t="FREE"===e.subject||!e.subject;return(0,l.jsx)("div",{className:`timetable-cell subject-${s}`,children:t?(0,l.jsx)("div",{style:{color:"#94a3b8",fontWeight:"500"},children:"FREE"}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"subject-name",children:e.subject}),(0,l.jsx)("div",{className:"teacher-name",children:e.class||"-"})]})},a)})]},e):(console.warn(`Invalid data for day ${e} (index ${a})`),null))]})):(console.error("Invalid grid structure"),(0,l.jsxs)("div",{style:{padding:"40px",textAlign:"center",color:"#64748b"},children:[(0,l.jsx)("p",{children:"Invalid timetable format"}),(0,l.jsx)("p",{style:{fontSize:"14px",marginTop:"10px"},children:"Please regenerate the timetable from Admin Dashboard"})]}))}});
//# sourceMappingURL=StaffDashboard.539464e6.js.map

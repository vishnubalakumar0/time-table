{"mappings":"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","sources":["<anon>","src/components/StaffDashboard.jsx","src/components/StaffTimetableGrid.jsx"],"sourcesContent":["\nfunction $parcel$defineInteropFlag(a) {\n  Object.defineProperty(a, '__esModule', {value: true, configurable: true});\n}\n\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\n\n      var $parcel$global = globalThis;\n    var parcelRequire = $parcel$global[\"parcelRequireb79f\"];\nvar parcelRegister = parcelRequire.register;\nparcelRegister(\"45vda\", function(module, exports) {\n\n$parcel$defineInteropFlag(module.exports);\n\n$parcel$export(module.exports, \"default\", () => $c55c51dd2de99fec$export$2e2bcd8739ae039);\n\nvar $ayMG0 = parcelRequire(\"ayMG0\");\n\nvar $acw62 = parcelRequire(\"acw62\");\n\nvar $aOD4d = parcelRequire(\"aOD4d\");\n\nvar $hyYFF = parcelRequire(\"hyYFF\");\n\nvar $gqAsg = parcelRequire(\"gqAsg\");\n\nvar $fAZ67 = parcelRequire(\"fAZ67\");\n\nvar $ilpIi = parcelRequire(\"ilpIi\");\nfunction $c55c51dd2de99fec$export$2e2bcd8739ae039({ user: user, onLogout: onLogout }) {\n    const [timetableData, setTimetableData] = (0, $acw62.useState)(null);\n    const [loading, setLoading] = (0, $acw62.useState)(true);\n    (0, $acw62.useEffect)(()=>{\n        const fetchTimetable = async ()=>{\n            try {\n                const ttSnap = await (0, $ilpIi.getDocs)((0, $ilpIi.collection)((0, $fAZ67.db), 'timetable'));\n                if (!ttSnap.empty) {\n                    const ttData = ttSnap.docs[0].data();\n                    const staffTimetables = {};\n                    if (ttData.staffTimetables) Object.keys(ttData.staffTimetables).forEach((staffName)=>{\n                        const slots = ttData.staffTimetables[staffName];\n                        const days = [\n                            [],\n                            [],\n                            [],\n                            [],\n                            []\n                        ];\n                        slots.forEach((slot)=>{\n                            if (slot && typeof slot.day === 'number' && typeof slot.period === 'number') {\n                                if (!days[slot.day]) days[slot.day] = [];\n                                days[slot.day][slot.period] = {\n                                    subject: slot.subject,\n                                    class: slot.class,\n                                    type: slot.type\n                                };\n                            }\n                        });\n                        days.forEach((day, idx)=>{\n                            if (!days[idx]) days[idx] = [];\n                            for(let p = 0; p < 6; p++)if (!days[idx][p]) days[idx][p] = {\n                                subject: 'FREE',\n                                class: '-',\n                                type: 'free'\n                            };\n                        });\n                        staffTimetables[staffName] = days;\n                    });\n                    setTimetableData(staffTimetables);\n                }\n            } catch (error) {\n                console.error('Error fetching timetable:', error);\n            } finally{\n                setLoading(false);\n            }\n        };\n        fetchTimetable();\n    }, [\n        user\n    ]);\n    if (loading) return /*#__PURE__*/ (0, $ayMG0.jsxs)((0, $ayMG0.Fragment), {\n        children: [\n            /*#__PURE__*/ (0, $ayMG0.jsx)((0, $aOD4d.default), {}),\n            /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                style: {\n                    display: 'flex',\n                    justifyContent: 'center',\n                    alignItems: 'center',\n                    minHeight: '100vh'\n                },\n                children: /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                    style: {\n                        textAlign: 'center'\n                    },\n                    children: [\n                        /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                            style: {\n                                fontSize: '48px',\n                                marginBottom: '20px'\n                            },\n                            children: \"\\u23F3\"\n                        }),\n                        /*#__PURE__*/ (0, $ayMG0.jsx)(\"h2\", {\n                            children: \"Loading...\"\n                        })\n                    ]\n                })\n            })\n        ]\n    });\n    return /*#__PURE__*/ (0, $ayMG0.jsxs)((0, $ayMG0.Fragment), {\n        children: [\n            /*#__PURE__*/ (0, $ayMG0.jsx)((0, $aOD4d.default), {}),\n            /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                className: \"header\",\n                children: /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                    className: \"header-content\",\n                    children: [\n                        /*#__PURE__*/ (0, $ayMG0.jsx)(\"h1\", {\n                            children: \"\\uD83D\\uDCD8 Staff Dashboard\"\n                        }),\n                        user && user.name && /*#__PURE__*/ (0, $ayMG0.jsxs)(\"span\", {\n                            className: \"greeting\",\n                            children: [\n                                \"\\uD83D\\uDC4B Welcome, \",\n                                user.name\n                            ]\n                        }),\n                        /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                            className: \"header-actions\",\n                            children: /*#__PURE__*/ (0, $ayMG0.jsx)(\"button\", {\n                                className: \"btn btn-danger btn-sm\",\n                                onClick: onLogout,\n                                children: \"Logout\"\n                            })\n                        })\n                    ]\n                })\n            }),\n            /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                className: \"content\",\n                children: /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                    className: \"section\",\n                    children: [\n                        /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                            className: \"section-header\",\n                            children: [\n                                /*#__PURE__*/ (0, $ayMG0.jsx)(\"span\", {\n                                    className: \"section-icon\",\n                                    children: \"\\uD83D\\uDCC5\"\n                                }),\n                                /*#__PURE__*/ (0, $ayMG0.jsx)(\"h2\", {\n                                    className: \"section-title\",\n                                    children: \"My Timetable\"\n                                })\n                            ]\n                        }),\n                        /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                            className: \"card\",\n                            children: !user || !user.name ? /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                style: {\n                                    padding: '60px 20px',\n                                    textAlign: 'center'\n                                },\n                                children: [\n                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                                        style: {\n                                            fontSize: '60px',\n                                            marginBottom: '20px'\n                                        },\n                                        children: \"\\u26A0\\uFE0F\"\n                                    }),\n                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"h3\", {\n                                        children: \"User Information Missing\"\n                                    }),\n                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"p\", {\n                                        style: {\n                                            color: '#64748b'\n                                        },\n                                        children: \"Please logout and login again\"\n                                    })\n                                ]\n                            }) : !timetableData || Object.keys(timetableData).length === 0 ? /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                style: {\n                                    padding: '60px 20px',\n                                    textAlign: 'center'\n                                },\n                                children: [\n                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                                        style: {\n                                            fontSize: '60px',\n                                            marginBottom: '20px'\n                                        },\n                                        children: \"\\uD83D\\uDCCB\"\n                                    }),\n                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"h3\", {\n                                        children: \"No Timetable Generated\"\n                                    }),\n                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"p\", {\n                                        style: {\n                                            color: '#64748b'\n                                        },\n                                        children: \"Contact administrator to generate timetable\"\n                                    })\n                                ]\n                            }) : /*#__PURE__*/ (0, $ayMG0.jsxs)((0, $ayMG0.Fragment), {\n                                children: [\n                                    /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                        className: \"timetable-info\",\n                                        children: [\n                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"h3\", {\n                                                children: \"\\uD83D\\uDCCA Your Weekly Schedule\"\n                                            }),\n                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"p\", {\n                                                children: \"Your teaching timetable for the week\"\n                                            })\n                                        ]\n                                    }),\n                                    /*#__PURE__*/ (0, $ayMG0.jsx)((0, $hyYFF.default), {\n                                        timetable: timetableData,\n                                        staffName: user.name\n                                    }),\n                                    /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                        style: {\n                                            marginTop: '20px',\n                                            display: 'flex',\n                                            gap: '10px',\n                                            justifyContent: 'center'\n                                        },\n                                        className: \"no-print\",\n                                        children: [\n                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"button\", {\n                                                className: \"btn btn-primary btn-sm\",\n                                                onClick: ()=>(0, $gqAsg.exportToPDF)('staff-timetable-export', `${user.name}_Timetable.pdf`),\n                                                children: \"\\uD83D\\uDCC4 Download PDF\"\n                                            }),\n                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"button\", {\n                                                className: \"btn btn-primary btn-sm\",\n                                                onClick: ()=>window.print(),\n                                                children: \"\\uD83D\\uDDA8\\uFE0F Print\"\n                                            })\n                                        ]\n                                    })\n                                ]\n                            })\n                        })\n                    ]\n                })\n            })\n        ]\n    });\n}\n\n});\nparcelRegister(\"hyYFF\", function(module, exports) {\n\n$parcel$export(module.exports, \"default\", () => $81aa4954b90786d4$export$2e2bcd8739ae039);\n\nvar $ayMG0 = parcelRequire(\"ayMG0\");\nparcelRequire(\"acw62\");\nfunction $81aa4954b90786d4$export$2e2bcd8739ae039({ timetable: timetable, staffName: staffName }) {\n    const days = [\n        'Monday',\n        'Tuesday',\n        'Wednesday',\n        'Thursday',\n        'Friday'\n    ];\n    const periods = [\n        'P1',\n        'P2',\n        'P3',\n        'P4',\n        'P5',\n        'P6'\n    ];\n    const staffSchedule = timetable[staffName];\n    console.log('StaffTimetableGrid - Staff:', staffName);\n    console.log('StaffTimetableGrid - Available:', Object.keys(timetable));\n    if (!staffSchedule) return /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n        style: {\n            padding: '40px',\n            textAlign: 'center'\n        },\n        children: [\n            /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                style: {\n                    fontSize: '48px',\n                    marginBottom: '20px'\n                },\n                children: \"\\u26A0\\uFE0F\"\n            }),\n            /*#__PURE__*/ (0, $ayMG0.jsx)(\"h3\", {\n                children: \"No Timetable Found\"\n            }),\n            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"p\", {\n                style: {\n                    color: '#64748b'\n                },\n                children: [\n                    'No timetable for \"',\n                    staffName,\n                    '\"'\n                ]\n            }),\n            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"p\", {\n                style: {\n                    color: '#64748b',\n                    fontSize: '14px'\n                },\n                children: [\n                    \"Available: \",\n                    Object.keys(timetable).join(', ')\n                ]\n            })\n        ]\n    });\n    return /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n        className: \"timetable-container\",\n        id: \"staff-timetable-export\",\n        children: /*#__PURE__*/ (0, $ayMG0.jsxs)(\"table\", {\n            className: \"timetable\",\n            children: [\n                /*#__PURE__*/ (0, $ayMG0.jsx)(\"thead\", {\n                    children: /*#__PURE__*/ (0, $ayMG0.jsxs)(\"tr\", {\n                        children: [\n                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"th\", {\n                                className: \"day-header\",\n                                children: \"DAY/PERIOD\"\n                            }),\n                            periods.map((p)=>/*#__PURE__*/ (0, $ayMG0.jsx)(\"th\", {\n                                    className: \"period-header\",\n                                    children: p\n                                }, p))\n                        ]\n                    })\n                }),\n                /*#__PURE__*/ (0, $ayMG0.jsx)(\"tbody\", {\n                    children: days.map((day, dayIdx)=>/*#__PURE__*/ (0, $ayMG0.jsxs)(\"tr\", {\n                            children: [\n                                /*#__PURE__*/ (0, $ayMG0.jsx)(\"td\", {\n                                    className: \"day-cell\",\n                                    children: day\n                                }),\n                                periods.map((period, periodIdx)=>{\n                                    const slot = staffSchedule[dayIdx]?.[periodIdx];\n                                    const isFree = !slot || slot.type === 'free' || slot.subject === 'FREE';\n                                    return /*#__PURE__*/ (0, $ayMG0.jsx)(\"td\", {\n                                        className: `period-cell ${isFree ? 'free-period' : 'class-period'}`,\n                                        children: isFree ? /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                                            className: \"period-content free\",\n                                            children: /*#__PURE__*/ (0, $ayMG0.jsx)(\"span\", {\n                                                className: \"subject-name\",\n                                                children: \"FREE\"\n                                            })\n                                        }) : /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                            className: \"period-content\",\n                                            children: [\n                                                /*#__PURE__*/ (0, $ayMG0.jsx)(\"span\", {\n                                                    className: \"subject-name\",\n                                                    children: slot.subject\n                                                }),\n                                                /*#__PURE__*/ (0, $ayMG0.jsx)(\"span\", {\n                                                    className: \"class-name\",\n                                                    children: slot.class\n                                                })\n                                            ]\n                                        })\n                                    }, period);\n                                })\n                            ]\n                        }, day))\n                })\n            ]\n        })\n    });\n}\n\n});\n\n\n\n//# sourceMappingURL=StaffDashboard.5b7de4ba.js.map\n","import React, { useState, useEffect } from 'react';\r\nimport AnimatedBackground from './AnimatedBackground';\r\nimport StaffTimetableGrid from './StaffTimetableGrid';\r\nimport { exportToPDF } from '../utils/pdfUtils';\r\nimport { db } from '../utils/firebase';\r\nimport { collection, getDocs } from 'firebase/firestore';\r\n\r\nexport default function StaffDashboard({ user, onLogout }) {\r\n    const [timetableData, setTimetableData] = useState(null);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        const fetchTimetable = async () => {\r\n            try {\r\n                const ttSnap = await getDocs(collection(db, 'timetable'));\r\n\r\n                if (!ttSnap.empty) {\r\n                    const ttData = ttSnap.docs[0].data();\r\n                    const staffTimetables = {};\r\n\r\n                    if (ttData.staffTimetables) {\r\n                        Object.keys(ttData.staffTimetables).forEach(staffName => {\r\n                            const slots = ttData.staffTimetables[staffName];\r\n                            const days = [[], [], [], [], []];\r\n\r\n                            slots.forEach(slot => {\r\n                                if (slot && typeof slot.day === 'number' && typeof slot.period === 'number') {\r\n                                    if (!days[slot.day]) days[slot.day] = [];\r\n                                    days[slot.day][slot.period] = {\r\n                                        subject: slot.subject,\r\n                                        class: slot.class,\r\n                                        type: slot.type\r\n                                    };\r\n                                }\r\n                            });\r\n\r\n                            days.forEach((day, idx) => {\r\n                                if (!days[idx]) days[idx] = [];\r\n                                for (let p = 0; p < 6; p++) {\r\n                                    if (!days[idx][p]) {\r\n                                        days[idx][p] = { subject: 'FREE', class: '-', type: 'free' };\r\n                                    }\r\n                                }\r\n                            });\r\n\r\n                            staffTimetables[staffName] = days;\r\n                        });\r\n                    }\r\n\r\n                    setTimetableData(staffTimetables);\r\n                }\r\n            } catch (error) {\r\n                console.error('Error fetching timetable:', error);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        fetchTimetable();\r\n    }, [user]);\r\n\r\n    if (loading) {\r\n        return (\r\n            <>\r\n                <AnimatedBackground />\r\n                <div style={{display: 'flex', justifyContent: 'center', alignItems: 'center', minHeight: '100vh'}}>\r\n                    <div style={{textAlign: 'center'}}>\r\n                        <div style={{fontSize: '48px', marginBottom: '20px'}}>‚è≥</div>\r\n                        <h2>Loading...</h2>\r\n                    </div>\r\n                </div>\r\n            </>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <AnimatedBackground />\r\n            <div className=\"header\">\r\n                <div className=\"header-content\">\r\n                    <h1>üìò Staff Dashboard</h1>\r\n\r\n                    {user && user.name && (\r\n                        <span className=\"greeting\">üëã Welcome, {user.name}</span>\r\n                    )}\r\n\r\n                    <div className=\"header-actions\">\r\n                        <button className=\"btn btn-danger btn-sm\" onClick={onLogout}>Logout</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"content\">\r\n                <div className=\"section\">\r\n                    <div className=\"section-header\">\r\n                        <span className=\"section-icon\">üìÖ</span>\r\n                        <h2 className=\"section-title\">My Timetable</h2>\r\n                    </div>\r\n\r\n                    <div className=\"card\">\r\n                        {!user || !user.name ? (\r\n                            <div style={{padding: '60px 20px', textAlign: 'center'}}>\r\n                                <div style={{fontSize: '60px', marginBottom: '20px'}}>‚ö†Ô∏è</div>\r\n                                <h3>User Information Missing</h3>\r\n                                <p style={{color: '#64748b'}}>Please logout and login again</p>\r\n                            </div>\r\n                        ) : !timetableData || Object.keys(timetableData).length === 0 ? (\r\n                            <div style={{padding: '60px 20px', textAlign: 'center'}}>\r\n                                <div style={{fontSize: '60px', marginBottom: '20px'}}>üìã</div>\r\n                                <h3>No Timetable Generated</h3>\r\n                                <p style={{color: '#64748b'}}>Contact administrator to generate timetable</p>\r\n                            </div>\r\n                        ) : (\r\n                            <>\r\n                                <div className=\"timetable-info\">\r\n                                    <h3>üìä Your Weekly Schedule</h3>\r\n                                    <p>Your teaching timetable for the week</p>\r\n                                </div>\r\n\r\n                                <StaffTimetableGrid \r\n                                    timetable={timetableData} \r\n                                    staffName={user.name} \r\n                                />\r\n\r\n                                <div style={{marginTop: '20px', display: 'flex', gap: '10px', justifyContent: 'center'}} className=\"no-print\">\r\n                                    <button \r\n                                        className=\"btn btn-primary btn-sm\"\r\n                                        onClick={() => exportToPDF('staff-timetable-export', `${user.name}_Timetable.pdf`)}\r\n                                    >\r\n                                        üìÑ Download PDF\r\n                                    </button>\r\n                                    <button \r\n                                        className=\"btn btn-primary btn-sm\"\r\n                                        onClick={() => window.print()}\r\n                                    >\r\n                                        üñ®Ô∏è Print\r\n                                    </button>\r\n                                </div>\r\n                            </>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\n\r\n    ","import React from 'react';\r\n\r\nexport default function StaffTimetableGrid({ timetable, staffName }) {\r\n    const days = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday'];\r\n    const periods = ['P1', 'P2', 'P3', 'P4', 'P5', 'P6'];\r\n\r\n    const staffSchedule = timetable[staffName];\r\n\r\n    console.log('StaffTimetableGrid - Staff:', staffName);\r\n    console.log('StaffTimetableGrid - Available:', Object.keys(timetable));\r\n\r\n    if (!staffSchedule) {\r\n        return (\r\n            <div style={{ padding: '40px', textAlign: 'center' }}>\r\n                <div style={{ fontSize: '48px', marginBottom: '20px' }}>‚ö†Ô∏è</div>\r\n                <h3>No Timetable Found</h3>\r\n                <p style={{color: '#64748b'}}>No timetable for \"{staffName}\"</p>\r\n                <p style={{color: '#64748b', fontSize: '14px'}}>Available: {Object.keys(timetable).join(', ')}</p>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"timetable-container\" id=\"staff-timetable-export\">\r\n            <table className=\"timetable\">\r\n                <thead>\r\n                    <tr>\r\n                        <th className=\"day-header\">DAY/PERIOD</th>\r\n                        {periods.map(p => <th key={p} className=\"period-header\">{p}</th>)}\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {days.map((day, dayIdx) => (\r\n                        <tr key={day}>\r\n                            <td className=\"day-cell\">{day}</td>\r\n                            {periods.map((period, periodIdx) => {\r\n                                const slot = staffSchedule[dayIdx]?.[periodIdx];\r\n                                const isFree = !slot || slot.type === 'free' || slot.subject === 'FREE';\r\n\r\n                                return (\r\n                                    <td key={period} className={`period-cell ${isFree ? 'free-period' : 'class-period'}`}>\r\n                                        {isFree ? (\r\n                                            <div className=\"period-content free\">\r\n                                                <span className=\"subject-name\">FREE</span>\r\n                                            </div>\r\n                                        ) : (\r\n                                            <div className=\"period-content\">\r\n                                                <span className=\"subject-name\">{slot.subject}</span>\r\n                                                <span className=\"class-name\">{slot.class}</span>\r\n                                            </div>\r\n                                        )}\r\n                                    </td>\r\n                                );\r\n                            })}\r\n                        </tr>\r\n                    ))}\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    );\r\n}"],"names":["$parcel$export","e","n","v","s","Object","defineProperty","get","set","enumerable","configurable","parcelRequire","$parcel$global","globalThis","parcelRegister","register","module","exports","value","$c55c51dd2de99fec$export$2e2bcd8739ae039","$ayMG0","$acw62","$aOD4d","$hyYFF","$gqAsg","$fAZ67","$ilpIi","user","onLogout","timetableData","setTimetableData","useState","loading","setLoading","useEffect","fetchTimetable","ttSnap","getDocs","collection","db","empty","ttData","docs","data","staffTimetables","keys","forEach","staffName","slots","days","slot","day","period","subject","class","type","idx","p","error","console","jsxs","Fragment","children","jsx","default","style","display","justifyContent","alignItems","minHeight","textAlign","fontSize","marginBottom","className","name","onClick","length","timetable","marginTop","gap","exportToPDF","window","print","padding","color","$81aa4954b90786d4$export$2e2bcd8739ae039","periods","staffSchedule","log","id","map","dayIdx","periodIdx","isFree","join"],"version":3,"file":"StaffDashboard.5b7de4ba.js.map"}
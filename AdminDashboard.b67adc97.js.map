{"mappings":"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","sources":["<anon>","src/components/AdminDashboard.jsx","src/components/Toast.jsx","src/components/HoursTracker.jsx","src/components/timetableGrid.jsx","src/components/StaffTimetableGrid.jsx","src/utils/timetableGenerator.jsx"],"sourcesContent":["\nfunction $parcel$defineInteropFlag(a) {\n  Object.defineProperty(a, '__esModule', {value: true, configurable: true});\n}\n\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\n\nfunction $parcel$interopDefault(a) {\n  return a && a.__esModule ? a.default : a;\n}\n\n      var $parcel$global = globalThis;\n    var parcelRequire = $parcel$global[\"parcelRequire3f2f\"];\nvar parcelRegister = parcelRequire.register;\nparcelRegister(\"dXtBz\", function(module, exports) {\n\n$parcel$defineInteropFlag(module.exports);\n\n$parcel$export(module.exports, \"default\", () => $9b678cdbbac6dec2$export$2e2bcd8739ae039);\n\nvar $ayMG0 = parcelRequire(\"ayMG0\");\n\nvar $acw62 = parcelRequire(\"acw62\");\n\nvar $aOD4d = parcelRequire(\"aOD4d\");\n\nvar $2A5UH = parcelRequire(\"2A5UH\");\n\nvar $4XiCD = parcelRequire(\"4XiCD\");\n\nvar $e3nvF = parcelRequire(\"e3nvF\");\n\nvar $hyYFF = parcelRequire(\"hyYFF\");\n\nvar $gqAsg = parcelRequire(\"gqAsg\");\n\nvar $bU9CP = parcelRequire(\"bU9CP\");\n\nvar $fAZ67 = parcelRequire(\"fAZ67\");\n\nvar $6AR8M = parcelRequire(\"6AR8M\");\n\nvar $ilpIi = parcelRequire(\"ilpIi\");\nfunction $9b678cdbbac6dec2$export$2e2bcd8739ae039({ user: user, onLogout: onLogout }) {\n    const [classes, setClasses] = (0, $acw62.useState)([]);\n    const [staff, setStaff] = (0, $acw62.useState)([]);\n    const [subjects, setSubjects] = (0, $acw62.useState)([]);\n    const [timetable, setTimetable] = (0, $acw62.useState)(null);\n    const [toasts, setToasts] = (0, $acw62.useState)([]);\n    const [loading, setLoading] = (0, $acw62.useState)(true);\n    // Refs for scrolling\n    const staffFormRef = (0, $acw62.useRef)(null);\n    const subjectFormRef = (0, $acw62.useRef)(null);\n    // Form Models - FIX 3: Added hallNumber for classes\n    const [newClass, setNewClass] = (0, $acw62.useState)({\n        name: '',\n        hallNumber: ''\n    });\n    const [newStaff, setNewStaff] = (0, $acw62.useState)({\n        id: null,\n        name: '',\n        username: '',\n        password: '',\n        freePeriodMode: 'auto',\n        manualFreePeriods: 0\n    });\n    const [newSubject, setNewSubject] = (0, $acw62.useState)({\n        id: null,\n        className: '',\n        name: '',\n        subjectType: 'Core',\n        hoursPerWeek: 6,\n        isContinuous: false,\n        blockSize: 2,\n        teacher: ''\n    });\n    const teachers = staff.filter((s)=>s.role === \"staff\");\n    // FIX 7: Toast duration reduced to 3 seconds\n    const showToast = (message, type)=>{\n        const newToast = {\n            message: message,\n            type: type,\n            id: Date.now()\n        };\n        setToasts((prev)=>[\n                ...prev,\n                newToast\n            ]);\n        setTimeout(()=>removeToast(newToast.id), 3000);\n    };\n    const removeToast = (id)=>{\n        setToasts((prev)=>prev.filter((t)=>t.id !== id));\n    };\n    // Helper function to convert Firebase flat format to nested arrays\n    const convertFlatToNested = (flatTimetable)=>{\n        if (!flatTimetable) return null;\n        const nested = {};\n        Object.keys(flatTimetable).forEach((key)=>{\n            const slots = flatTimetable[key];\n            // Check if already nested (array of arrays)\n            if (Array.isArray(slots) && slots.length > 0 && Array.isArray(slots[0])) // Already nested format\n            nested[key] = slots;\n            else if (Array.isArray(slots)) {\n                // Flat format - convert to nested\n                const days = [\n                    [],\n                    [],\n                    [],\n                    [],\n                    []\n                ]; // 5 days\n                slots.forEach((slot)=>{\n                    if (slot && typeof slot.day === 'number' && typeof slot.period === 'number') {\n                        if (!days[slot.day]) days[slot.day] = [];\n                        days[slot.day][slot.period] = {\n                            subject: slot.subject,\n                            teacher: slot.teacher,\n                            class: slot.class,\n                            type: slot.type\n                        };\n                    }\n                });\n                // Fill empty periods\n                days.forEach((day, idx)=>{\n                    if (!days[idx]) days[idx] = [];\n                    for(let p = 0; p < 6; p++)if (!days[idx][p]) // For class timetables, use null\n                    // For staff timetables, use FREE\n                    days[idx][p] = slots[0]?.class !== undefined ? {\n                        subject: 'FREE',\n                        class: '-',\n                        type: 'free'\n                    } : null;\n                });\n                nested[key] = days;\n            }\n        });\n        return nested;\n    };\n    // Now UPDATE your fetchData function to use this helper\n    // Find the section where you set timetable data and modify it:\n    const fetchData = async ()=>{\n        setLoading(true);\n        try {\n            const [cls, st, sb, tt] = await Promise.all([\n                (0, $ilpIi.getDocs)((0, $ilpIi.collection)((0, $fAZ67.db), 'classes')),\n                (0, $ilpIi.getDocs)((0, $ilpIi.collection)((0, $fAZ67.db), 'staff')),\n                (0, $ilpIi.getDocs)((0, $ilpIi.collection)((0, $fAZ67.db), 'subjects')),\n                (0, $ilpIi.getDocs)((0, $ilpIi.collection)((0, $fAZ67.db), 'timetable'))\n            ]);\n            setClasses(cls.docs.map((doc)=>({\n                    id: doc.id,\n                    ...doc.data()\n                })));\n            setStaff(st.docs.map((doc)=>({\n                    id: doc.id,\n                    ...doc.data()\n                })));\n            setSubjects(sb.docs.map((doc)=>({\n                    id: doc.id,\n                    ...doc.data()\n                })));\n            // FIX: Convert flat format from Firebase to nested arrays\n            if (!tt.empty) {\n                const ttData = tt.docs[0].data();\n                // Convert both class and staff timetables\n                const convertedData = {\n                    classTimetables: convertFlatToNested(ttData.classTimetables),\n                    staffTimetables: convertFlatToNested(ttData.staffTimetables)\n                };\n                setTimetable(convertedData);\n            }\n        } catch (error) {\n            showToast(\"\\u274C Error loading data: \" + error.message, 'error');\n            console.error(error);\n        }\n        setLoading(false);\n    };\n    // FIX 1: Faster loading - optimized data fetching\n    (0, $acw62.useEffect)(()=>{\n        const fetchAll = async ()=>{\n            try {\n                const [cls, st, sb, tt] = await Promise.all([\n                    (0, $ilpIi.getDocs)((0, $ilpIi.collection)((0, $fAZ67.db), 'classes')),\n                    (0, $ilpIi.getDocs)((0, $ilpIi.collection)((0, $fAZ67.db), 'staff')),\n                    (0, $ilpIi.getDocs)((0, $ilpIi.collection)((0, $fAZ67.db), 'subjects')),\n                    (0, $ilpIi.getDocs)((0, $ilpIi.collection)((0, $fAZ67.db), 'timetable'))\n                ]);\n                setClasses(cls.docs.map((doc)=>({\n                        id: doc.id,\n                        ...doc.data()\n                    })));\n                setStaff(st.docs.map((doc)=>({\n                        id: doc.id,\n                        ...doc.data()\n                    })));\n                setSubjects(sb.docs.map((doc)=>({\n                        id: doc.id,\n                        ...doc.data()\n                    })));\n                //  REPLACE WITH THIS - IT'S CORRECT:\n                if (!tt.empty) {\n                    const ttData = tt.docs[0].data();\n                    const convertedData = {\n                        classTimetables: convertFlatToNested(ttData.classTimetables),\n                        staffTimetables: convertFlatToNested(ttData.staffTimetables)\n                    };\n                    setTimetable(convertedData);\n                }\n            } catch (error) {\n                showToast(\"\\u274C Error: \" + error.message, 'error');\n            } finally{\n                setLoading(false);\n            }\n        };\n        fetchAll();\n    }, []);\n    // ------------------- CLASS CRUD - FIX 3: Added hallNumber & edit -------------------\n    const addClass = async ()=>{\n        if (!newClass.name) return showToast(\"Enter class name\", \"error\");\n        if (classes.find((c)=>c.name === newClass.name && !newClass.id)) return showToast(\"Class already exists\", \"error\");\n        try {\n            if (newClass.id) {\n                // Update existing\n                await (0, $ilpIi.updateDoc)((0, $ilpIi.doc)((0, $fAZ67.db), 'classes', newClass.id), {\n                    name: newClass.name,\n                    hallNumber: newClass.hallNumber\n                });\n                setClasses(classes.map((c)=>c.id === newClass.id ? {\n                        ...newClass\n                    } : c));\n                showToast(\"\\u2705 Class updated!\", \"success\");\n            } else {\n                // Add new\n                const docRef = await (0, $ilpIi.addDoc)((0, $ilpIi.collection)((0, $fAZ67.db), 'classes'), {\n                    name: newClass.name,\n                    hallNumber: newClass.hallNumber || ''\n                });\n                setClasses([\n                    ...classes,\n                    {\n                        id: docRef.id,\n                        name: newClass.name,\n                        hallNumber: newClass.hallNumber || ''\n                    }\n                ]);\n                showToast(\"\\u2705 Class added!\", \"success\");\n            }\n            setNewClass({\n                name: '',\n                hallNumber: ''\n            });\n        } catch (error) {\n            showToast(\"\\u274C Operation failed\", \"error\");\n        }\n    };\n    const editClass = (cls)=>{\n        setNewClass({\n            id: cls.id,\n            name: cls.name,\n            hallNumber: cls.hallNumber || ''\n        });\n    };\n    const deleteClass = async (id)=>{\n        if (!window.confirm(\"Delete this class?\")) return;\n        try {\n            await (0, $ilpIi.deleteDoc)((0, $ilpIi.doc)((0, $fAZ67.db), 'classes', id));\n            setClasses(classes.filter((c)=>c.id !== id));\n            showToast(\"\\u2705 Class deleted\", \"success\");\n        } catch (error) {\n            showToast(\"\\u274C Failed to delete\", \"error\");\n        }\n    };\n    // ------------------- STAFF CRUD - FIX 4: Scroll to form -------------------\n    const addOrUpdateStaff = async ()=>{\n        if (!newStaff.name || !newStaff.username) return showToast(\"Fill all required fields\", \"error\");\n        try {\n            if (newStaff.id) {\n                const { password: password, ...updateData } = newStaff;\n                await (0, $ilpIi.updateDoc)((0, $ilpIi.doc)((0, $fAZ67.db), 'staff', newStaff.id), updateData);\n                setStaff(staff.map((s)=>s.id === newStaff.id ? {\n                        ...s,\n                        ...updateData\n                    } : s));\n                resetStaffForm();\n                return showToast(\"\\u2705 Staff updated!\", \"success\");\n            }\n            if (!newStaff.password) return showToast(\"Password required\", \"error\");\n            const email = `${newStaff.username}@timetable.com`;\n            const userCredential = await (0, $6AR8M.createUserWithEmailAndPassword)((0, $fAZ67.auth), email, newStaff.password);\n            const uid = userCredential.user.uid;\n            const staffData = {\n                name: newStaff.name,\n                username: newStaff.username,\n                freePeriodMode: newStaff.freePeriodMode,\n                manualFreePeriods: newStaff.manualFreePeriods,\n                role: \"staff\",\n                firebaseUid: uid\n            };\n            const docRef = await (0, $ilpIi.addDoc)((0, $ilpIi.collection)((0, $fAZ67.db), 'staff'), staffData);\n            await (0, $ilpIi.setDoc)((0, $ilpIi.doc)((0, $fAZ67.db), 'users', uid), {\n                fullName: newStaff.name,\n                username: newStaff.username,\n                role: 'staff'\n            });\n            setStaff([\n                ...staff,\n                {\n                    id: docRef.id,\n                    ...staffData\n                }\n            ]);\n            resetStaffForm();\n            showToast(\"\\u2705 Staff added!\", \"success\");\n        } catch (error) {\n            showToast(\"\\u274C Operation failed: \" + error.message, \"error\");\n        }\n    };\n    const editStaff = (staffMember)=>{\n        setNewStaff({\n            ...staffMember,\n            password: ''\n        });\n        setTimeout(()=>{\n            staffFormRef.current?.scrollIntoView({\n                behavior: 'smooth',\n                block: 'center'\n            });\n        }, 100);\n    };\n    const resetStaffForm = ()=>{\n        setNewStaff({\n            id: null,\n            name: '',\n            username: '',\n            password: '',\n            freePeriodMode: 'auto',\n            manualFreePeriods: 0\n        });\n    };\n    const deleteStaff = async (id)=>{\n        if (!window.confirm(\"Delete this staff member?\")) return;\n        try {\n            await (0, $ilpIi.deleteDoc)((0, $ilpIi.doc)((0, $fAZ67.db), 'staff', id));\n            setStaff(staff.filter((x)=>x.id !== id));\n            showToast(\"\\u2705 Staff deleted\", \"success\");\n        } catch (error) {\n            showToast(\"\\u274C Failed to delete\", \"error\");\n        }\n    };\n    // ------------------- SUBJECT CRUD - FIX 5: Fixed edit/delete, scroll -------------------\n    const addOrUpdateSubject = async ()=>{\n        if (!newSubject.className || !newSubject.name || !newSubject.teacher) return showToast(\"Fill all required fields\", \"error\");\n        try {\n            const subjectData = {\n                className: newSubject.className,\n                name: newSubject.name,\n                subjectType: newSubject.subjectType,\n                hoursPerWeek: newSubject.hoursPerWeek,\n                isContinuous: newSubject.isContinuous,\n                blockSize: newSubject.blockSize,\n                teacher: newSubject.teacher\n            };\n            if (newSubject.id) {\n                await (0, $ilpIi.updateDoc)((0, $ilpIi.doc)((0, $fAZ67.db), 'subjects', newSubject.id), subjectData);\n                setSubjects(subjects.map((s)=>s.id === newSubject.id ? {\n                        id: newSubject.id,\n                        ...subjectData\n                    } : s));\n                showToast(\"\\u2705 Subject updated!\", \"success\");\n            } else {\n                const docRef = await (0, $ilpIi.addDoc)((0, $ilpIi.collection)((0, $fAZ67.db), 'subjects'), subjectData);\n                setSubjects([\n                    ...subjects,\n                    {\n                        id: docRef.id,\n                        ...subjectData\n                    }\n                ]);\n                showToast(\"\\u2705 Subject added!\", \"success\");\n            }\n            resetSubjectForm();\n        } catch (error) {\n            showToast(\"\\u274C Operation failed\", \"error\");\n            console.error(error);\n        }\n    };\n    const editSubject = (subject)=>{\n        setNewSubject({\n            id: subject.id,\n            className: subject.className,\n            name: subject.name,\n            subjectType: subject.subjectType,\n            hoursPerWeek: subject.hoursPerWeek,\n            isContinuous: subject.isContinuous || false,\n            blockSize: subject.blockSize || 2,\n            teacher: subject.teacher\n        });\n        setTimeout(()=>{\n            subjectFormRef.current?.scrollIntoView({\n                behavior: 'smooth',\n                block: 'center'\n            });\n        }, 100);\n    };\n    const resetSubjectForm = ()=>{\n        setNewSubject({\n            id: null,\n            className: '',\n            name: '',\n            subjectType: 'Core',\n            hoursPerWeek: 6,\n            isContinuous: false,\n            blockSize: 2,\n            teacher: ''\n        });\n    };\n    const deleteSubject = async (id)=>{\n        if (!window.confirm(\"Delete this subject?\")) return;\n        try {\n            await (0, $ilpIi.deleteDoc)((0, $ilpIi.doc)((0, $fAZ67.db), 'subjects', id));\n            setSubjects(subjects.filter((s)=>s.id !== id));\n            showToast(\"\\u2705 Subject deleted\", \"success\");\n        } catch (error) {\n            showToast(\"\\u274C Failed to delete\", \"error\");\n        }\n    };\n    // ------------------- TIMETABLE GENERATION - FIX 6: Save to staff -------------------\n    const generateTimetable = async ()=>{\n        setLoading(true);\n        try {\n            const generator = new (0, $bU9CP.TimetableGenerator)(classes, staff.filter((s)=>s.role === 'staff'), subjects);\n            const validation = generator.validate();\n            if (!validation.valid) {\n                showToast(\"\\u274C Validation: \" + validation.errors[0], 'error');\n                setLoading(false);\n                return;\n            }\n            const result = generator.generate();\n            if (result.success) {\n                // Convert nested arrays to Firebase-friendly format\n                const serializableClassTimetables = {};\n                const serializableStaffTimetables = {};\n                // Flatten class timetables\n                Object.keys(result.classTimetables).forEach((className)=>{\n                    serializableClassTimetables[className] = result.classTimetables[className].map((day, dayIndex)=>{\n                        return day.map((period, periodIndex)=>({\n                                day: dayIndex,\n                                period: periodIndex,\n                                subject: period?.subject || null,\n                                teacher: period?.teacher || null,\n                                type: period?.type || null\n                            }));\n                    }).flat();\n                });\n                // Flatten staff timetables\n                Object.keys(result.staffTimetables).forEach((staffName)=>{\n                    serializableStaffTimetables[staffName] = result.staffTimetables[staffName].map((day, dayIndex)=>{\n                        return day.map((period, periodIndex)=>({\n                                day: dayIndex,\n                                period: periodIndex,\n                                subject: period?.subject || null,\n                                class: period?.class || null,\n                                type: period?.type || null\n                            }));\n                    }).flat();\n                });\n                const timetableData = {\n                    classTimetables: serializableClassTimetables,\n                    staffTimetables: serializableStaffTimetables,\n                    generatedAt: new Date().toISOString()\n                };\n                // Save to Firebase\n                const ttRef = (0, $ilpIi.collection)((0, $fAZ67.db), 'timetable');\n                const existing = await (0, $ilpIi.getDocs)(ttRef);\n                if (!existing.empty) await (0, $ilpIi.updateDoc)((0, $ilpIi.doc)((0, $fAZ67.db), 'timetable', existing.docs[0].id), timetableData);\n                else await (0, $ilpIi.addDoc)(ttRef, timetableData);\n                // Save individual staff timetables\n                const teachers = staff.filter((s)=>s.role === 'staff');\n                for (const teacher of teachers){\n                    const staffTT = serializableStaffTimetables[teacher.name];\n                    if (staffTT) await (0, $ilpIi.setDoc)((0, $ilpIi.doc)((0, $fAZ67.db), 'staffTimetables', teacher.id), {\n                        staffName: teacher.name,\n                        timetable: staffTT,\n                        generatedAt: new Date().toISOString()\n                    });\n                }\n                // Convert back to nested arrays for display\n                const displayClassTimetables = {};\n                Object.keys(serializableClassTimetables).forEach((className)=>{\n                    const days = [\n                        [],\n                        [],\n                        [],\n                        [],\n                        []\n                    ];\n                    serializableClassTimetables[className].forEach((slot)=>{\n                        if (!days[slot.day]) days[slot.day] = [];\n                        days[slot.day][slot.period] = {\n                            subject: slot.subject,\n                            teacher: slot.teacher,\n                            type: slot.type\n                        };\n                    });\n                    // Fill empty periods with null\n                    days.forEach((day, idx)=>{\n                        if (!days[idx]) days[idx] = [];\n                        for(let p = 0; p < 6; p++)if (!days[idx][p]) days[idx][p] = null;\n                    });\n                    displayClassTimetables[className] = days;\n                });\n                const displayStaffTimetables = {};\n                Object.keys(serializableStaffTimetables).forEach((staffName)=>{\n                    const days = [\n                        [],\n                        [],\n                        [],\n                        [],\n                        []\n                    ];\n                    serializableStaffTimetables[staffName].forEach((slot)=>{\n                        if (!days[slot.day]) days[slot.day] = [];\n                        days[slot.day][slot.period] = {\n                            subject: slot.subject,\n                            class: slot.class,\n                            type: slot.type\n                        };\n                    });\n                    // Fill empty periods with FREE\n                    days.forEach((day, idx)=>{\n                        if (!days[idx]) days[idx] = [];\n                        for(let p = 0; p < 6; p++)if (!days[idx][p]) days[idx][p] = {\n                            subject: 'FREE',\n                            class: '-',\n                            type: 'free'\n                        };\n                    });\n                    displayStaffTimetables[staffName] = days;\n                });\n                setTimetable({\n                    classTimetables: displayClassTimetables,\n                    staffTimetables: displayStaffTimetables\n                });\n                showToast(\"\\u2705 Timetable generated & saved!\", 'success');\n                setTimeout(()=>{\n                    document.getElementById('view-timetables')?.scrollIntoView({\n                        behavior: 'smooth'\n                    });\n                }, 1000);\n            } else showToast(\"\\u274C Failed: \" + result.error, 'error');\n        } catch (error) {\n            showToast(\"\\u274C Error: \" + error.message, 'error');\n            console.error(error);\n        }\n        setLoading(false);\n    };\n    if (loading) return /*#__PURE__*/ (0, $ayMG0.jsxs)((0, $ayMG0.Fragment), {\n        children: [\n            /*#__PURE__*/ (0, $ayMG0.jsx)((0, $aOD4d.default), {}),\n            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                style: {\n                    display: 'flex',\n                    flexDirection: 'column',\n                    justifyContent: 'center',\n                    alignItems: 'center',\n                    height: '100vh',\n                    color: 'white',\n                    fontSize: '24px',\n                    gap: '20px'\n                },\n                children: [\n                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                        className: \"spinner\"\n                    }),\n                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                        children: \"Loading...\"\n                    })\n                ]\n            })\n        ]\n    });\n    return /*#__PURE__*/ (0, $ayMG0.jsxs)((0, $ayMG0.Fragment), {\n        children: [\n            /*#__PURE__*/ (0, $ayMG0.jsx)((0, $aOD4d.default), {}),\n            /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                className: \"header\",\n                children: /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                    className: \"header-content\",\n                    children: [\n                        /*#__PURE__*/ (0, $ayMG0.jsx)(\"h1\", {\n                            children: \"\\uD83C\\uDFEB Admin Dashboard\"\n                        }),\n                        /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                            className: \"header-actions\",\n                            children: [\n                                /*#__PURE__*/ (0, $ayMG0.jsx)(\"button\", {\n                                    className: \"theme-toggle\",\n                                    children: \"\\uD83C\\uDF19\"\n                                }),\n                                /*#__PURE__*/ (0, $ayMG0.jsx)(\"button\", {\n                                    className: \"btn btn-danger btn-sm\",\n                                    onClick: onLogout,\n                                    children: \"Logout\"\n                                })\n                            ]\n                        })\n                    ]\n                })\n            }),\n            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                className: \"content\",\n                children: [\n                    /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                        className: \"section\",\n                        children: [\n                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                className: \"section-header\",\n                                children: [\n                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"span\", {\n                                        className: \"section-icon\",\n                                        children: \"\\uD83D\\uDCDA\"\n                                    }),\n                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"h2\", {\n                                        className: \"section-title\",\n                                        children: \"Manage Classes\"\n                                    })\n                                ]\n                            }),\n                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                className: \"card\",\n                                children: [\n                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"h3\", {\n                                        children: newClass.id ? \"\\u270F\\uFE0F Edit Class\" : \"\\u2795 Add New Class\"\n                                    }),\n                                    /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                        className: \"grid-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                                className: \"form-group\",\n                                                children: [\n                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"label\", {\n                                                        children: \"Class Name *\"\n                                                    }),\n                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"input\", {\n                                                        type: \"text\",\n                                                        value: newClass.name,\n                                                        onChange: (e)=>setNewClass({\n                                                                ...newClass,\n                                                                name: e.target.value.toUpperCase()\n                                                            }),\n                                                        placeholder: \"CS3A, EE2B\"\n                                                    })\n                                                ]\n                                            }),\n                                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                                className: \"form-group\",\n                                                children: [\n                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"label\", {\n                                                        children: \"Hall Number (Optional)\"\n                                                    }),\n                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"input\", {\n                                                        type: \"text\",\n                                                        value: newClass.hallNumber,\n                                                        onChange: (e)=>setNewClass({\n                                                                ...newClass,\n                                                                hallNumber: e.target.value\n                                                            }),\n                                                        placeholder: \"Hall 101\"\n                                                    })\n                                                ]\n                                            })\n                                        ]\n                                    }),\n                                    /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                        style: {\n                                            display: 'flex',\n                                            gap: '10px'\n                                        },\n                                        children: [\n                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"button\", {\n                                                className: \"btn btn-primary\",\n                                                onClick: addClass,\n                                                children: newClass.id ? \"\\uD83D\\uDCBE Update Class\" : \"\\u2795 Add Class\"\n                                            }),\n                                            newClass.id && /*#__PURE__*/ (0, $ayMG0.jsx)(\"button\", {\n                                                className: \"btn btn-secondary\",\n                                                onClick: ()=>setNewClass({\n                                                        name: '',\n                                                        hallNumber: ''\n                                                    }),\n                                                children: \"\\u274C Cancel\"\n                                            })\n                                        ]\n                                    })\n                                ]\n                            }),\n                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                className: \"card\",\n                                children: [\n                                    /*#__PURE__*/ (0, $ayMG0.jsxs)(\"h3\", {\n                                        children: [\n                                            \"Existing Classes (\",\n                                            classes.length,\n                                            \")\"\n                                        ]\n                                    }),\n                                    classes.length === 0 ? /*#__PURE__*/ (0, $ayMG0.jsx)(\"p\", {\n                                        style: {\n                                            color: '#64748b',\n                                            textAlign: 'center',\n                                            padding: '20px'\n                                        },\n                                        children: \"No classes added yet\"\n                                    }) : /*#__PURE__*/ (0, $ayMG0.jsxs)((0, $ayMG0.Fragment), {\n                                        children: [\n                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                                                className: \"desktop-table\",\n                                                children: /*#__PURE__*/ (0, $ayMG0.jsxs)(\"table\", {\n                                                    children: [\n                                                        /*#__PURE__*/ (0, $ayMG0.jsx)(\"thead\", {\n                                                            children: /*#__PURE__*/ (0, $ayMG0.jsxs)(\"tr\", {\n                                                                children: [\n                                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"th\", {\n                                                                        children: \"#\"\n                                                                    }),\n                                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"th\", {\n                                                                        children: \"Class Name\"\n                                                                    }),\n                                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"th\", {\n                                                                        children: \"Hall Number\"\n                                                                    }),\n                                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"th\", {\n                                                                        children: \"Subjects\"\n                                                                    }),\n                                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"th\", {\n                                                                        children: \"Hours\"\n                                                                    }),\n                                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"th\", {\n                                                                        children: \"Actions\"\n                                                                    })\n                                                                ]\n                                                            })\n                                                        }),\n                                                        /*#__PURE__*/ (0, $ayMG0.jsx)(\"tbody\", {\n                                                            children: classes.map((cls, idx)=>{\n                                                                const classSubjects = subjects.filter((s)=>s.className === cls.name);\n                                                                const totalHours = classSubjects.reduce((sum, s)=>sum + s.hoursPerWeek, 0);\n                                                                return /*#__PURE__*/ (0, $ayMG0.jsxs)(\"tr\", {\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0, $ayMG0.jsx)(\"td\", {\n                                                                            children: idx + 1\n                                                                        }),\n                                                                        /*#__PURE__*/ (0, $ayMG0.jsx)(\"td\", {\n                                                                            children: /*#__PURE__*/ (0, $ayMG0.jsx)(\"strong\", {\n                                                                                children: cls.name\n                                                                            })\n                                                                        }),\n                                                                        /*#__PURE__*/ (0, $ayMG0.jsx)(\"td\", {\n                                                                            children: cls.hallNumber || '-'\n                                                                        }),\n                                                                        /*#__PURE__*/ (0, $ayMG0.jsx)(\"td\", {\n                                                                            children: classSubjects.length\n                                                                        }),\n                                                                        /*#__PURE__*/ (0, $ayMG0.jsx)(\"td\", {\n                                                                            children: /*#__PURE__*/ (0, $ayMG0.jsxs)(\"span\", {\n                                                                                className: `badge ${totalHours === 30 ? 'badge-success' : 'badge-danger'}`,\n                                                                                children: [\n                                                                                    totalHours,\n                                                                                    \"/30h\"\n                                                                                ]\n                                                                            })\n                                                                        }),\n                                                                        /*#__PURE__*/ (0, $ayMG0.jsx)(\"td\", {\n                                                                            children: /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                                                                className: \"action-buttons\",\n                                                                                children: [\n                                                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"button\", {\n                                                                                        className: \"btn-icon btn-icon-primary\",\n                                                                                        onClick: ()=>editClass(cls),\n                                                                                        title: \"Edit\",\n                                                                                        children: \"\\u270F\\uFE0F\"\n                                                                                    }),\n                                                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"button\", {\n                                                                                        className: \"btn-icon btn-icon-danger\",\n                                                                                        onClick: ()=>deleteClass(cls.id),\n                                                                                        title: \"Delete\",\n                                                                                        children: \"\\uD83D\\uDDD1\\uFE0F\"\n                                                                                    })\n                                                                                ]\n                                                                            })\n                                                                        })\n                                                                    ]\n                                                                }, cls.id);\n                                                            })\n                                                        })\n                                                    ]\n                                                })\n                                            }),\n                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                                                className: \"mobile-cards\",\n                                                children: classes.map((cls, idx)=>{\n                                                    const classSubjects = subjects.filter((s)=>s.className === cls.name);\n                                                    const totalHours = classSubjects.reduce((sum, s)=>sum + s.hoursPerWeek, 0);\n                                                    return /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                                        className: \"mobile-card\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                                                className: \"mobile-card-header\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"span\", {\n                                                                        className: \"mobile-card-title\",\n                                                                        children: cls.name\n                                                                    }),\n                                                                    /*#__PURE__*/ (0, $ayMG0.jsxs)(\"span\", {\n                                                                        className: \"mobile-card-badge\",\n                                                                        children: [\n                                                                            \"#\",\n                                                                            idx + 1\n                                                                        ]\n                                                                    })\n                                                                ]\n                                                            }),\n                                                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                                                className: \"mobile-card-body\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                                                        className: \"mobile-card-row\",\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"span\", {\n                                                                                className: \"mobile-card-label\",\n                                                                                children: \"Hall:\"\n                                                                            }),\n                                                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"span\", {\n                                                                                className: \"mobile-card-value\",\n                                                                                children: cls.hallNumber || '-'\n                                                                            })\n                                                                        ]\n                                                                    }),\n                                                                    /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                                                        className: \"mobile-card-row\",\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"span\", {\n                                                                                className: \"mobile-card-label\",\n                                                                                children: \"Subjects:\"\n                                                                            }),\n                                                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"span\", {\n                                                                                className: \"mobile-card-value\",\n                                                                                children: classSubjects.length\n                                                                            })\n                                                                        ]\n                                                                    }),\n                                                                    /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                                                        className: \"mobile-card-row\",\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"span\", {\n                                                                                className: \"mobile-card-label\",\n                                                                                children: \"Hours:\"\n                                                                            }),\n                                                                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"span\", {\n                                                                                className: \"mobile-card-value\",\n                                                                                children: [\n                                                                                    totalHours,\n                                                                                    \"/30h\"\n                                                                                ]\n                                                                            })\n                                                                        ]\n                                                                    })\n                                                                ]\n                                                            }),\n                                                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                                                className: \"mobile-card-actions\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"button\", {\n                                                                        className: \"btn btn-primary btn-sm\",\n                                                                        onClick: ()=>editClass(cls),\n                                                                        children: \"\\u270F\\uFE0F Edit\"\n                                                                    }),\n                                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"button\", {\n                                                                        className: \"btn btn-danger btn-sm\",\n                                                                        onClick: ()=>deleteClass(cls.id),\n                                                                        children: \"\\uD83D\\uDDD1\\uFE0F Delete\"\n                                                                    })\n                                                                ]\n                                                            })\n                                                        ]\n                                                    }, cls.id);\n                                                })\n                                            })\n                                        ]\n                                    })\n                                ]\n                            })\n                        ]\n                    }),\n                    /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                        className: \"section\",\n                        children: [\n                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                className: \"section-header\",\n                                children: [\n                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"span\", {\n                                        className: \"section-icon\",\n                                        children: \"\\uD83D\\uDC65\"\n                                    }),\n                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"h2\", {\n                                        className: \"section-title\",\n                                        children: \"Manage Staff\"\n                                    })\n                                ]\n                            }),\n                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                className: \"card\",\n                                ref: staffFormRef,\n                                children: [\n                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"h3\", {\n                                        children: newStaff.id ? \"\\u270F\\uFE0F Edit Staff\" : \"\\u2795 Add New Staff\"\n                                    }),\n                                    /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                        className: \"grid-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                                className: \"form-group\",\n                                                children: [\n                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"label\", {\n                                                        children: \"Full Name *\"\n                                                    }),\n                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"input\", {\n                                                        type: \"text\",\n                                                        placeholder: \"Dr. John Doe\",\n                                                        value: newStaff.name,\n                                                        onChange: (e)=>setNewStaff({\n                                                                ...newStaff,\n                                                                name: e.target.value\n                                                            })\n                                                    })\n                                                ]\n                                            }),\n                                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                                className: \"form-group\",\n                                                children: [\n                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"label\", {\n                                                        children: \"Username *\"\n                                                    }),\n                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"input\", {\n                                                        type: \"text\",\n                                                        placeholder: \"john\",\n                                                        disabled: !!newStaff.id,\n                                                        value: newStaff.username,\n                                                        onChange: (e)=>setNewStaff({\n                                                                ...newStaff,\n                                                                username: e.target.value\n                                                            }),\n                                                        style: newStaff.id ? {\n                                                            background: '#f1f5f9',\n                                                            cursor: 'not-allowed'\n                                                        } : {}\n                                                    })\n                                                ]\n                                            }),\n                                            !newStaff.id && /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                                className: \"form-group\",\n                                                children: [\n                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"label\", {\n                                                        children: \"Password *\"\n                                                    }),\n                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"input\", {\n                                                        type: \"password\",\n                                                        placeholder: \"Password\",\n                                                        value: newStaff.password,\n                                                        onChange: (e)=>setNewStaff({\n                                                                ...newStaff,\n                                                                password: e.target.value\n                                                            })\n                                                    })\n                                                ]\n                                            }),\n                                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                                className: \"form-group\",\n                                                children: [\n                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"label\", {\n                                                        children: \"Free Period Mode\"\n                                                    }),\n                                                    /*#__PURE__*/ (0, $ayMG0.jsxs)(\"select\", {\n                                                        value: newStaff.freePeriodMode,\n                                                        onChange: (e)=>setNewStaff({\n                                                                ...newStaff,\n                                                                freePeriodMode: e.target.value\n                                                            }),\n                                                        children: [\n                                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"option\", {\n                                                                value: \"auto\",\n                                                                children: \"Auto\"\n                                                            }),\n                                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"option\", {\n                                                                value: \"manual\",\n                                                                children: \"Manual\"\n                                                            })\n                                                        ]\n                                                    })\n                                                ]\n                                            })\n                                        ]\n                                    }),\n                                    newStaff.freePeriodMode === 'manual' && /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                        className: \"form-group\",\n                                        children: [\n                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"label\", {\n                                                children: \"Free Periods per Week\"\n                                            }),\n                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"input\", {\n                                                type: \"number\",\n                                                min: \"0\",\n                                                max: \"30\",\n                                                value: newStaff.manualFreePeriods,\n                                                onChange: (e)=>setNewStaff({\n                                                        ...newStaff,\n                                                        manualFreePeriods: parseInt(e.target.value) || 0\n                                                    })\n                                            })\n                                        ]\n                                    }),\n                                    /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                        className: \"button-group\",\n                                        children: [\n                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"button\", {\n                                                className: \"btn btn-primary\",\n                                                onClick: addOrUpdateStaff,\n                                                children: newStaff.id ? \"\\uD83D\\uDCBE Save Changes\" : \"\\u2795 Add Staff\"\n                                            }),\n                                            newStaff.id && /*#__PURE__*/ (0, $ayMG0.jsx)(\"button\", {\n                                                className: \"btn btn-secondary\",\n                                                onClick: resetStaffForm,\n                                                children: \"\\u274C Cancel\"\n                                            })\n                                        ]\n                                    })\n                                ]\n                            }),\n                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                className: \"card\",\n                                children: [\n                                    /*#__PURE__*/ (0, $ayMG0.jsxs)(\"h3\", {\n                                        children: [\n                                            \"Existing Staff (\",\n                                            teachers.length,\n                                            \")\"\n                                        ]\n                                    }),\n                                    teachers.length === 0 ? /*#__PURE__*/ (0, $ayMG0.jsx)(\"p\", {\n                                        style: {\n                                            color: '#64748b',\n                                            textAlign: 'center',\n                                            padding: '20px'\n                                        },\n                                        children: \"No staff added yet\"\n                                    }) : /*#__PURE__*/ (0, $ayMG0.jsxs)((0, $ayMG0.Fragment), {\n                                        children: [\n                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                                                className: \"desktop-table\",\n                                                children: /*#__PURE__*/ (0, $ayMG0.jsxs)(\"table\", {\n                                                    children: [\n                                                        /*#__PURE__*/ (0, $ayMG0.jsx)(\"thead\", {\n                                                            children: /*#__PURE__*/ (0, $ayMG0.jsxs)(\"tr\", {\n                                                                children: [\n                                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"th\", {\n                                                                        children: \"S.No\"\n                                                                    }),\n                                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"th\", {\n                                                                        children: \"Name\"\n                                                                    }),\n                                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"th\", {\n                                                                        children: \"Username\"\n                                                                    }),\n                                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"th\", {\n                                                                        children: \"Mode\"\n                                                                    }),\n                                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"th\", {\n                                                                        children: \"Actions\"\n                                                                    })\n                                                                ]\n                                                            })\n                                                        }),\n                                                        /*#__PURE__*/ (0, $ayMG0.jsx)(\"tbody\", {\n                                                            children: teachers.map((s, idx)=>/*#__PURE__*/ (0, $ayMG0.jsxs)(\"tr\", {\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0, $ayMG0.jsx)(\"td\", {\n                                                                            children: /*#__PURE__*/ (0, $ayMG0.jsxs)(\"span\", {\n                                                                                className: \"staff-badge\",\n                                                                                children: [\n                                                                                    \"S\",\n                                                                                    idx + 1\n                                                                                ]\n                                                                            })\n                                                                        }),\n                                                                        /*#__PURE__*/ (0, $ayMG0.jsx)(\"td\", {\n                                                                            children: /*#__PURE__*/ (0, $ayMG0.jsx)(\"strong\", {\n                                                                                children: s.name\n                                                                            })\n                                                                        }),\n                                                                        /*#__PURE__*/ (0, $ayMG0.jsx)(\"td\", {\n                                                                            children: s.username\n                                                                        }),\n                                                                        /*#__PURE__*/ (0, $ayMG0.jsx)(\"td\", {\n                                                                            children: s.freePeriodMode === 'manual' ? `Manual (${s.manualFreePeriods})` : 'Auto'\n                                                                        }),\n                                                                        /*#__PURE__*/ (0, $ayMG0.jsx)(\"td\", {\n                                                                            children: /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                                                                className: \"action-buttons\",\n                                                                                children: [\n                                                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"button\", {\n                                                                                        className: \"btn-icon btn-icon-primary\",\n                                                                                        onClick: ()=>editStaff(s),\n                                                                                        title: \"Edit\",\n                                                                                        children: \"\\u270F\\uFE0F\"\n                                                                                    }),\n                                                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"button\", {\n                                                                                        className: \"btn-icon btn-icon-danger\",\n                                                                                        onClick: ()=>deleteStaff(s.id),\n                                                                                        title: \"Delete\",\n                                                                                        children: \"\\uD83D\\uDDD1\\uFE0F\"\n                                                                                    })\n                                                                                ]\n                                                                            })\n                                                                        })\n                                                                    ]\n                                                                }, s.id))\n                                                        })\n                                                    ]\n                                                })\n                                            }),\n                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                                                className: \"mobile-cards\",\n                                                children: teachers.map((s, idx)=>/*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                                        className: \"mobile-card\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                                                className: \"mobile-card-header\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"span\", {\n                                                                        className: \"mobile-card-title\",\n                                                                        children: s.name\n                                                                    }),\n                                                                    /*#__PURE__*/ (0, $ayMG0.jsxs)(\"span\", {\n                                                                        className: \"mobile-card-badge\",\n                                                                        children: [\n                                                                            \"S\",\n                                                                            idx + 1\n                                                                        ]\n                                                                    })\n                                                                ]\n                                                            }),\n                                                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                                                className: \"mobile-card-body\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                                                        className: \"mobile-card-row\",\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"span\", {\n                                                                                className: \"mobile-card-label\",\n                                                                                children: \"Username:\"\n                                                                            }),\n                                                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"span\", {\n                                                                                className: \"mobile-card-value\",\n                                                                                children: s.username\n                                                                            })\n                                                                        ]\n                                                                    }),\n                                                                    /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                                                        className: \"mobile-card-row\",\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"span\", {\n                                                                                className: \"mobile-card-label\",\n                                                                                children: \"Mode:\"\n                                                                            }),\n                                                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"span\", {\n                                                                                className: \"mobile-card-value\",\n                                                                                children: s.freePeriodMode === 'manual' ? `Manual (${s.manualFreePeriods})` : 'Auto'\n                                                                            })\n                                                                        ]\n                                                                    })\n                                                                ]\n                                                            }),\n                                                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                                                className: \"mobile-card-actions\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"button\", {\n                                                                        className: \"btn btn-primary btn-sm\",\n                                                                        onClick: ()=>editStaff(s),\n                                                                        children: \"\\u270F\\uFE0F Edit\"\n                                                                    }),\n                                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"button\", {\n                                                                        className: \"btn btn-danger btn-sm\",\n                                                                        onClick: ()=>deleteStaff(s.id),\n                                                                        children: \"\\uD83D\\uDDD1\\uFE0F Delete\"\n                                                                    })\n                                                                ]\n                                                            })\n                                                        ]\n                                                    }, s.id))\n                                            })\n                                        ]\n                                    })\n                                ]\n                            })\n                        ]\n                    }),\n                    /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                        className: \"section\",\n                        id: \"subject-section\",\n                        children: [\n                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                className: \"section-header\",\n                                children: [\n                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"span\", {\n                                        className: \"section-icon\",\n                                        children: \"\\uD83D\\uDCD6\"\n                                    }),\n                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"h2\", {\n                                        className: \"section-title\",\n                                        children: \"Manage Subjects\"\n                                    })\n                                ]\n                            }),\n                            newSubject.className && /*#__PURE__*/ (0, $ayMG0.jsx)((0, $4XiCD.default), {\n                                className: newSubject.className,\n                                subjects: subjects\n                            }),\n                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                className: \"card\",\n                                ref: subjectFormRef,\n                                children: [\n                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"h3\", {\n                                        children: newSubject.id ? \"\\u270F\\uFE0F Edit Subject\" : \"\\u2795 Add New Subject\"\n                                    }),\n                                    /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                        className: \"grid-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                                className: \"form-group\",\n                                                children: [\n                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"label\", {\n                                                        children: \"Select Class *\"\n                                                    }),\n                                                    /*#__PURE__*/ (0, $ayMG0.jsxs)(\"select\", {\n                                                        value: newSubject.className,\n                                                        onChange: (e)=>setNewSubject({\n                                                                ...newSubject,\n                                                                className: e.target.value\n                                                            }),\n                                                        children: [\n                                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"option\", {\n                                                                value: \"\",\n                                                                children: \"-- Select Class --\"\n                                                            }),\n                                                            classes.map((cls)=>/*#__PURE__*/ (0, $ayMG0.jsx)(\"option\", {\n                                                                    value: cls.name,\n                                                                    children: cls.name\n                                                                }, cls.id))\n                                                        ]\n                                                    })\n                                                ]\n                                            }),\n                                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                                className: \"form-group\",\n                                                children: [\n                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"label\", {\n                                                        children: \"Subject Name *\"\n                                                    }),\n                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"input\", {\n                                                        type: \"text\",\n                                                        value: newSubject.name,\n                                                        onChange: (e)=>setNewSubject({\n                                                                ...newSubject,\n                                                                name: e.target.value\n                                                            }),\n                                                        placeholder: \"DBMS, AI Lab, etc.\"\n                                                    })\n                                                ]\n                                            }),\n                                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                                className: \"form-group\",\n                                                children: [\n                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"label\", {\n                                                        children: \"Subject Type *\"\n                                                    }),\n                                                    /*#__PURE__*/ (0, $ayMG0.jsxs)(\"select\", {\n                                                        value: newSubject.subjectType,\n                                                        onChange: (e)=>setNewSubject({\n                                                                ...newSubject,\n                                                                subjectType: e.target.value\n                                                            }),\n                                                        children: [\n                                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"option\", {\n                                                                value: \"Core\",\n                                                                children: \"Core\"\n                                                            }),\n                                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"option\", {\n                                                                value: \"Elective\",\n                                                                children: \"Elective\"\n                                                            }),\n                                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"option\", {\n                                                                value: \"Lab\",\n                                                                children: \"Lab\"\n                                                            }),\n                                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"option\", {\n                                                                value: \"Other\",\n                                                                children: \"Other\"\n                                                            })\n                                                        ]\n                                                    })\n                                                ]\n                                            }),\n                                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                                className: \"form-group\",\n                                                children: [\n                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"label\", {\n                                                        children: \"Hours per Week *\"\n                                                    }),\n                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"input\", {\n                                                        type: \"number\",\n                                                        min: \"1\",\n                                                        max: \"30\",\n                                                        value: newSubject.hoursPerWeek,\n                                                        onChange: (e)=>setNewSubject({\n                                                                ...newSubject,\n                                                                hoursPerWeek: parseInt(e.target.value) || 6\n                                                            })\n                                                    })\n                                                ]\n                                            }),\n                                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                                className: \"form-group\",\n                                                children: [\n                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"label\", {\n                                                        children: \"Teacher *\"\n                                                    }),\n                                                    /*#__PURE__*/ (0, $ayMG0.jsxs)(\"select\", {\n                                                        value: newSubject.teacher,\n                                                        onChange: (e)=>setNewSubject({\n                                                                ...newSubject,\n                                                                teacher: e.target.value\n                                                            }),\n                                                        children: [\n                                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"option\", {\n                                                                value: \"\",\n                                                                children: \"-- Select Teacher --\"\n                                                            }),\n                                                            teachers.map((t)=>/*#__PURE__*/ (0, $ayMG0.jsx)(\"option\", {\n                                                                    value: t.name,\n                                                                    children: t.name\n                                                                }, t.id))\n                                                        ]\n                                                    })\n                                                ]\n                                            })\n                                        ]\n                                    }),\n                                    /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                        className: \"checkbox-group\",\n                                        children: [\n                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"input\", {\n                                                type: \"checkbox\",\n                                                id: \"continuous\",\n                                                checked: newSubject.isContinuous,\n                                                onChange: (e)=>setNewSubject({\n                                                        ...newSubject,\n                                                        isContinuous: e.target.checked\n                                                    })\n                                            }),\n                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"label\", {\n                                                htmlFor: \"continuous\",\n                                                style: {\n                                                    marginBottom: 0\n                                                },\n                                                children: \"Continuous Period (Lab)\"\n                                            })\n                                        ]\n                                    }),\n                                    newSubject.isContinuous && /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                        className: \"form-group\",\n                                        children: [\n                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"label\", {\n                                                children: \"Block Size\"\n                                            }),\n                                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"select\", {\n                                                value: newSubject.blockSize,\n                                                onChange: (e)=>setNewSubject({\n                                                        ...newSubject,\n                                                        blockSize: parseInt(e.target.value)\n                                                    }),\n                                                children: [\n                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"option\", {\n                                                        value: 2,\n                                                        children: \"2 Periods\"\n                                                    }),\n                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"option\", {\n                                                        value: 3,\n                                                        children: \"3 Periods\"\n                                                    })\n                                                ]\n                                            })\n                                        ]\n                                    }),\n                                    /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                        className: \"button-group\",\n                                        children: [\n                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"button\", {\n                                                className: \"btn btn-primary\",\n                                                onClick: addOrUpdateSubject,\n                                                children: newSubject.id ? \"\\uD83D\\uDCBE Save Changes\" : \"\\u2795 Add Subject\"\n                                            }),\n                                            newSubject.id && /*#__PURE__*/ (0, $ayMG0.jsx)(\"button\", {\n                                                className: \"btn btn-secondary\",\n                                                onClick: resetSubjectForm,\n                                                children: \"\\u274C Cancel\"\n                                            })\n                                        ]\n                                    })\n                                ]\n                            }),\n                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                className: \"card\",\n                                children: [\n                                    /*#__PURE__*/ (0, $ayMG0.jsxs)(\"h3\", {\n                                        children: [\n                                            \"Existing Subjects (\",\n                                            subjects.length,\n                                            \")\"\n                                        ]\n                                    }),\n                                    subjects.length === 0 ? /*#__PURE__*/ (0, $ayMG0.jsx)(\"p\", {\n                                        style: {\n                                            color: '#64748b',\n                                            textAlign: 'center',\n                                            padding: '20px'\n                                        },\n                                        children: \"No subjects added yet\"\n                                    }) : /*#__PURE__*/ (0, $ayMG0.jsx)((0, $ayMG0.Fragment), {\n                                        children: classes.map((cls)=>{\n                                            const classSubjects = subjects.filter((s)=>s.className === cls.name);\n                                            if (classSubjects.length === 0) return null;\n                                            const totalHours = classSubjects.reduce((sum, s)=>sum + s.hoursPerWeek, 0);\n                                            return /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                                style: {\n                                                    marginBottom: '30px'\n                                                },\n                                                children: [\n                                                    /*#__PURE__*/ (0, $ayMG0.jsxs)(\"h4\", {\n                                                        style: {\n                                                            marginBottom: '15px',\n                                                            display: 'flex',\n                                                            alignItems: 'center',\n                                                            gap: '10px',\n                                                            color: '#1e293b',\n                                                            flexWrap: 'wrap'\n                                                        },\n                                                        children: [\n                                                            \"Class: \",\n                                                            cls.name,\n                                                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"span\", {\n                                                                className: `badge ${totalHours === 30 ? 'badge-success' : 'badge-danger'}`,\n                                                                children: [\n                                                                    totalHours,\n                                                                    \"/30 hours\"\n                                                                ]\n                                                            })\n                                                        ]\n                                                    }),\n                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                                                        className: \"desktop-table\",\n                                                        children: /*#__PURE__*/ (0, $ayMG0.jsxs)(\"table\", {\n                                                            children: [\n                                                                /*#__PURE__*/ (0, $ayMG0.jsx)(\"thead\", {\n                                                                    children: /*#__PURE__*/ (0, $ayMG0.jsxs)(\"tr\", {\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"th\", {\n                                                                                children: \"Subject\"\n                                                                            }),\n                                                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"th\", {\n                                                                                children: \"Type\"\n                                                                            }),\n                                                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"th\", {\n                                                                                children: \"Hours\"\n                                                                            }),\n                                                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"th\", {\n                                                                                children: \"Teacher\"\n                                                                            }),\n                                                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"th\", {\n                                                                                children: \"Continuous\"\n                                                                            }),\n                                                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"th\", {\n                                                                                children: \"Actions\"\n                                                                            })\n                                                                        ]\n                                                                    })\n                                                                }),\n                                                                /*#__PURE__*/ (0, $ayMG0.jsx)(\"tbody\", {\n                                                                    children: classSubjects.map((sub)=>/*#__PURE__*/ (0, $ayMG0.jsxs)(\"tr\", {\n                                                                            children: [\n                                                                                /*#__PURE__*/ (0, $ayMG0.jsx)(\"td\", {\n                                                                                    children: /*#__PURE__*/ (0, $ayMG0.jsx)(\"strong\", {\n                                                                                        children: sub.name\n                                                                                    })\n                                                                                }),\n                                                                                /*#__PURE__*/ (0, $ayMG0.jsx)(\"td\", {\n                                                                                    children: sub.subjectType\n                                                                                }),\n                                                                                /*#__PURE__*/ (0, $ayMG0.jsxs)(\"td\", {\n                                                                                    children: [\n                                                                                        sub.hoursPerWeek,\n                                                                                        \"h\"\n                                                                                    ]\n                                                                                }),\n                                                                                /*#__PURE__*/ (0, $ayMG0.jsx)(\"td\", {\n                                                                                    children: sub.teacher\n                                                                                }),\n                                                                                /*#__PURE__*/ (0, $ayMG0.jsx)(\"td\", {\n                                                                                    children: sub.isContinuous ? `Yes (${sub.blockSize}p)` : 'No'\n                                                                                }),\n                                                                                /*#__PURE__*/ (0, $ayMG0.jsx)(\"td\", {\n                                                                                    children: /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                                                                        className: \"action-buttons\",\n                                                                                        children: [\n                                                                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"button\", {\n                                                                                                className: \"btn-icon btn-icon-primary\",\n                                                                                                onClick: ()=>editSubject(sub),\n                                                                                                title: \"Edit\",\n                                                                                                children: \"\\u270F\\uFE0F\"\n                                                                                            }),\n                                                                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"button\", {\n                                                                                                className: \"btn-icon btn-icon-danger\",\n                                                                                                onClick: ()=>deleteSubject(sub.id),\n                                                                                                title: \"Delete\",\n                                                                                                children: \"\\uD83D\\uDDD1\\uFE0F\"\n                                                                                            })\n                                                                                        ]\n                                                                                    })\n                                                                                })\n                                                                            ]\n                                                                        }, sub.id))\n                                                                })\n                                                            ]\n                                                        })\n                                                    }),\n                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                                                        className: \"mobile-cards\",\n                                                        children: classSubjects.map((sub)=>/*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                                                className: \"mobile-card\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                                                        className: \"mobile-card-header\",\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"span\", {\n                                                                                className: \"mobile-card-title\",\n                                                                                children: sub.name\n                                                                            }),\n                                                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"span\", {\n                                                                                className: \"mobile-card-badge\",\n                                                                                children: sub.subjectType\n                                                                            })\n                                                                        ]\n                                                                    }),\n                                                                    /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                                                        className: \"mobile-card-body\",\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                                                                className: \"mobile-card-row\",\n                                                                                children: [\n                                                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"span\", {\n                                                                                        className: \"mobile-card-label\",\n                                                                                        children: \"Hours:\"\n                                                                                    }),\n                                                                                    /*#__PURE__*/ (0, $ayMG0.jsxs)(\"span\", {\n                                                                                        className: \"mobile-card-value\",\n                                                                                        children: [\n                                                                                            sub.hoursPerWeek,\n                                                                                            \"h\"\n                                                                                        ]\n                                                                                    })\n                                                                                ]\n                                                                            }),\n                                                                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                                                                className: \"mobile-card-row\",\n                                                                                children: [\n                                                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"span\", {\n                                                                                        className: \"mobile-card-label\",\n                                                                                        children: \"Teacher:\"\n                                                                                    }),\n                                                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"span\", {\n                                                                                        className: \"mobile-card-value\",\n                                                                                        children: sub.teacher\n                                                                                    })\n                                                                                ]\n                                                                            }),\n                                                                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                                                                className: \"mobile-card-row\",\n                                                                                children: [\n                                                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"span\", {\n                                                                                        className: \"mobile-card-label\",\n                                                                                        children: \"Continuous:\"\n                                                                                    }),\n                                                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"span\", {\n                                                                                        className: \"mobile-card-value\",\n                                                                                        children: sub.isContinuous ? `Yes (${sub.blockSize}p)` : 'No'\n                                                                                    })\n                                                                                ]\n                                                                            })\n                                                                        ]\n                                                                    }),\n                                                                    /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                                                        className: \"mobile-card-actions\",\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"button\", {\n                                                                                className: \"btn btn-primary btn-sm\",\n                                                                                onClick: ()=>editSubject(sub),\n                                                                                children: \"\\u270F\\uFE0F Edit\"\n                                                                            }),\n                                                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"button\", {\n                                                                                className: \"btn btn-danger btn-sm\",\n                                                                                onClick: ()=>deleteSubject(sub.id),\n                                                                                children: \"\\uD83D\\uDDD1\\uFE0F Delete\"\n                                                                            })\n                                                                        ]\n                                                                    })\n                                                                ]\n                                                            }, sub.id))\n                                                    })\n                                                ]\n                                            }, cls.id);\n                                        })\n                                    })\n                                ]\n                            })\n                        ]\n                    }),\n                    /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                        className: \"section\",\n                        children: [\n                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                className: \"section-header\",\n                                children: [\n                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"span\", {\n                                        className: \"section-icon\",\n                                        children: \"\\u26A1\"\n                                    }),\n                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"h2\", {\n                                        className: \"section-title\",\n                                        children: \"Generate Timetable\"\n                                    })\n                                ]\n                            }),\n                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                className: \"card\",\n                                children: [\n                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"h3\", {\n                                        children: \"Ready to Generate\"\n                                    }),\n                                    /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                        className: \"info-box\",\n                                        children: [\n                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"p\", {\n                                                style: {\n                                                    marginBottom: '15px',\n                                                    fontSize: '15px',\n                                                    lineHeight: '1.6'\n                                                },\n                                                children: \"The smart algorithm will create an optimized timetable:\"\n                                            }),\n                                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"ul\", {\n                                                style: {\n                                                    marginLeft: '25px',\n                                                    lineHeight: '1.8'\n                                                },\n                                                children: [\n                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"li\", {\n                                                        children: \"\\u2705 No free periods (all 30 filled)\"\n                                                    }),\n                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"li\", {\n                                                        children: \"\\u2705 High-hour subjects (\\u22655h) appear daily\"\n                                                    }),\n                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"li\", {\n                                                        children: \"\\u2705 Labs in continuous blocks\"\n                                                    }),\n                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"li\", {\n                                                        children: \"\\u2705 No teacher conflicts\"\n                                                    }),\n                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"li\", {\n                                                        children: \"\\u2705 Balanced workload\"\n                                                    })\n                                                ]\n                                            })\n                                        ]\n                                    }),\n                                    /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                        className: \"stats-grid\",\n                                        children: [\n                                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                                className: \"stat-card stat-primary\",\n                                                children: [\n                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                                                        className: \"stat-label\",\n                                                        children: \"Classes\"\n                                                    }),\n                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                                                        className: \"stat-value\",\n                                                        children: classes.length\n                                                    })\n                                                ]\n                                            }),\n                                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                                className: \"stat-card stat-success\",\n                                                children: [\n                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                                                        className: \"stat-label\",\n                                                        children: \"Teachers\"\n                                                    }),\n                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                                                        className: \"stat-value\",\n                                                        children: teachers.length\n                                                    })\n                                                ]\n                                            }),\n                                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                                className: \"stat-card stat-warning\",\n                                                children: [\n                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                                                        className: \"stat-label\",\n                                                        children: \"Subjects\"\n                                                    }),\n                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                                                        className: \"stat-value\",\n                                                        children: subjects.length\n                                                    })\n                                                ]\n                                            })\n                                        ]\n                                    }),\n                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"button\", {\n                                        className: \"btn btn-success btn-lg\",\n                                        onClick: generateTimetable,\n                                        disabled: loading,\n                                        children: loading ? \"\\u23F3 Generating...\" : \"\\u26A1 Generate Timetable\"\n                                    })\n                                ]\n                            })\n                        ]\n                    }),\n                    timetable && /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                        className: \"section\",\n                        id: \"view-timetables\",\n                        children: [\n                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                className: \"section-header\",\n                                children: [\n                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"span\", {\n                                        className: \"section-icon\",\n                                        children: \"\\uD83D\\uDCCA\"\n                                    }),\n                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"h2\", {\n                                        className: \"section-title\",\n                                        children: \"Generated Timetables\"\n                                    })\n                                ]\n                            }),\n                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                className: \"card\",\n                                children: [\n                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"h3\", {\n                                        children: \"Class-wise Timetables\"\n                                    }),\n                                    classes.map((cls)=>/*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                            className: \"timetable-container\",\n                                            children: [\n                                                /*#__PURE__*/ (0, $ayMG0.jsxs)(\"h4\", {\n                                                    className: \"timetable-title\",\n                                                    children: [\n                                                        \"Class: \",\n                                                        cls.name,\n                                                        \" \",\n                                                        cls.hallNumber && `(${cls.hallNumber})`\n                                                    ]\n                                                }),\n                                                /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                                                    className: \"timetable-scroll\",\n                                                    children: /*#__PURE__*/ (0, $ayMG0.jsx)((0, $e3nvF.default), {\n                                                        timetable: timetable.classTimetables,\n                                                        className: cls.name\n                                                    })\n                                                }),\n                                                /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                                                    className: \"timetable-actions no-print\",\n                                                    children: /*#__PURE__*/ (0, $ayMG0.jsx)(\"button\", {\n                                                        className: \"btn btn-primary btn-sm\",\n                                                        onClick: ()=>(0, $gqAsg.exportToPDF)('timetable-export', `${cls.name}_Timetable.pdf`),\n                                                        children: \"\\uD83D\\uDCC4 Download PDF\"\n                                                    })\n                                                })\n                                            ]\n                                        }, cls.id))\n                                ]\n                            }),\n                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                className: \"card\",\n                                children: [\n                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"h3\", {\n                                        children: \"Staff-wise Timetables\"\n                                    }),\n                                    teachers.map((teacher)=>/*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                            className: \"timetable-container\",\n                                            children: [\n                                                /*#__PURE__*/ (0, $ayMG0.jsxs)(\"h4\", {\n                                                    className: \"timetable-title\",\n                                                    children: [\n                                                        \"Teacher: \",\n                                                        teacher.name\n                                                    ]\n                                                }),\n                                                /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                                                    className: \"timetable-scroll\",\n                                                    children: /*#__PURE__*/ (0, $ayMG0.jsx)((0, $hyYFF.default), {\n                                                        timetable: timetable.staffTimetables,\n                                                        staffName: teacher.name\n                                                    })\n                                                }),\n                                                /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                                                    className: \"timetable-actions no-print\",\n                                                    children: /*#__PURE__*/ (0, $ayMG0.jsx)(\"button\", {\n                                                        className: \"btn btn-primary btn-sm\",\n                                                        onClick: ()=>(0, $gqAsg.exportToPDF)('staff-timetable-export', `${teacher.name}_Timetable.pdf`),\n                                                        children: \"\\uD83D\\uDCC4 Download PDF\"\n                                                    })\n                                                })\n                                            ]\n                                        }, teacher.id))\n                                ]\n                            })\n                        ]\n                    })\n                ]\n            }),\n            /*#__PURE__*/ (0, $ayMG0.jsx)((0, $2A5UH.ToastContainer), {\n                toasts: toasts,\n                removeToast: removeToast\n            })\n        ]\n    });\n}\n\n});\nparcelRegister(\"2A5UH\", function(module, exports) {\n\n$parcel$export(module.exports, \"ToastContainer\", () => $e0e81a01ed643521$export$f2815235e76a62b9);\n\nvar $ayMG0 = parcelRequire(\"ayMG0\");\n\nvar $acw62 = parcelRequire(\"acw62\");\nfunction $e0e81a01ed643521$export$8d8dc7d5f743331b({ message: message, type: type, onClose: onClose }) {\n    (0, $acw62.useEffect)(()=>{\n        const timer = setTimeout(onClose, 5000);\n        return ()=>clearTimeout(timer);\n    }, [\n        onClose\n    ]);\n    return /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n        className: `toast toast-${type}`,\n        children: [\n            /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                className: \"toast-icon\",\n                children: type === 'success' ? \"\\u2705\" : \"\\u274C\"\n            }),\n            /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                className: \"toast-text\",\n                children: message\n            })\n        ]\n    });\n}\nfunction $e0e81a01ed643521$export$f2815235e76a62b9({ toasts: toasts, removeToast: removeToast }) {\n    return /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n        className: \"toast-container\",\n        children: toasts.map((toast, index)=>/*#__PURE__*/ (0, $ayMG0.jsx)($e0e81a01ed643521$export$8d8dc7d5f743331b, {\n                message: toast.message,\n                type: toast.type,\n                onClose: ()=>removeToast(index)\n            }, index))\n    });\n}\n\n});\n\nparcelRegister(\"4XiCD\", function(module, exports) {\n\n$parcel$export(module.exports, \"default\", () => $511984d6a1a2608c$export$2e2bcd8739ae039);\n\nvar $ayMG0 = parcelRequire(\"ayMG0\");\nparcelRequire(\"acw62\");\nfunction $511984d6a1a2608c$export$2e2bcd8739ae039({ className: className, subjects: subjects }) {\n    const allocated = subjects.filter((s)=>s.className === className).reduce((sum, s)=>sum + s.hoursPerWeek, 0);\n    const remaining = 30 - allocated;\n    const percentage = allocated / 30 * 100;\n    return /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n        className: \"hours-tracker\",\n        children: [\n            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                className: \"hours-grid\",\n                children: [\n                    /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                        className: \"hours-item\",\n                        children: [\n                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                                className: \"hours-label\",\n                                children: \"Allocated\"\n                            }),\n                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                                className: \"hours-value\",\n                                children: allocated\n                            })\n                        ]\n                    }),\n                    /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                        className: \"hours-item\",\n                        children: [\n                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                                className: \"hours-label\",\n                                children: \"Remaining\"\n                            }),\n                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                                className: \"hours-value\",\n                                children: remaining\n                            })\n                        ]\n                    }),\n                    /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                        className: \"hours-item\",\n                        children: [\n                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                                className: \"hours-label\",\n                                children: \"Total\"\n                            }),\n                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                                className: \"hours-value\",\n                                children: \"30\"\n                            })\n                        ]\n                    })\n                ]\n            }),\n            /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                className: \"progress-bar\",\n                children: /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                    className: \"progress-fill\",\n                    style: {\n                        width: `${Math.min(percentage, 100)}%`\n                    }\n                })\n            }),\n            remaining === 0 && /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                style: {\n                    marginTop: '12px',\n                    textAlign: 'center',\n                    fontWeight: 'bold'\n                },\n                children: \"\\u2713 Perfect! No free periods.\"\n            }),\n            remaining < 0 && /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                style: {\n                    marginTop: '12px',\n                    textAlign: 'center',\n                    fontWeight: 'bold',\n                    color: '#ef4444'\n                },\n                children: [\n                    \"\\u26A0 Over by \",\n                    Math.abs(remaining),\n                    \" hours!\"\n                ]\n            })\n        ]\n    });\n}\n\n});\n\nparcelRegister(\"e3nvF\", function(module, exports) {\n\n$parcel$export(module.exports, \"default\", () => $0e552b1b7a884617$export$2e2bcd8739ae039);\n\nvar $ayMG0 = parcelRequire(\"ayMG0\");\n\nvar $acw62 = parcelRequire(\"acw62\");\nconst $0e552b1b7a884617$var$DAYS = [\n    'Monday',\n    'Tuesday',\n    'Wednesday',\n    'Thursday',\n    'Friday'\n];\nfunction $0e552b1b7a884617$export$2e2bcd8739ae039({ timetable: timetable, className: className }) {\n    if (!timetable || !timetable[className]) return /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n        style: {\n            padding: '40px',\n            textAlign: 'center',\n            color: '#64748b'\n        },\n        children: \"No timetable available\"\n    });\n    const grid = timetable[className];\n    // Debug code\n    console.log('TimetableGrid - className:', className);\n    console.log('TimetableGrid - grid:', grid);\n    console.log('TimetableGrid - grid is array?', Array.isArray(grid));\n    // Safety check: if grid is not an array or not nested properly\n    if (!Array.isArray(grid) || grid.length === 0) return /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n        style: {\n            padding: '40px',\n            textAlign: 'center',\n            color: '#64748b'\n        },\n        children: \"Invalid timetable format\"\n    });\n    return /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n        id: \"class-timetable-export\",\n        className: \"timetable-grid\",\n        children: [\n            /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                className: \"timetable-header\",\n                children: \"Day/Period\"\n            }),\n            [\n                ...Array(6)\n            ].map((_, i)=>/*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                    className: \"timetable-header\",\n                    children: [\n                        \"P\",\n                        i + 1\n                    ]\n                }, i)),\n            $0e552b1b7a884617$var$DAYS.map((day, dayIndex)=>{\n                // Safety check for each day\n                if (!grid[dayIndex] || !Array.isArray(grid[dayIndex])) return null;\n                return /*#__PURE__*/ (0, $ayMG0.jsxs)((0, (/*@__PURE__*/$parcel$interopDefault($acw62))).Fragment, {\n                    children: [\n                        /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                            className: \"timetable-day\",\n                            children: day\n                        }),\n                        grid[dayIndex].map((slot, periodIndex)=>/*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                                className: `timetable-cell subject-${slot && slot.type ? slot.type.toLowerCase() : 'free'}`,\n                                children: slot && slot.subject !== 'FREE' ? /*#__PURE__*/ (0, $ayMG0.jsxs)((0, $ayMG0.Fragment), {\n                                    children: [\n                                        /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                                            className: \"subject-name\",\n                                            children: slot.subject\n                                        }),\n                                        /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                                            className: \"teacher-name\",\n                                            children: slot.teacher\n                                        })\n                                    ]\n                                }) : /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                                    style: {\n                                        color: '#94a3b8'\n                                    },\n                                    children: \"FREE\"\n                                })\n                            }, periodIndex))\n                    ]\n                }, day);\n            })\n        ]\n    });\n}\n\n});\n\nparcelRegister(\"hyYFF\", function(module, exports) {\n\n$parcel$export(module.exports, \"default\", () => $81aa4954b90786d4$export$2e2bcd8739ae039);\n\nvar $ayMG0 = parcelRequire(\"ayMG0\");\n\nvar $acw62 = parcelRequire(\"acw62\");\nconst $81aa4954b90786d4$var$DAYS = [\n    'Monday',\n    'Tuesday',\n    'Wednesday',\n    'Thursday',\n    'Friday'\n];\nfunction $81aa4954b90786d4$export$2e2bcd8739ae039({ timetable: timetable, staffName: staffName }) {\n    if (!timetable || !timetable[staffName]) return /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n        style: {\n            padding: '40px',\n            textAlign: 'center',\n            color: '#64748b'\n        },\n        children: \"No timetable generated yet\"\n    });\n    const grid = timetable[staffName];\n    // Debug code - placed BEFORE return statement\n    console.log('StaffTimetableGrid - staffName:', staffName);\n    console.log('StaffTimetableGrid - grid:', grid);\n    console.log('StaffTimetableGrid - grid is array?', Array.isArray(grid));\n    if (Array.isArray(grid)) {\n        console.log('Grid length:', grid.length);\n        console.log('First element:', grid[0]);\n    }\n    return /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n        id: \"staff-timetable-export\",\n        className: \"timetable-grid\",\n        children: [\n            /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                className: \"timetable-header\",\n                children: \"Day/Period\"\n            }),\n            [\n                ...Array(6)\n            ].map((_, i)=>/*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                    className: \"timetable-header\",\n                    children: [\n                        \"P\",\n                        i + 1\n                    ]\n                }, i)),\n            $81aa4954b90786d4$var$DAYS.map((day, dayIndex)=>/*#__PURE__*/ (0, $ayMG0.jsxs)((0, (/*@__PURE__*/$parcel$interopDefault($acw62))).Fragment, {\n                    children: [\n                        /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                            className: \"timetable-day\",\n                            children: day\n                        }),\n                        grid[dayIndex].map((slot, periodIndex)=>/*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                                className: `timetable-cell subject-${slot.type.toLowerCase()}`,\n                                children: slot.subject !== 'FREE' ? /*#__PURE__*/ (0, $ayMG0.jsxs)((0, $ayMG0.Fragment), {\n                                    children: [\n                                        /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                                            className: \"subject-name\",\n                                            children: slot.subject\n                                        }),\n                                        /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                                            className: \"teacher-name\",\n                                            children: slot.class\n                                        })\n                                    ]\n                                }) : /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                                    style: {\n                                        color: '#94a3b8'\n                                    },\n                                    children: \"FREE\"\n                                })\n                            }, periodIndex))\n                    ]\n                }, day))\n        ]\n    });\n}\n\n});\n\nparcelRegister(\"bU9CP\", function(module, exports) {\n\n$parcel$export(module.exports, \"TimetableGenerator\", () => $a77c14b5958cefc4$export$21295ca23168aa6a);\nclass $a77c14b5958cefc4$export$21295ca23168aa6a {\n    constructor(classes, staff, subjects){\n        this.classes = classes || [];\n        this.staff = staff || [];\n        this.subjects = subjects || [];\n        this.classTimetables = {};\n        this.staffTimetables = {};\n        this.teacherBusySlots = {};\n        this.teacherWeeklyCount = {};\n        this.teacherDailyCount = {};\n        this.DAYS = [\n            'Monday',\n            'Tuesday',\n            'Wednesday',\n            'Thursday',\n            'Friday'\n        ];\n        this.PERIODS = 6;\n        this.MAX_PERIODS_PER_WEEK = 30;\n        this.MIN_PERIODS_PER_WEEK = 24;\n        this.MAX_SAME_SUBJECT_PER_DAY = 2;\n        this.MAX_TEACHER_HOURS_PER_DAY = 6;\n        this.MAX_TEACHER_HOURS_PER_WEEK = 30;\n    }\n    validate() {\n        const errors = [];\n        if (!this.classes || this.classes.length === 0) errors.push('No classes added');\n        if (!this.staff || this.staff.filter((s)=>s.role === 'staff').length === 0) errors.push('No staff added');\n        if (!this.subjects || this.subjects.length === 0) errors.push('No subjects added');\n        if (errors.length > 0) return {\n            valid: false,\n            errors: errors\n        };\n        // Validate class hours\n        const classHours = {};\n        this.subjects.forEach((subject)=>{\n            if (subject && subject.className && subject.hoursPerWeek) classHours[subject.className] = (classHours[subject.className] || 0) + subject.hoursPerWeek;\n        });\n        this.classes.forEach((cls)=>{\n            if (cls && cls.name) {\n                const hours = classHours[cls.name] || 0;\n                if (hours < this.MIN_PERIODS_PER_WEEK || hours > this.MAX_PERIODS_PER_WEEK) errors.push(`Class ${cls.name}: Has ${hours} hours, needs ${this.MIN_PERIODS_PER_WEEK}-${this.MAX_PERIODS_PER_WEEK}`);\n            }\n        });\n        // Validate labs\n        this.subjects.forEach((subject)=>{\n            if (subject && subject.isContinuous) {\n                if (!subject.blockSize || subject.blockSize > this.PERIODS) errors.push(`Lab ${subject.name}: Invalid block size`);\n            }\n        });\n        return {\n            valid: errors.length === 0,\n            errors: errors\n        };\n    }\n    generate() {\n        try {\n            console.log('Starting timetable generation...');\n            this._initialize();\n            for (const cls of this.classes){\n                if (!cls || !cls.name) continue;\n                console.log(`Generating timetable for ${cls.name}`);\n                const success = this._generateClassTimetable(cls.name);\n                if (!success) console.warn(`Partial timetable generated for ${cls.name}`);\n            }\n            this._generateStaffTimetables();\n            const validation = this._validateGenerated();\n            console.log('Timetable generation completed successfully');\n            return {\n                success: true,\n                classTimetables: this.classTimetables,\n                staffTimetables: this.staffTimetables,\n                warnings: validation.warnings || []\n            };\n        } catch (error) {\n            console.error('Error generating timetable:', error);\n            return {\n                success: false,\n                error: `Error: ${error.message || 'Unknown error'}. Please check your input data.`\n            };\n        }\n    }\n    _initialize() {\n        console.log('Initializing timetables...');\n        // Initialize class timetables\n        this.classes.forEach((cls)=>{\n            if (cls && cls.name) this.classTimetables[cls.name] = this.DAYS.map(()=>Array(this.PERIODS).fill(null));\n        });\n        // Initialize teacher data\n        const staffMembers = this.staff.filter((s)=>s && s.role === 'staff');\n        staffMembers.forEach((teacher)=>{\n            if (teacher && teacher.name) {\n                this.teacherBusySlots[teacher.name] = {};\n                this.teacherWeeklyCount[teacher.name] = 0;\n                this.teacherDailyCount[teacher.name] = {};\n                this.DAYS.forEach((day)=>{\n                    this.teacherDailyCount[teacher.name][day] = 0;\n                });\n            }\n        });\n        console.log(`Initialized ${this.classes.length} classes and ${staffMembers.length} teachers`);\n    }\n    _generateClassTimetable(className) {\n        try {\n            const classSubjects = this.subjects.filter((s)=>s && s.className === className);\n            if (classSubjects.length === 0) {\n                console.warn(`No subjects found for class ${className}`);\n                return true;\n            }\n            classSubjects.forEach((s)=>{\n                if (s) s.placedHours = 0;\n            });\n            // PHASE 1: Place Labs\n            const labs = classSubjects.filter((s)=>s && s.isContinuous);\n            console.log(`Placing ${labs.length} labs for ${className}`);\n            for (const lab of labs)if (lab) this._placeLabFlexible(className, lab);\n            // PHASE 2: Place Regular Subjects\n            const regularSubjects = classSubjects.filter((s)=>s && !s.isContinuous);\n            console.log(`Placing ${regularSubjects.length} regular subjects for ${className}`);\n            for (const subject of regularSubjects)if (subject) this._placeSubjectFlexible(className, subject);\n            return true;\n        } catch (error) {\n            console.error(`Error generating timetable for ${className}:`, error);\n            return false;\n        }\n    }\n    _placeLabFlexible(className, subject) {\n        if (!subject || !subject.name || !subject.teacher) {\n            console.warn('Invalid lab subject:', subject);\n            return false;\n        }\n        const blockSize = subject.blockSize || 2;\n        const blocksNeeded = Math.floor((subject.hoursPerWeek || 0) / blockSize);\n        let blocksPlaced = 0;\n        console.log(`Placing lab ${subject.name}: ${blocksNeeded} blocks of ${blockSize} periods`);\n        // Generate all possible slots\n        const possibleSlots = [];\n        this.DAYS.forEach((day, dayIdx)=>{\n            for(let start = 0; start <= this.PERIODS - blockSize; start++)possibleSlots.push({\n                day: day,\n                dayIdx: dayIdx,\n                start: start\n            });\n        });\n        // Try to place blocks\n        for (const { day: day, dayIdx: dayIdx, start: start } of possibleSlots){\n            if (blocksPlaced >= blocksNeeded) break;\n            // Check if all periods in block are available\n            let canPlace = true;\n            for(let i = 0; i < blockSize; i++){\n                const period = start + i;\n                // Safety check\n                if (!this.classTimetables[className] || !this.classTimetables[className][dayIdx]) {\n                    canPlace = false;\n                    break;\n                }\n                // Check if slot is free\n                if (this.classTimetables[className][dayIdx][period]) {\n                    canPlace = false;\n                    break;\n                }\n                // Check teacher availability\n                const slotKey = `${day}-P${period + 1}`;\n                if (this.teacherBusySlots[subject.teacher] && this.teacherBusySlots[subject.teacher][slotKey]) {\n                    canPlace = false;\n                    break;\n                }\n            }\n            // Place the block if possible\n            if (canPlace) {\n                for(let i = 0; i < blockSize; i++){\n                    const period = start + i;\n                    this._placeAt(className, dayIdx, period, subject);\n                }\n                subject.placedHours = (subject.placedHours || 0) + blockSize;\n                blocksPlaced++;\n                console.log(`Placed lab block ${blocksPlaced}/${blocksNeeded} for ${subject.name}`);\n            }\n        }\n        if (blocksPlaced < blocksNeeded) console.warn(`Lab ${subject.name}: Placed ${blocksPlaced}/${blocksNeeded} blocks`);\n        return blocksPlaced > 0;\n    }\n    _placeSubjectFlexible(className, subject) {\n        if (!subject || !subject.name || !subject.teacher) {\n            console.warn('Invalid subject:', subject);\n            return false;\n        }\n        const hoursToPlace = subject.hoursPerWeek || 0;\n        let placed = 0;\n        const dailyCount = {};\n        this.DAYS.forEach((day)=>{\n            dailyCount[day] = 0;\n        });\n        console.log(`Placing subject ${subject.name}: ${hoursToPlace} hours`);\n        // Collect all slots\n        const allSlots = [];\n        this.DAYS.forEach((day, dayIdx)=>{\n            for(let period = 0; period < this.PERIODS; period++)allSlots.push({\n                day: day,\n                dayIdx: dayIdx,\n                period: period\n            });\n        });\n        // Shuffle for randomness\n        this._shuffle(allSlots);\n        // Try to place in available slots\n        for (const { day: day, dayIdx: dayIdx, period: period } of allSlots){\n            if (placed >= hoursToPlace) break;\n            if (dailyCount[day] >= this.MAX_SAME_SUBJECT_PER_DAY) continue;\n            // Safety checks\n            if (!this.classTimetables[className] || !this.classTimetables[className][dayIdx]) continue;\n            // Check if slot is free\n            if (this.classTimetables[className][dayIdx][period]) continue;\n            // Check teacher availability\n            const slotKey = `${day}-P${period + 1}`;\n            if (this.teacherBusySlots[subject.teacher] && this.teacherBusySlots[subject.teacher][slotKey]) continue;\n            // Check teacher limits\n            const teacherDaily = this.teacherDailyCount[subject.teacher];\n            const teacherWeekly = this.teacherWeeklyCount[subject.teacher];\n            if (teacherDaily && teacherDaily[day] >= this.MAX_TEACHER_HOURS_PER_DAY) continue;\n            if (teacherWeekly >= this.MAX_TEACHER_HOURS_PER_WEEK) continue;\n            // Place the subject\n            this._placeAt(className, dayIdx, period, subject);\n            dailyCount[day]++;\n            subject.placedHours = (subject.placedHours || 0) + 1;\n            placed++;\n        }\n        if (placed < hoursToPlace) console.warn(`Subject ${subject.name}: Placed ${placed}/${hoursToPlace} hours`);\n        return placed > 0;\n    }\n    _placeAt(className, dayIdx, period, subject) {\n        if (!className || !subject || !subject.name || !subject.teacher) {\n            console.warn('Invalid placement parameters');\n            return;\n        }\n        const day = this.DAYS[dayIdx];\n        const slotKey = `${day}-P${period + 1}`;\n        // Safety check\n        if (!this.classTimetables[className] || !this.classTimetables[className][dayIdx]) {\n            console.error(`Invalid timetable structure for ${className}`);\n            return;\n        }\n        // Place in class timetable\n        this.classTimetables[className][dayIdx][period] = {\n            subject: subject.name,\n            teacher: subject.teacher,\n            type: subject.subjectType || 'core'\n        };\n        // Mark teacher as busy\n        if (!this.teacherBusySlots[subject.teacher]) this.teacherBusySlots[subject.teacher] = {};\n        this.teacherBusySlots[subject.teacher][slotKey] = true;\n        // Update teacher counts\n        this.teacherWeeklyCount[subject.teacher] = (this.teacherWeeklyCount[subject.teacher] || 0) + 1;\n        if (!this.teacherDailyCount[subject.teacher]) this.teacherDailyCount[subject.teacher] = {};\n        if (!this.teacherDailyCount[subject.teacher][day]) this.teacherDailyCount[subject.teacher][day] = 0;\n        this.teacherDailyCount[subject.teacher][day]++;\n    }\n    _generateStaffTimetables() {\n        console.log('Generating staff timetables...');\n        // Initialize staff timetables\n        const staffMembers = this.staff.filter((s)=>s && s.role === 'staff');\n        staffMembers.forEach((teacher)=>{\n            if (teacher && teacher.name) this.staffTimetables[teacher.name] = this.DAYS.map(()=>Array(this.PERIODS).fill(null).map(()=>({\n                        subject: 'FREE',\n                        class: '-',\n                        type: 'free'\n                    })));\n        });\n        // Fill with class assignments\n        this.classes.forEach((cls)=>{\n            if (!cls || !cls.name || !this.classTimetables[cls.name]) return;\n            this.DAYS.forEach((day, dayIndex)=>{\n                const daySchedule = this.classTimetables[cls.name][dayIndex];\n                if (!daySchedule) return;\n                daySchedule.forEach((slot, period)=>{\n                    if (slot && slot.teacher && this.staffTimetables[slot.teacher]) this.staffTimetables[slot.teacher][dayIndex][period] = {\n                        subject: slot.subject,\n                        class: cls.name,\n                        type: slot.type\n                    };\n                });\n            });\n        });\n        console.log(`Generated ${Object.keys(this.staffTimetables).length} staff timetables`);\n    }\n    _validateGenerated() {\n        console.log('Validating generated timetables...');\n        const warnings = [];\n        this.classes.forEach((cls)=>{\n            if (!cls || !cls.name) return;\n            if (!this.classTimetables[cls.name]) {\n                warnings.push(`Class ${cls.name}: No timetable generated`);\n                return;\n            }\n            let emptySlots = 0;\n            this.DAYS.forEach((day, dayIdx)=>{\n                const daySchedule = this.classTimetables[cls.name][dayIdx];\n                if (!daySchedule) return;\n                daySchedule.forEach((slot, period)=>{\n                    if (!slot) {\n                        // Fill empty slot with FREE period\n                        this.classTimetables[cls.name][dayIdx][period] = {\n                            subject: 'FREE',\n                            teacher: '-',\n                            type: 'free'\n                        };\n                        emptySlots++;\n                    }\n                });\n            });\n            if (emptySlots > 0) warnings.push(`Class ${cls.name}: ${emptySlots} FREE periods`);\n        });\n        console.log(`Validation complete. ${warnings.length} warnings.`);\n        return {\n            valid: warnings.length === 0,\n            warnings: warnings\n        };\n    }\n    _shuffle(array) {\n        for(let i = array.length - 1; i > 0; i--){\n            const j = Math.floor(Math.random() * (i + 1));\n            [array[i], array[j]] = [\n                array[j],\n                array[i]\n            ];\n        }\n    }\n}\n\n});\n\n\n\n//# sourceMappingURL=AdminDashboard.b67adc97.js.map\n","import { useState, useEffect, useRef } from 'react';\r\nimport AnimatedBackground from './AnimatedBackground';\r\nimport { ToastContainer } from './Toast';\r\nimport HoursTracker from './HoursTracker';\r\nimport TimetableGrid from './timetableGrid';\r\nimport StaffTimetableGrid from './StaffTimetableGrid';\r\nimport { exportToPDF } from '../utils/pdfUtils';\r\nimport { TimetableGenerator } from '../utils/timetableGenerator';\r\n\r\n\r\nimport { auth, db } from '../utils/firebase';\r\nimport { createUserWithEmailAndPassword } from 'firebase/auth';\r\nimport {\r\n    collection,\r\n    addDoc,\r\n    getDocs,\r\n    deleteDoc,\r\n    updateDoc,\r\n    doc,\r\n    setDoc,\r\n} from 'firebase/firestore';\r\n\r\nexport default function AdminDashboard({ user, onLogout }) {\r\n    const [classes, setClasses] = useState([]);\r\n    const [staff, setStaff] = useState([]);\r\n    const [subjects, setSubjects] = useState([]);\r\n    const [timetable, setTimetable] = useState(null);\r\n    const [toasts, setToasts] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    // Refs for scrolling\r\n    const staffFormRef = useRef(null);\r\n    const subjectFormRef = useRef(null);\r\n\r\n    // Form Models - FIX 3: Added hallNumber for classes\r\n    const [newClass, setNewClass] = useState({ name: '', hallNumber: '' });\r\n    const [newStaff, setNewStaff] = useState({\r\n        id: null,\r\n        name: '',\r\n        username: '',\r\n        password: '',\r\n        freePeriodMode: 'auto',\r\n        manualFreePeriods: 0\r\n    });\r\n    const [newSubject, setNewSubject] = useState({\r\n        id: null,\r\n        className: '',\r\n        name: '',\r\n        subjectType: 'Core',\r\n        hoursPerWeek: 6,\r\n        isContinuous: false,\r\n        blockSize: 2,\r\n        teacher: ''\r\n    });\r\n\r\n    const teachers = staff.filter(s => s.role === \"staff\");\r\n\r\n    // FIX 7: Toast duration reduced to 3 seconds\r\n    const showToast = (message, type) => {\r\n        const newToast = { message, type, id: Date.now() };\r\n        setToasts(prev => [...prev, newToast]);\r\n        setTimeout(() => removeToast(newToast.id), 3000);\r\n    };\r\n\r\n    const removeToast = (id) => {\r\n        setToasts(prev => prev.filter(t => t.id !== id));\r\n    };\r\n// Helper function to convert Firebase flat format to nested arrays\r\nconst convertFlatToNested = (flatTimetable) => {\r\n    if (!flatTimetable) return null;\r\n\r\n    const nested = {};\r\n\r\n    Object.keys(flatTimetable).forEach(key => {\r\n        const slots = flatTimetable[key];\r\n\r\n        // Check if already nested (array of arrays)\r\n        if (Array.isArray(slots) && slots.length > 0 && Array.isArray(slots[0])) {\r\n            // Already nested format\r\n            nested[key] = slots;\r\n        } else if (Array.isArray(slots)) {\r\n            // Flat format - convert to nested\r\n            const days = [[], [], [], [], []]; // 5 days\r\n\r\n            slots.forEach(slot => {\r\n                if (slot && typeof slot.day === 'number' && typeof slot.period === 'number') {\r\n                    if (!days[slot.day]) days[slot.day] = [];\r\n                    days[slot.day][slot.period] = {\r\n                        subject: slot.subject,\r\n                        teacher: slot.teacher,\r\n                        class: slot.class,\r\n                        type: slot.type\r\n                    };\r\n                }\r\n            });\r\n\r\n            // Fill empty periods\r\n            days.forEach((day, idx) => {\r\n                if (!days[idx]) days[idx] = [];\r\n                for (let p = 0; p < 6; p++) {\r\n                    if (!days[idx][p]) {\r\n                        // For class timetables, use null\r\n                        // For staff timetables, use FREE\r\n                        days[idx][p] = slots[0]?.class !== undefined \r\n                            ? { subject: 'FREE', class: '-', type: 'free' }\r\n                            : null;\r\n                    }\r\n                }\r\n            });\r\n\r\n            nested[key] = days;\r\n        }\r\n    });\r\n\r\n    return nested;\r\n};\r\n\r\n\r\n// Now UPDATE your fetchData function to use this helper\r\n// Find the section where you set timetable data and modify it:\r\n\r\nconst fetchData = async () => {\r\n    setLoading(true);\r\n\r\n    try {\r\n        const [cls, st, sb, tt] = await Promise.all([\r\n            getDocs(collection(db, 'classes')),\r\n            getDocs(collection(db, 'staff')),\r\n            getDocs(collection(db, 'subjects')),\r\n            getDocs(collection(db, 'timetable'))\r\n        ]);\r\n\r\n        setClasses(cls.docs.map(doc => ({ id: doc.id, ...doc.data() })));\r\n        setStaff(st.docs.map(doc => ({ id: doc.id, ...doc.data() })));\r\n        setSubjects(sb.docs.map(doc => ({ id: doc.id, ...doc.data() })));\r\n\r\n        // FIX: Convert flat format from Firebase to nested arrays\r\n        if (!tt.empty) {\r\n            const ttData = tt.docs[0].data();\r\n\r\n            // Convert both class and staff timetables\r\n            const convertedData = {\r\n                classTimetables: convertFlatToNested(ttData.classTimetables),\r\n                staffTimetables: convertFlatToNested(ttData.staffTimetables)\r\n            };\r\n\r\n            setTimetable(convertedData);\r\n        }\r\n    } catch (error) {\r\n        showToast(' Error loading data: ' + error.message, 'error');\r\n        console.error(error);\r\n    }\r\n\r\n    setLoading(false);\r\n};\r\n    // FIX 1: Faster loading - optimized data fetching\r\n      useEffect(() => {\r\n        const fetchAll = async () => {\r\n            try {\r\n                const [cls, st, sb, tt] = await Promise.all([\r\n                    getDocs(collection(db, 'classes')),\r\n                    getDocs(collection(db, 'staff')),\r\n                    getDocs(collection(db, 'subjects')),\r\n                    getDocs(collection(db, 'timetable'))\r\n                ]);\r\n\r\n                setClasses(cls.docs.map(doc => ({ id: doc.id, ...doc.data() })));\r\n                setStaff(st.docs.map(doc => ({ id: doc.id, ...doc.data() })));\r\n                setSubjects(sb.docs.map(doc => ({ id: doc.id, ...doc.data() })));\r\n\r\n                //  REPLACE WITH THIS - IT'S CORRECT:\r\n                if (!tt.empty) {\r\n                    const ttData = tt.docs[0].data();\r\n                    const convertedData = {\r\n                        classTimetables: convertFlatToNested(ttData.classTimetables),\r\n                        staffTimetables: convertFlatToNested(ttData.staffTimetables)\r\n                    };\r\n                    setTimetable(convertedData);\r\n                }\r\n\r\n            } catch (error) {\r\n                showToast(' Error: ' + error.message, 'error');\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        fetchAll();\r\n    }, []);\r\n\r\n\r\n    // ------------------- CLASS CRUD - FIX 3: Added hallNumber & edit -------------------\r\n    const addClass = async () => {\r\n        if (!newClass.name) return showToast(\"Enter class name\", \"error\");\r\n        if (classes.find(c => c.name === newClass.name && !newClass.id))\r\n            return showToast(\"Class already exists\", \"error\");\r\n\r\n        try {\r\n            if (newClass.id) {\r\n                // Update existing\r\n                await updateDoc(doc(db, 'classes', newClass.id), { \r\n                    name: newClass.name, \r\n                    hallNumber: newClass.hallNumber \r\n                });\r\n                setClasses(classes.map(c => c.id === newClass.id ? { ...newClass } : c));\r\n                showToast(\" Class updated!\", \"success\");\r\n            } else {\r\n                // Add new\r\n                const docRef = await addDoc(collection(db, 'classes'), { \r\n                    name: newClass.name, \r\n                    hallNumber: newClass.hallNumber || '' \r\n                });\r\n                setClasses([...classes, { id: docRef.id, name: newClass.name, hallNumber: newClass.hallNumber || '' }]);\r\n                showToast(\" Class added!\", \"success\");\r\n            }\r\n            setNewClass({ name: '', hallNumber: '' });\r\n        } catch (error) {\r\n            showToast(\" Operation failed\", \"error\");\r\n        }\r\n    };\r\n\r\n    const editClass = (cls) => {\r\n        setNewClass({ id: cls.id, name: cls.name, hallNumber: cls.hallNumber || '' });\r\n    };\r\n\r\n    const deleteClass = async (id) => {\r\n        if (!window.confirm(\"Delete this class?\")) return;\r\n\r\n        try {\r\n            await deleteDoc(doc(db, 'classes', id));\r\n            setClasses(classes.filter(c => c.id !== id));\r\n            showToast(\" Class deleted\", \"success\");\r\n        } catch (error) {\r\n            showToast(\" Failed to delete\", \"error\");\r\n        }\r\n    };\r\n\r\n    // ------------------- STAFF CRUD - FIX 4: Scroll to form -------------------\r\n    const addOrUpdateStaff = async () => {\r\n        if (!newStaff.name || !newStaff.username)\r\n            return showToast(\"Fill all required fields\", \"error\");\r\n\r\n        try {\r\n            if (newStaff.id) {\r\n                const { password, ...updateData } = newStaff;\r\n                await updateDoc(doc(db, 'staff', newStaff.id), updateData);\r\n                setStaff(staff.map(s => s.id === newStaff.id ? { ...s, ...updateData } : s));\r\n                resetStaffForm();\r\n                return showToast(\" Staff updated!\", \"success\");\r\n            }\r\n\r\n            if (!newStaff.password) return showToast(\"Password required\", \"error\");\r\n\r\n            const email = `${newStaff.username}@timetable.com`;\r\n            const userCredential = await createUserWithEmailAndPassword(auth, email, newStaff.password);\r\n            const uid = userCredential.user.uid;\r\n\r\n            const staffData = {\r\n                name: newStaff.name,\r\n                username: newStaff.username,\r\n                freePeriodMode: newStaff.freePeriodMode,\r\n                manualFreePeriods: newStaff.manualFreePeriods,\r\n                role: \"staff\",\r\n                firebaseUid: uid,\r\n            };\r\n\r\n            const docRef = await addDoc(collection(db, 'staff'), staffData);\r\n            await setDoc(doc(db, 'users', uid), {\r\n                fullName: newStaff.name,\r\n                username: newStaff.username,\r\n                role: 'staff'\r\n            });\r\n\r\n            setStaff([...staff, { id: docRef.id, ...staffData }]);\r\n            resetStaffForm();\r\n            showToast(\" Staff added!\", \"success\");\r\n\r\n        } catch (error) {\r\n            showToast(\" Operation failed: \" + error.message, \"error\");\r\n        }\r\n    };\r\n\r\n    const editStaff = (staffMember) => {\r\n        setNewStaff({ ...staffMember, password: '' });\r\n        setTimeout(() => {\r\n            staffFormRef.current?.scrollIntoView({ behavior: 'smooth', block: 'center' });\r\n        }, 100);\r\n    };\r\n\r\n    const resetStaffForm = () => {\r\n        setNewStaff({ \r\n            id: null, \r\n            name: '', \r\n            username: '', \r\n            password: '', \r\n            freePeriodMode: 'auto', \r\n            manualFreePeriods: 0 \r\n        });\r\n    };\r\n\r\n    const deleteStaff = async (id) => {\r\n        if (!window.confirm(\"Delete this staff member?\")) return;\r\n\r\n        try {\r\n            await deleteDoc(doc(db, 'staff', id));\r\n            setStaff(staff.filter(x => x.id !== id));\r\n            showToast(\" Staff deleted\", \"success\");\r\n        } catch (error) {\r\n            showToast(\" Failed to delete\", \"error\");\r\n        }\r\n    };\r\n\r\n    // ------------------- SUBJECT CRUD - FIX 5: Fixed edit/delete, scroll -------------------\r\n    const addOrUpdateSubject = async () => {\r\n        if (!newSubject.className || !newSubject.name || !newSubject.teacher)\r\n            return showToast(\"Fill all required fields\", \"error\");\r\n\r\n        try {\r\n            const subjectData = {\r\n                className: newSubject.className,\r\n                name: newSubject.name,\r\n                subjectType: newSubject.subjectType,\r\n                hoursPerWeek: newSubject.hoursPerWeek,\r\n                isContinuous: newSubject.isContinuous,\r\n                blockSize: newSubject.blockSize,\r\n                teacher: newSubject.teacher\r\n            };\r\n\r\n            if (newSubject.id) {\r\n                await updateDoc(doc(db, 'subjects', newSubject.id), subjectData);\r\n                setSubjects(subjects.map(s => s.id === newSubject.id ? { id: newSubject.id, ...subjectData } : s));\r\n                showToast(\" Subject updated!\", \"success\");\r\n            } else {\r\n                const docRef = await addDoc(collection(db, 'subjects'), subjectData);\r\n                setSubjects([...subjects, { id: docRef.id, ...subjectData }]);\r\n                showToast(\" Subject added!\", \"success\");\r\n            }\r\n            resetSubjectForm();\r\n        } catch (error) {\r\n            showToast(\" Operation failed\", \"error\");\r\n            console.error(error);\r\n        }\r\n    };\r\n\r\n    const editSubject = (subject) => {\r\n        setNewSubject({\r\n            id: subject.id,\r\n            className: subject.className,\r\n            name: subject.name,\r\n            subjectType: subject.subjectType,\r\n            hoursPerWeek: subject.hoursPerWeek,\r\n            isContinuous: subject.isContinuous || false,\r\n            blockSize: subject.blockSize || 2,\r\n            teacher: subject.teacher\r\n        });\r\n        setTimeout(() => {\r\n            subjectFormRef.current?.scrollIntoView({ behavior: 'smooth', block: 'center' });\r\n        }, 100);\r\n    };\r\n\r\n    const resetSubjectForm = () => {\r\n        setNewSubject({ \r\n            id: null, \r\n            className: '', \r\n            name: '', \r\n            subjectType: 'Core', \r\n            hoursPerWeek: 6, \r\n            isContinuous: false, \r\n            blockSize: 2, \r\n            teacher: '' \r\n        });\r\n    };\r\n\r\n    const deleteSubject = async (id) => {\r\n        if (!window.confirm(\"Delete this subject?\")) return;\r\n\r\n        try {\r\n            await deleteDoc(doc(db, 'subjects', id));\r\n            setSubjects(subjects.filter(s => s.id !== id));\r\n            showToast(\" Subject deleted\", \"success\");\r\n        } catch (error) {\r\n            showToast(\" Failed to delete\", \"error\");\r\n        }\r\n    };\r\n\r\n    // ------------------- TIMETABLE GENERATION - FIX 6: Save to staff -------------------\r\n  const generateTimetable = async () => {\r\n    setLoading(true);\r\n\r\n    try {\r\n        const generator = new TimetableGenerator(classes, staff.filter(s => s.role === 'staff'), subjects);\r\n        const validation = generator.validate();\r\n\r\n        if (!validation.valid) {\r\n            showToast(' Validation: ' + validation.errors[0], 'error');\r\n            setLoading(false);\r\n            return;\r\n        }\r\n\r\n        const result = generator.generate();\r\n\r\n        if (result.success) {\r\n            // Convert nested arrays to Firebase-friendly format\r\n            const serializableClassTimetables = {};\r\n            const serializableStaffTimetables = {};\r\n\r\n            // Flatten class timetables\r\n            Object.keys(result.classTimetables).forEach(className => {\r\n                serializableClassTimetables[className] = result.classTimetables[className].map((day, dayIndex) => {\r\n                    return day.map((period, periodIndex) => ({\r\n                        day: dayIndex,\r\n                        period: periodIndex,\r\n                        subject: period?.subject || null,\r\n                        teacher: period?.teacher || null,\r\n                        type: period?.type || null\r\n                    }));\r\n                }).flat();\r\n            });\r\n\r\n            // Flatten staff timetables\r\n            Object.keys(result.staffTimetables).forEach(staffName => {\r\n                serializableStaffTimetables[staffName] = result.staffTimetables[staffName].map((day, dayIndex) => {\r\n                    return day.map((period, periodIndex) => ({\r\n                        day: dayIndex,\r\n                        period: periodIndex,\r\n                        subject: period?.subject || null,\r\n                        class: period?.class || null,\r\n                        type: period?.type || null\r\n                    }));\r\n                }).flat();\r\n            });\r\n\r\n            const timetableData = {\r\n                classTimetables: serializableClassTimetables,\r\n                staffTimetables: serializableStaffTimetables,\r\n                generatedAt: new Date().toISOString()\r\n            };\r\n\r\n            // Save to Firebase\r\n            const ttRef = collection(db, 'timetable');\r\n            const existing = await getDocs(ttRef);\r\n\r\n            if (!existing.empty) {\r\n                await updateDoc(doc(db, 'timetable', existing.docs[0].id), timetableData);\r\n            } else {\r\n                await addDoc(ttRef, timetableData);\r\n            }\r\n\r\n            // Save individual staff timetables\r\n            const teachers = staff.filter(s => s.role === 'staff');\r\n            for (const teacher of teachers) {\r\n                const staffTT = serializableStaffTimetables[teacher.name];\r\n                if (staffTT) {\r\n                    await setDoc(doc(db, 'staffTimetables', teacher.id), {\r\n                        staffName: teacher.name,\r\n                        timetable: staffTT,\r\n                        generatedAt: new Date().toISOString()\r\n                    });\r\n                }\r\n            }\r\n\r\n            // Convert back to nested arrays for display\r\n            const displayClassTimetables = {};\r\n            Object.keys(serializableClassTimetables).forEach(className => {\r\n                const days = [[], [], [], [], []];\r\n                serializableClassTimetables[className].forEach(slot => {\r\n                    if (!days[slot.day]) days[slot.day] = [];\r\n                    days[slot.day][slot.period] = {\r\n                        subject: slot.subject,\r\n                        teacher: slot.teacher,\r\n                        type: slot.type\r\n                    };\r\n                });\r\n                // Fill empty periods with null\r\n                days.forEach((day, idx) => {\r\n                    if (!days[idx]) days[idx] = [];\r\n                    for (let p = 0; p < 6; p++) {\r\n                        if (!days[idx][p]) days[idx][p] = null;\r\n                    }\r\n                });\r\n                displayClassTimetables[className] = days;\r\n            });\r\n\r\n            const displayStaffTimetables = {};\r\n            Object.keys(serializableStaffTimetables).forEach(staffName => {\r\n                const days = [[], [], [], [], []];\r\n                serializableStaffTimetables[staffName].forEach(slot => {\r\n                    if (!days[slot.day]) days[slot.day] = [];\r\n                    days[slot.day][slot.period] = {\r\n                        subject: slot.subject,\r\n                        class: slot.class,\r\n                        type: slot.type\r\n                    };\r\n                });\r\n                // Fill empty periods with FREE\r\n                days.forEach((day, idx) => {\r\n                    if (!days[idx]) days[idx] = [];\r\n                    for (let p = 0; p < 6; p++) {\r\n                        if (!days[idx][p]) {\r\n                            days[idx][p] = { subject: 'FREE', class: '-', type: 'free' };\r\n                        }\r\n                    }\r\n                });\r\n                displayStaffTimetables[staffName] = days;\r\n            });\r\n\r\n            setTimetable({\r\n                classTimetables: displayClassTimetables,\r\n                staffTimetables: displayStaffTimetables\r\n            });\r\n\r\n            showToast(' Timetable generated & saved!', 'success');\r\n\r\n            setTimeout(() => {\r\n                document.getElementById('view-timetables')?.scrollIntoView({ behavior: 'smooth' });\r\n            }, 1000);\r\n        } else {\r\n            showToast(' Failed: ' + result.error, 'error');\r\n        }\r\n    } catch (error) {\r\n        showToast(' Error: ' + error.message, 'error');\r\n        console.error(error);\r\n    }\r\n\r\n    setLoading(false);\r\n};;\r\n\r\n    if (loading) {\r\n        return (\r\n            <>\r\n                <AnimatedBackground />\r\n                <div style={{\r\n                    display: 'flex',\r\n                    flexDirection: 'column',\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    height: '100vh',\r\n                    color: 'white',\r\n                    fontSize: '24px',\r\n                    gap: '20px'\r\n                }}>\r\n                    <div className=\"spinner\"></div>\r\n                    <div>Loading...</div>\r\n                </div>\r\n            </>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <AnimatedBackground />\r\n\r\n            <div className=\"header\">\r\n                <div className=\"header-content\">\r\n                    <h1> Admin Dashboard</h1>\r\n                    <div className=\"header-actions\">\r\n                        <button className=\"theme-toggle\"></button>\r\n                        <button className=\"btn btn-danger btn-sm\" onClick={onLogout}>\r\n                            Logout\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"content\">\r\n\r\n                {/* ==================== CLASSES SECTION - FIX 3 ==================== */}\r\n                <div className=\"section\">\r\n                    <div className=\"section-header\">\r\n                        <span className=\"section-icon\"></span>\r\n                        <h2 className=\"section-title\">Manage Classes</h2>\r\n                    </div>\r\n\r\n                    <div className=\"card\">\r\n                        <h3>{newClass.id ? ' Edit Class' : ' Add New Class'}</h3>\r\n                        <div className=\"grid-2\">\r\n                            <div className=\"form-group\">\r\n                                <label>Class Name *</label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    value={newClass.name}\r\n                                    onChange={e => setNewClass({ ...newClass, name: e.target.value.toUpperCase() })}\r\n                                    placeholder=\"CS3A, EE2B\"\r\n                                />\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label>Hall Number (Optional)</label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    value={newClass.hallNumber}\r\n                                    onChange={e => setNewClass({ ...newClass, hallNumber: e.target.value })}\r\n                                    placeholder=\"Hall 101\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <div style={{display: 'flex', gap: '10px'}}>\r\n                            <button className=\"btn btn-primary\" onClick={addClass}>\r\n                                {newClass.id ? ' Update Class' : ' Add Class'}\r\n                            </button>\r\n                            {newClass.id && (\r\n                                <button className=\"btn btn-secondary\" onClick={() => setNewClass({ name: '', hallNumber: '' })}>\r\n                                     Cancel\r\n                                </button>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"card\">\r\n                        <h3>Existing Classes ({classes.length})</h3>\r\n                        {classes.length === 0 ? (\r\n                            <p style={{color: '#64748b', textAlign: 'center', padding: '20px'}}>\r\n                                No classes added yet\r\n                            </p>\r\n                        ) : (\r\n                            <>\r\n                                <div className=\"desktop-table\">\r\n                                    <table>\r\n                                        <thead>\r\n                                            <tr>\r\n                                                <th>#</th>\r\n                                                <th>Class Name</th>\r\n                                                <th>Hall Number</th>\r\n                                                <th>Subjects</th>\r\n                                                <th>Hours</th>\r\n                                                <th>Actions</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                            {classes.map((cls, idx) => {\r\n                                                const classSubjects = subjects.filter(s => s.className === cls.name);\r\n                                                const totalHours = classSubjects.reduce((sum, s) => sum + s.hoursPerWeek, 0);\r\n\r\n                                                return (\r\n                                                    <tr key={cls.id}>\r\n                                                        <td>{idx + 1}</td>\r\n                                                        <td><strong>{cls.name}</strong></td>\r\n                                                        <td>{cls.hallNumber || '-'}</td>\r\n                                                        <td>{classSubjects.length}</td>\r\n                                                        <td>\r\n                                                            <span className={`badge ${totalHours === 30 ? 'badge-success' : 'badge-danger'}`}>\r\n                                                                {totalHours}/30h\r\n                                                            </span>\r\n                                                        </td>\r\n                                                        <td>\r\n                                                            <div className=\"action-buttons\">\r\n                                                                <button \r\n                                                                    className=\"btn-icon btn-icon-primary\"\r\n                                                                    onClick={() => editClass(cls)}\r\n                                                                    title=\"Edit\"\r\n                                                                >\r\n                                                                    \r\n                                                                </button>\r\n                                                                <button \r\n                                                                    className=\"btn-icon btn-icon-danger\"\r\n                                                                    onClick={() => deleteClass(cls.id)}\r\n                                                                    title=\"Delete\"\r\n                                                                >\r\n                                                                    \r\n                                                                </button>\r\n                                                            </div>\r\n                                                        </td>\r\n                                                    </tr>\r\n                                                );\r\n                                            })}\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n\r\n                                <div className=\"mobile-cards\">\r\n                                    {classes.map((cls, idx) => {\r\n                                        const classSubjects = subjects.filter(s => s.className === cls.name);\r\n                                        const totalHours = classSubjects.reduce((sum, s) => sum + s.hoursPerWeek, 0);\r\n\r\n                                        return (\r\n                                            <div key={cls.id} className=\"mobile-card\">\r\n                                                <div className=\"mobile-card-header\">\r\n                                                    <span className=\"mobile-card-title\">{cls.name}</span>\r\n                                                    <span className=\"mobile-card-badge\">#{idx + 1}</span>\r\n                                                </div>\r\n                                                <div className=\"mobile-card-body\">\r\n                                                    <div className=\"mobile-card-row\">\r\n                                                        <span className=\"mobile-card-label\">Hall:</span>\r\n                                                        <span className=\"mobile-card-value\">{cls.hallNumber || '-'}</span>\r\n                                                    </div>\r\n                                                    <div className=\"mobile-card-row\">\r\n                                                        <span className=\"mobile-card-label\">Subjects:</span>\r\n                                                        <span className=\"mobile-card-value\">{classSubjects.length}</span>\r\n                                                    </div>\r\n                                                    <div className=\"mobile-card-row\">\r\n                                                        <span className=\"mobile-card-label\">Hours:</span>\r\n                                                        <span className=\"mobile-card-value\">{totalHours}/30h</span>\r\n                                                    </div>\r\n                                                </div>\r\n                                                <div className=\"mobile-card-actions\">\r\n                                                    <button className=\"btn btn-primary btn-sm\" onClick={() => editClass(cls)}>\r\n                                                         Edit\r\n                                                    </button>\r\n                                                    <button className=\"btn btn-danger btn-sm\" onClick={() => deleteClass(cls.id)}>\r\n                                                         Delete\r\n                                                    </button>\r\n                                                </div>\r\n                                            </div>\r\n                                        );\r\n                                    })}\r\n                                </div>\r\n                            </>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n\r\n                {/* ==================== STAFF SECTION - FIX 4 ==================== */}\r\n                <div className=\"section\">\r\n                    <div className=\"section-header\">\r\n                        <span className=\"section-icon\"></span>\r\n                        <h2 className=\"section-title\">Manage Staff</h2>\r\n                    </div>\r\n\r\n                    <div className=\"card\" ref={staffFormRef}>\r\n                        <h3>{newStaff.id ? ' Edit Staff' : ' Add New Staff'}</h3>\r\n                        <div className=\"grid-2\">\r\n                            <div className=\"form-group\">\r\n                                <label>Full Name *</label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    placeholder=\"Dr. John Doe\"\r\n                                    value={newStaff.name}\r\n                                    onChange={e => setNewStaff({ ...newStaff, name: e.target.value })}\r\n                                />\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label>Username *</label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    placeholder=\"john\"\r\n                                    disabled={!!newStaff.id}\r\n                                    value={newStaff.username}\r\n                                    onChange={e => setNewStaff({ ...newStaff, username: e.target.value })}\r\n                                    style={newStaff.id ? {background: '#f1f5f9', cursor: 'not-allowed'} : {}}\r\n                                />\r\n                            </div>\r\n                            {!newStaff.id && (\r\n                                <div className=\"form-group\">\r\n                                    <label>Password *</label>\r\n                                    <input\r\n                                        type=\"password\"\r\n                                        placeholder=\"Password\"\r\n                                        value={newStaff.password}\r\n                                        onChange={e => setNewStaff({ ...newStaff, password: e.target.value })}\r\n                                    />\r\n                                </div>\r\n                            )}\r\n                            <div className=\"form-group\">\r\n                                <label>Free Period Mode</label>\r\n                                <select\r\n                                    value={newStaff.freePeriodMode}\r\n                                    onChange={e => setNewStaff({ ...newStaff, freePeriodMode: e.target.value })}\r\n                                >\r\n                                    <option value=\"auto\">Auto</option>\r\n                                    <option value=\"manual\">Manual</option>\r\n                                </select>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {newStaff.freePeriodMode === 'manual' && (\r\n                            <div className=\"form-group\">\r\n                                <label>Free Periods per Week</label>\r\n                                <input\r\n                                    type=\"number\"\r\n                                    min=\"0\"\r\n                                    max=\"30\"\r\n                                    value={newStaff.manualFreePeriods}\r\n                                    onChange={e => setNewStaff({ \r\n                                        ...newStaff, \r\n                                        manualFreePeriods: parseInt(e.target.value) || 0 \r\n                                    })}\r\n                                />\r\n                            </div>\r\n                        )}\r\n\r\n                        <div className=\"button-group\">\r\n                            <button className=\"btn btn-primary\" onClick={addOrUpdateStaff}>\r\n                                {newStaff.id ? ' Save Changes' : ' Add Staff'}\r\n                            </button>\r\n                            {newStaff.id && (\r\n                                <button className=\"btn btn-secondary\" onClick={resetStaffForm}>\r\n                                     Cancel\r\n                                </button>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"card\">\r\n                        <h3>Existing Staff ({teachers.length})</h3>\r\n                        {teachers.length === 0 ? (\r\n                            <p style={{color: '#64748b', textAlign: 'center', padding: '20px'}}>\r\n                                No staff added yet\r\n                            </p>\r\n                        ) : (\r\n                            <>\r\n                                <div className=\"desktop-table\">\r\n                                    <table>\r\n                                        <thead>\r\n                                            <tr>\r\n                                                <th>S.No</th>\r\n                                                <th>Name</th>\r\n                                                <th>Username</th>\r\n                                                <th>Mode</th>\r\n                                                <th>Actions</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                            {teachers.map((s, idx) => (\r\n                                                <tr key={s.id}>\r\n                                                    <td><span className=\"staff-badge\">S{idx + 1}</span></td>\r\n                                                    <td><strong>{s.name}</strong></td>\r\n                                                    <td>{s.username}</td>\r\n                                                    <td>\r\n                                                        {s.freePeriodMode === 'manual' \r\n                                                            ? `Manual (${s.manualFreePeriods})` \r\n                                                            : 'Auto'}\r\n                                                    </td>\r\n                                                    <td>\r\n                                                        <div className=\"action-buttons\">\r\n                                                            <button \r\n                                                                className=\"btn-icon btn-icon-primary\"\r\n                                                                onClick={() => editStaff(s)}\r\n                                                                title=\"Edit\"\r\n                                                            >\r\n                                                                \r\n                                                            </button>\r\n                                                            <button \r\n                                                                className=\"btn-icon btn-icon-danger\"\r\n                                                                onClick={() => deleteStaff(s.id)}\r\n                                                                title=\"Delete\"\r\n                                                            >\r\n                                                                \r\n                                                            </button>\r\n                                                        </div>\r\n                                                    </td>\r\n                                                </tr>\r\n                                            ))}\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n\r\n                                <div className=\"mobile-cards\">\r\n                                    {teachers.map((s, idx) => (\r\n                                        <div key={s.id} className=\"mobile-card\">\r\n                                            <div className=\"mobile-card-header\">\r\n                                                <span className=\"mobile-card-title\">{s.name}</span>\r\n                                                <span className=\"mobile-card-badge\">S{idx + 1}</span>\r\n                                            </div>\r\n                                            <div className=\"mobile-card-body\">\r\n                                                <div className=\"mobile-card-row\">\r\n                                                    <span className=\"mobile-card-label\">Username:</span>\r\n                                                    <span className=\"mobile-card-value\">{s.username}</span>\r\n                                                </div>\r\n                                                <div className=\"mobile-card-row\">\r\n                                                    <span className=\"mobile-card-label\">Mode:</span>\r\n                                                    <span className=\"mobile-card-value\">\r\n                                                        {s.freePeriodMode === 'manual' \r\n                                                            ? `Manual (${s.manualFreePeriods})` \r\n                                                            : 'Auto'}\r\n                                                    </span>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"mobile-card-actions\">\r\n                                                <button className=\"btn btn-primary btn-sm\" onClick={() => editStaff(s)}>\r\n                                                     Edit\r\n                                                </button>\r\n                                                <button className=\"btn btn-danger btn-sm\" onClick={() => deleteStaff(s.id)}>\r\n                                                     Delete\r\n                                                </button>\r\n                                            </div>\r\n                                        </div>\r\n                                    ))}\r\n                                </div>\r\n                            </>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n\r\n                {/* ==================== SUBJECTS SECTION - FIX 5 ==================== */}\r\n                <div className=\"section\" id=\"subject-section\">\r\n                    <div className=\"section-header\">\r\n                        <span className=\"section-icon\"></span>\r\n                        <h2 className=\"section-title\">Manage Subjects</h2>\r\n                    </div>\r\n\r\n                    {newSubject.className && (\r\n                        <HoursTracker className={newSubject.className} subjects={subjects} />\r\n                    )}\r\n\r\n                    <div className=\"card\" ref={subjectFormRef}>\r\n                        <h3>{newSubject.id ? ' Edit Subject' : ' Add New Subject'}</h3>\r\n                        <div className=\"grid-2\">\r\n                            <div className=\"form-group\">\r\n                                <label>Select Class *</label>\r\n                                <select\r\n                                    value={newSubject.className}\r\n                                    onChange={e => setNewSubject({ ...newSubject, className: e.target.value })}\r\n                                >\r\n                                    <option value=\"\">-- Select Class --</option>\r\n                                    {classes.map(cls => (\r\n                                        <option key={cls.id} value={cls.name}>{cls.name}</option>\r\n                                    ))}\r\n                                </select>\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label>Subject Name *</label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    value={newSubject.name}\r\n                                    onChange={e => setNewSubject({ ...newSubject, name: e.target.value })}\r\n                                    placeholder=\"DBMS, AI Lab, etc.\"\r\n                                />\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label>Subject Type *</label>\r\n                                <select\r\n                                    value={newSubject.subjectType}\r\n                                    onChange={e => setNewSubject({ ...newSubject, subjectType: e.target.value })}\r\n                                >\r\n                                    <option value=\"Core\">Core</option>\r\n                                    <option value=\"Elective\">Elective</option>\r\n                                    <option value=\"Lab\">Lab</option>\r\n                                    <option value=\"Other\">Other</option>\r\n                                </select>\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label>Hours per Week *</label>\r\n                                <input\r\n                                    type=\"number\"\r\n                                    min=\"1\"\r\n                                    max=\"30\"\r\n                                    value={newSubject.hoursPerWeek}\r\n                                    onChange={e => setNewSubject({ \r\n                                        ...newSubject, \r\n                                        hoursPerWeek: parseInt(e.target.value) || 6 \r\n                                    })}\r\n                                />\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label>Teacher *</label>\r\n                                <select\r\n                                    value={newSubject.teacher}\r\n                                    onChange={e => setNewSubject({ ...newSubject, teacher: e.target.value })}\r\n                                >\r\n                                    <option value=\"\">-- Select Teacher --</option>\r\n                                    {teachers.map(t => (\r\n                                        <option key={t.id} value={t.name}>{t.name}</option>\r\n                                    ))}\r\n                                </select>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"checkbox-group\">\r\n                            <input\r\n                                type=\"checkbox\"\r\n                                id=\"continuous\"\r\n                                checked={newSubject.isContinuous}\r\n                                onChange={e => setNewSubject({ ...newSubject, isContinuous: e.target.checked })}\r\n                            />\r\n                            <label htmlFor=\"continuous\" style={{marginBottom: 0}}>\r\n                                Continuous Period (Lab)\r\n                            </label>\r\n                        </div>\r\n\r\n                        {newSubject.isContinuous && (\r\n                            <div className=\"form-group\">\r\n                                <label>Block Size</label>\r\n                                <select\r\n                                    value={newSubject.blockSize}\r\n                                    onChange={e => setNewSubject({ \r\n                                        ...newSubject, \r\n                                        blockSize: parseInt(e.target.value) \r\n                                    })}\r\n                                >\r\n                                    <option value={2}>2 Periods</option>\r\n                                    <option value={3}>3 Periods</option>\r\n                                </select>\r\n                            </div>\r\n                        )}\r\n\r\n                        <div className=\"button-group\">\r\n                            <button className=\"btn btn-primary\" onClick={addOrUpdateSubject}>\r\n                                {newSubject.id ? ' Save Changes' : ' Add Subject'}\r\n                            </button>\r\n                            {newSubject.id && (\r\n                                <button className=\"btn btn-secondary\" onClick={resetSubjectForm}>\r\n                                     Cancel\r\n                                </button>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"card\">\r\n                        <h3>Existing Subjects ({subjects.length})</h3>\r\n                        {subjects.length === 0 ? (\r\n                            <p style={{color: '#64748b', textAlign: 'center', padding: '20px'}}>\r\n                                No subjects added yet\r\n                            </p>\r\n                        ) : (\r\n                            <>\r\n                                {classes.map(cls => {\r\n                                    const classSubjects = subjects.filter(s => s.className === cls.name);\r\n                                    if (classSubjects.length === 0) return null;\r\n\r\n                                    const totalHours = classSubjects.reduce((sum, s) => sum + s.hoursPerWeek, 0);\r\n\r\n                                    return (\r\n                                        <div key={cls.id} style={{marginBottom: '30px'}}>\r\n                                            <h4 style={{\r\n                                                marginBottom: '15px', \r\n                                                display: 'flex', \r\n                                                alignItems: 'center', \r\n                                                gap: '10px', \r\n                                                color: '#1e293b',\r\n                                                flexWrap: 'wrap'\r\n                                            }}>\r\n                                                Class: {cls.name}\r\n                                                <span className={`badge ${totalHours === 30 ? 'badge-success' : 'badge-danger'}`}>\r\n                                                    {totalHours}/30 hours\r\n                                                </span>\r\n                                            </h4>\r\n\r\n                                            <div className=\"desktop-table\">\r\n                                                <table>\r\n                                                    <thead>\r\n                                                        <tr>\r\n                                                            <th>Subject</th>\r\n                                                            <th>Type</th>\r\n                                                            <th>Hours</th>\r\n                                                            <th>Teacher</th>\r\n                                                            <th>Continuous</th>\r\n                                                            <th>Actions</th>\r\n                                                        </tr>\r\n                                                    </thead>\r\n                                                    <tbody>\r\n                                                        {classSubjects.map(sub => (\r\n                                                            <tr key={sub.id}>\r\n                                                                <td><strong>{sub.name}</strong></td>\r\n                                                                <td>{sub.subjectType}</td>\r\n                                                                <td>{sub.hoursPerWeek}h</td>\r\n                                                                <td>{sub.teacher}</td>\r\n                                                                <td>\r\n                                                                    {sub.isContinuous ? `Yes (${sub.blockSize}p)` : 'No'}\r\n                                                                </td>\r\n                                                                <td>\r\n                                                                    <div className=\"action-buttons\">\r\n                                                                        <button \r\n                                                                            className=\"btn-icon btn-icon-primary\"\r\n                                                                            onClick={() => editSubject(sub)}\r\n                                                                            title=\"Edit\"\r\n                                                                        >\r\n                                                                            \r\n                                                                        </button>\r\n                                                                        <button \r\n                                                                            className=\"btn-icon btn-icon-danger\"\r\n                                                                            onClick={() => deleteSubject(sub.id)}\r\n                                                                            title=\"Delete\"\r\n                                                                        >\r\n                                                                            \r\n                                                                        </button>\r\n                                                                    </div>\r\n                                                                </td>\r\n                                                            </tr>\r\n                                                        ))}\r\n                                                    </tbody>\r\n                                                </table>\r\n                                            </div>\r\n\r\n                                            <div className=\"mobile-cards\">\r\n                                                {classSubjects.map(sub => (\r\n                                                    <div key={sub.id} className=\"mobile-card\">\r\n                                                        <div className=\"mobile-card-header\">\r\n                                                            <span className=\"mobile-card-title\">{sub.name}</span>\r\n                                                            <span className=\"mobile-card-badge\">{sub.subjectType}</span>\r\n                                                        </div>\r\n                                                        <div className=\"mobile-card-body\">\r\n                                                            <div className=\"mobile-card-row\">\r\n                                                                <span className=\"mobile-card-label\">Hours:</span>\r\n                                                                <span className=\"mobile-card-value\">{sub.hoursPerWeek}h</span>\r\n                                                            </div>\r\n                                                            <div className=\"mobile-card-row\">\r\n                                                                <span className=\"mobile-card-label\">Teacher:</span>\r\n                                                                <span className=\"mobile-card-value\">{sub.teacher}</span>\r\n                                                            </div>\r\n                                                            <div className=\"mobile-card-row\">\r\n                                                                <span className=\"mobile-card-label\">Continuous:</span>\r\n                                                                <span className=\"mobile-card-value\">\r\n                                                                    {sub.isContinuous ? `Yes (${sub.blockSize}p)` : 'No'}\r\n                                                                </span>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                        <div className=\"mobile-card-actions\">\r\n                                                            <button className=\"btn btn-primary btn-sm\" onClick={() => editSubject(sub)}>\r\n                                                                 Edit\r\n                                                            </button>\r\n                                                            <button className=\"btn btn-danger btn-sm\" onClick={() => deleteSubject(sub.id)}>\r\n                                                                 Delete\r\n                                                            </button>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                ))}\r\n                                            </div>\r\n                                        </div>\r\n                                    );\r\n                                })}\r\n                            </>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n\r\n                {/* ==================== GENERATE TIMETABLE ==================== */}\r\n                <div className=\"section\">\r\n                    <div className=\"section-header\">\r\n                        <span className=\"section-icon\"></span>\r\n                        <h2 className=\"section-title\">Generate Timetable</h2>\r\n                    </div>\r\n\r\n                    <div className=\"card\">\r\n                        <h3>Ready to Generate</h3>\r\n                        <div className=\"info-box\">\r\n                            <p style={{marginBottom: '15px', fontSize: '15px', lineHeight: '1.6'}}>\r\n                                The smart algorithm will create an optimized timetable:\r\n                            </p>\r\n                            <ul style={{marginLeft: '25px', lineHeight: '1.8'}}>\r\n                                <li> No free periods (all 30 filled)</li>\r\n                                <li> High-hour subjects (5h) appear daily</li>\r\n                                <li> Labs in continuous blocks</li>\r\n                                <li> No teacher conflicts</li>\r\n                                <li> Balanced workload</li>\r\n                            </ul>\r\n                        </div>\r\n\r\n                        <div className=\"stats-grid\">\r\n                            <div className=\"stat-card stat-primary\">\r\n                                <div className=\"stat-label\">Classes</div>\r\n                                <div className=\"stat-value\">{classes.length}</div>\r\n                            </div>\r\n                            <div className=\"stat-card stat-success\">\r\n                                <div className=\"stat-label\">Teachers</div>\r\n                                <div className=\"stat-value\">{teachers.length}</div>\r\n                            </div>\r\n                            <div className=\"stat-card stat-warning\">\r\n                                <div className=\"stat-label\">Subjects</div>\r\n                                <div className=\"stat-value\">{subjects.length}</div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <button \r\n                            className=\"btn btn-success btn-lg\"\r\n                            onClick={generateTimetable}\r\n                            disabled={loading}\r\n                        >\r\n                            {loading ? ' Generating...' : ' Generate Timetable'}\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* ==================== VIEW TIMETABLES - FIX 6 ==================== */}\r\n                {timetable && (\r\n                    <div className=\"section\" id=\"view-timetables\">\r\n                        <div className=\"section-header\">\r\n                            <span className=\"section-icon\"></span>\r\n                            <h2 className=\"section-title\">Generated Timetables</h2>\r\n                        </div>\r\n\r\n                        <div className=\"card\">\r\n                            <h3>Class-wise Timetables</h3>\r\n                            {classes.map(cls => (\r\n                                <div key={cls.id} className=\"timetable-container\">\r\n                                    <h4 className=\"timetable-title\">\r\n                                        Class: {cls.name} {cls.hallNumber && `(${cls.hallNumber})`}\r\n                                    </h4>\r\n                                    <div className=\"timetable-scroll\">\r\n                                        <TimetableGrid \r\n                                            timetable={timetable.classTimetables} \r\n                                            className={cls.name} \r\n                                        />\r\n                                    </div>\r\n                                    <div className=\"timetable-actions no-print\">\r\n                                        <button \r\n                                            className=\"btn btn-primary btn-sm\"\r\n                                            onClick={() => exportToPDF('timetable-export', `${cls.name}_Timetable.pdf`)}\r\n                                        >\r\n                                             Download PDF\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n\r\n                        <div className=\"card\">\r\n                            <h3>Staff-wise Timetables</h3>\r\n                            {teachers.map(teacher => (\r\n                                <div key={teacher.id} className=\"timetable-container\">\r\n                                    <h4 className=\"timetable-title\">\r\n                                        Teacher: {teacher.name}\r\n                                    </h4>\r\n                                    <div className=\"timetable-scroll\">\r\n                                        <StaffTimetableGrid \r\n                                            timetable={timetable.staffTimetables} \r\n                                            staffName={teacher.name} \r\n                                        />\r\n                                    </div>\r\n                                    <div className=\"timetable-actions no-print\">\r\n                                        <button \r\n                                            className=\"btn btn-primary btn-sm\"\r\n                                            onClick={() => exportToPDF('staff-timetable-export', `${teacher.name}_Timetable.pdf`)}\r\n                                        >\r\n                                             Download PDF\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n                )}\r\n\r\n            </div>\r\n\r\n            <ToastContainer toasts={toasts} removeToast={removeToast} />\r\n        </>\r\n    );\r\n}","import React, { useEffect } from 'react';\r\n\r\nexport function Toast({ message, type, onClose }) {\r\n    useEffect(() => {\r\n        const timer = setTimeout(onClose, 5000);\r\n        return () => clearTimeout(timer);\r\n    }, [onClose]);\r\n\r\n    return (\r\n        <div className={`toast toast-${type}`}>\r\n            <div className=\"toast-icon\">\r\n                {type === 'success' ? '' : ''}\r\n            </div>\r\n            <div className=\"toast-text\">{message}</div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport function ToastContainer({ toasts, removeToast }) {\r\n    return (\r\n        <div className=\"toast-container\">\r\n            {toasts.map((toast, index) => (\r\n                <Toast\r\n                    key={index}\r\n                    message={toast.message}\r\n                    type={toast.type}\r\n                    onClose={() => removeToast(index)}\r\n                />\r\n            ))}\r\n        </div>\r\n    );\r\n}","import React from 'react';\r\n\r\nexport default function HoursTracker({ className, subjects }) {\r\n    const allocated = subjects\r\n        .filter(s => s.className === className)\r\n        .reduce((sum, s) => sum + s.hoursPerWeek, 0);\r\n\r\n    const remaining = 30 - allocated;\r\n    const percentage = (allocated / 30) * 100;\r\n\r\n    return (\r\n        <div className=\"hours-tracker\">\r\n            <div className=\"hours-grid\">\r\n                <div className=\"hours-item\">\r\n                    <div className=\"hours-label\">Allocated</div>\r\n                    <div className=\"hours-value\">{allocated}</div>\r\n                </div>\r\n                <div className=\"hours-item\">\r\n                    <div className=\"hours-label\">Remaining</div>\r\n                    <div className=\"hours-value\">{remaining}</div>\r\n                </div>\r\n                <div className=\"hours-item\">\r\n                    <div className=\"hours-label\">Total</div>\r\n                    <div className=\"hours-value\">30</div>\r\n                </div>\r\n            </div>\r\n            <div className=\"progress-bar\">\r\n                <div \r\n                    className=\"progress-fill\" \r\n                    style={{ width: `${Math.min(percentage, 100)}%` }} \r\n                />\r\n            </div>\r\n            {remaining === 0 && (\r\n                <div style={{ marginTop: '12px', textAlign: 'center', fontWeight: 'bold' }}>\r\n                     Perfect! No free periods.\r\n                </div>\r\n            )}\r\n            {remaining < 0 && (\r\n                <div style={{ marginTop: '12px', textAlign: 'center', fontWeight: 'bold', color: '#ef4444' }}>\r\n                     Over by {Math.abs(remaining)} hours!\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}","import React from 'react';\r\n\r\nconst DAYS = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday'];\r\n\r\nexport default function TimetableGrid({ timetable, className }) {\r\n    if (!timetable || !timetable[className]) {\r\n        return (\r\n            <div style={{padding: '40px', textAlign: 'center', color: '#64748b'}}>\r\n                No timetable available\r\n            </div>\r\n        );\r\n    }\r\n\r\n    const grid = timetable[className];\r\n\r\n    // Debug code\r\n    console.log('TimetableGrid - className:', className);\r\n    console.log('TimetableGrid - grid:', grid);\r\n    console.log('TimetableGrid - grid is array?', Array.isArray(grid));\r\n\r\n    // Safety check: if grid is not an array or not nested properly\r\n    if (!Array.isArray(grid) || grid.length === 0) {\r\n        return (\r\n            <div style={{padding: '40px', textAlign: 'center', color: '#64748b'}}>\r\n                Invalid timetable format\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div id=\"class-timetable-export\" className=\"timetable-grid\">\r\n            <div className=\"timetable-header\">Day/Period</div>\r\n            {[...Array(6)].map((_, i) => (\r\n                <div key={i} className=\"timetable-header\">P{i + 1}</div>\r\n            ))}\r\n\r\n            {DAYS.map((day, dayIndex) => {\r\n                // Safety check for each day\r\n                if (!grid[dayIndex] || !Array.isArray(grid[dayIndex])) {\r\n                    return null;\r\n                }\r\n\r\n                return (\r\n                    <React.Fragment key={day}>\r\n                        <div className=\"timetable-day\">{day}</div>\r\n                        {grid[dayIndex].map((slot, periodIndex) => (\r\n                            <div \r\n                                key={periodIndex} \r\n                                className={`timetable-cell subject-${slot && slot.type ? slot.type.toLowerCase() : 'free'}`}\r\n                            >\r\n                                {slot && slot.subject !== 'FREE' ? (\r\n                                    <>\r\n                                        <div className=\"subject-name\">{slot.subject}</div>\r\n                                        <div className=\"teacher-name\">{slot.teacher}</div>\r\n                                    </>\r\n                                ) : (\r\n                                    <div style={{ color: '#94a3b8' }}>FREE</div>\r\n                                )}\r\n                            </div>\r\n                        ))}\r\n                    </React.Fragment>\r\n                );\r\n            })}\r\n        </div>\r\n    );\r\n}\r\n","import React from 'react';\r\n\r\nconst DAYS = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday'];\r\n\r\nexport default function StaffTimetableGrid({ timetable, staffName }) {\r\n    if (!timetable || !timetable[staffName]) {\r\n        return (\r\n            <div style={{padding: '40px', textAlign: 'center', color: '#64748b'}}>\r\n                No timetable generated yet\r\n            </div>\r\n        );\r\n    }\r\n\r\n    const grid = timetable[staffName];\r\n\r\n    // Debug code - placed BEFORE return statement\r\n    console.log('StaffTimetableGrid - staffName:', staffName);\r\n    console.log('StaffTimetableGrid - grid:', grid);\r\n    console.log('StaffTimetableGrid - grid is array?', Array.isArray(grid));\r\n    if (Array.isArray(grid)) {\r\n        console.log('Grid length:', grid.length);\r\n        console.log('First element:', grid[0]);\r\n    }\r\n\r\n    return (\r\n        <div id=\"staff-timetable-export\" className=\"timetable-grid\">\r\n            <div className=\"timetable-header\">Day/Period</div>\r\n            {[...Array(6)].map((_, i) => (\r\n                <div key={i} className=\"timetable-header\">P{i + 1}</div>\r\n            ))}\r\n\r\n            {DAYS.map((day, dayIndex) => (\r\n                <React.Fragment key={day}>\r\n                    <div className=\"timetable-day\">{day}</div>\r\n                    {grid[dayIndex].map((slot, periodIndex) => (\r\n                        <div \r\n                            key={periodIndex} \r\n                            className={`timetable-cell subject-${slot.type.toLowerCase()}`}\r\n                        >\r\n                            {slot.subject !== 'FREE' ? (\r\n                                <>\r\n                                    <div className=\"subject-name\">{slot.subject}</div>\r\n                                    <div className=\"teacher-name\">{slot.class}</div>\r\n                                </>\r\n                            ) : (\r\n                                <div style={{ color: '#94a3b8' }}>FREE</div>\r\n                            )}\r\n                        </div>\r\n                    ))}\r\n                </React.Fragment>\r\n            ))}\r\n        </div>\r\n    );\r\n}\r\n","export class TimetableGenerator {\r\n    constructor(classes, staff, subjects) {\r\n        this.classes = classes || [];\r\n        this.staff = staff || [];\r\n        this.subjects = subjects || [];\r\n        this.classTimetables = {};\r\n        this.staffTimetables = {};\r\n        this.teacherBusySlots = {};\r\n        this.teacherWeeklyCount = {};\r\n        this.teacherDailyCount = {};\r\n        this.DAYS = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday'];\r\n        this.PERIODS = 6;\r\n        this.MAX_PERIODS_PER_WEEK = 30;\r\n        this.MIN_PERIODS_PER_WEEK = 24;\r\n        this.MAX_SAME_SUBJECT_PER_DAY = 2;\r\n        this.MAX_TEACHER_HOURS_PER_DAY = 6;\r\n        this.MAX_TEACHER_HOURS_PER_WEEK = 30;\r\n    }\r\n\r\n    validate() {\r\n        const errors = [];\r\n\r\n        if (!this.classes || this.classes.length === 0) {\r\n            errors.push('No classes added');\r\n        }\r\n        if (!this.staff || this.staff.filter(s => s.role === 'staff').length === 0) {\r\n            errors.push('No staff added');\r\n        }\r\n        if (!this.subjects || this.subjects.length === 0) {\r\n            errors.push('No subjects added');\r\n        }\r\n\r\n        if (errors.length > 0) {\r\n            return { valid: false, errors };\r\n        }\r\n\r\n        // Validate class hours\r\n        const classHours = {};\r\n        this.subjects.forEach(subject => {\r\n            if (subject && subject.className && subject.hoursPerWeek) {\r\n                classHours[subject.className] = (classHours[subject.className] || 0) + subject.hoursPerWeek;\r\n            }\r\n        });\r\n\r\n        this.classes.forEach(cls => {\r\n            if (cls && cls.name) {\r\n                const hours = classHours[cls.name] || 0;\r\n                if (hours < this.MIN_PERIODS_PER_WEEK || hours > this.MAX_PERIODS_PER_WEEK) {\r\n                    errors.push(`Class ${cls.name}: Has ${hours} hours, needs ${this.MIN_PERIODS_PER_WEEK}-${this.MAX_PERIODS_PER_WEEK}`);\r\n                }\r\n            }\r\n        });\r\n\r\n        // Validate labs\r\n        this.subjects.forEach(subject => {\r\n            if (subject && subject.isContinuous) {\r\n                if (!subject.blockSize || subject.blockSize > this.PERIODS) {\r\n                    errors.push(`Lab ${subject.name}: Invalid block size`);\r\n                }\r\n            }\r\n        });\r\n\r\n        return { valid: errors.length === 0, errors };\r\n    }\r\n\r\n    generate() {\r\n        try {\r\n            console.log('Starting timetable generation...');\r\n\r\n            this._initialize();\r\n\r\n            for (const cls of this.classes) {\r\n                if (!cls || !cls.name) continue;\r\n\r\n                console.log(`Generating timetable for ${cls.name}`);\r\n                const success = this._generateClassTimetable(cls.name);\r\n\r\n                if (!success) {\r\n                    console.warn(`Partial timetable generated for ${cls.name}`);\r\n                }\r\n            }\r\n\r\n            this._generateStaffTimetables();\r\n            const validation = this._validateGenerated();\r\n\r\n            console.log('Timetable generation completed successfully');\r\n\r\n            return {\r\n                success: true,\r\n                classTimetables: this.classTimetables,\r\n                staffTimetables: this.staffTimetables,\r\n                warnings: validation.warnings || []\r\n            };\r\n        } catch (error) {\r\n            console.error('Error generating timetable:', error);\r\n            return {\r\n                success: false,\r\n                error: `Error: ${error.message || 'Unknown error'}. Please check your input data.`\r\n            };\r\n        }\r\n    }\r\n\r\n    _initialize() {\r\n        console.log('Initializing timetables...');\r\n\r\n        // Initialize class timetables\r\n        this.classes.forEach(cls => {\r\n            if (cls && cls.name) {\r\n                this.classTimetables[cls.name] = this.DAYS.map(() => \r\n                    Array(this.PERIODS).fill(null)\r\n                );\r\n            }\r\n        });\r\n\r\n        // Initialize teacher data\r\n        const staffMembers = this.staff.filter(s => s && s.role === 'staff');\r\n        staffMembers.forEach(teacher => {\r\n            if (teacher && teacher.name) {\r\n                this.teacherBusySlots[teacher.name] = {};\r\n                this.teacherWeeklyCount[teacher.name] = 0;\r\n                this.teacherDailyCount[teacher.name] = {};\r\n\r\n                this.DAYS.forEach(day => {\r\n                    this.teacherDailyCount[teacher.name][day] = 0;\r\n                });\r\n            }\r\n        });\r\n\r\n        console.log(`Initialized ${this.classes.length} classes and ${staffMembers.length} teachers`);\r\n    }\r\n\r\n    _generateClassTimetable(className) {\r\n        try {\r\n            const classSubjects = this.subjects.filter(s => \r\n                s && s.className === className\r\n            );\r\n\r\n            if (classSubjects.length === 0) {\r\n                console.warn(`No subjects found for class ${className}`);\r\n                return true;\r\n            }\r\n\r\n            classSubjects.forEach(s => {\r\n                if (s) s.placedHours = 0;\r\n            });\r\n\r\n            // PHASE 1: Place Labs\r\n            const labs = classSubjects.filter(s => s && s.isContinuous);\r\n            console.log(`Placing ${labs.length} labs for ${className}`);\r\n\r\n            for (const lab of labs) {\r\n                if (lab) {\r\n                    this._placeLabFlexible(className, lab);\r\n                }\r\n            }\r\n\r\n            // PHASE 2: Place Regular Subjects\r\n            const regularSubjects = classSubjects.filter(s => s && !s.isContinuous);\r\n            console.log(`Placing ${regularSubjects.length} regular subjects for ${className}`);\r\n\r\n            for (const subject of regularSubjects) {\r\n                if (subject) {\r\n                    this._placeSubjectFlexible(className, subject);\r\n                }\r\n            }\r\n\r\n            return true;\r\n        } catch (error) {\r\n            console.error(`Error generating timetable for ${className}:`, error);\r\n            return false;\r\n        }\r\n    }\r\n\r\n    _placeLabFlexible(className, subject) {\r\n        if (!subject || !subject.name || !subject.teacher) {\r\n            console.warn('Invalid lab subject:', subject);\r\n            return false;\r\n        }\r\n\r\n        const blockSize = subject.blockSize || 2;\r\n        const blocksNeeded = Math.floor((subject.hoursPerWeek || 0) / blockSize);\r\n        let blocksPlaced = 0;\r\n\r\n        console.log(`Placing lab ${subject.name}: ${blocksNeeded} blocks of ${blockSize} periods`);\r\n\r\n        // Generate all possible slots\r\n        const possibleSlots = [];\r\n        this.DAYS.forEach((day, dayIdx) => {\r\n            for (let start = 0; start <= this.PERIODS - blockSize; start++) {\r\n                possibleSlots.push({ day, dayIdx, start });\r\n            }\r\n        });\r\n\r\n        // Try to place blocks\r\n        for (const {day, dayIdx, start} of possibleSlots) {\r\n            if (blocksPlaced >= blocksNeeded) break;\r\n\r\n            // Check if all periods in block are available\r\n            let canPlace = true;\r\n            for (let i = 0; i < blockSize; i++) {\r\n                const period = start + i;\r\n\r\n                // Safety check\r\n                if (!this.classTimetables[className] || \r\n                    !this.classTimetables[className][dayIdx]) {\r\n                    canPlace = false;\r\n                    break;\r\n                }\r\n\r\n                // Check if slot is free\r\n                if (this.classTimetables[className][dayIdx][period]) {\r\n                    canPlace = false;\r\n                    break;\r\n                }\r\n\r\n                // Check teacher availability\r\n                const slotKey = `${day}-P${period + 1}`;\r\n                if (this.teacherBusySlots[subject.teacher] && \r\n                    this.teacherBusySlots[subject.teacher][slotKey]) {\r\n                    canPlace = false;\r\n                    break;\r\n                }\r\n            }\r\n\r\n            // Place the block if possible\r\n            if (canPlace) {\r\n                for (let i = 0; i < blockSize; i++) {\r\n                    const period = start + i;\r\n                    this._placeAt(className, dayIdx, period, subject);\r\n                }\r\n                subject.placedHours = (subject.placedHours || 0) + blockSize;\r\n                blocksPlaced++;\r\n                console.log(`Placed lab block ${blocksPlaced}/${blocksNeeded} for ${subject.name}`);\r\n            }\r\n        }\r\n\r\n        if (blocksPlaced < blocksNeeded) {\r\n            console.warn(`Lab ${subject.name}: Placed ${blocksPlaced}/${blocksNeeded} blocks`);\r\n        }\r\n\r\n        return blocksPlaced > 0;\r\n    }\r\n\r\n    _placeSubjectFlexible(className, subject) {\r\n        if (!subject || !subject.name || !subject.teacher) {\r\n            console.warn('Invalid subject:', subject);\r\n            return false;\r\n        }\r\n\r\n        const hoursToPlace = subject.hoursPerWeek || 0;\r\n        let placed = 0;\r\n        const dailyCount = {};\r\n        this.DAYS.forEach(day => { dailyCount[day] = 0; });\r\n\r\n        console.log(`Placing subject ${subject.name}: ${hoursToPlace} hours`);\r\n\r\n        // Collect all slots\r\n        const allSlots = [];\r\n        this.DAYS.forEach((day, dayIdx) => {\r\n            for (let period = 0; period < this.PERIODS; period++) {\r\n                allSlots.push({ day, dayIdx, period });\r\n            }\r\n        });\r\n\r\n        // Shuffle for randomness\r\n        this._shuffle(allSlots);\r\n\r\n        // Try to place in available slots\r\n        for (const {day, dayIdx, period} of allSlots) {\r\n            if (placed >= hoursToPlace) break;\r\n            if (dailyCount[day] >= this.MAX_SAME_SUBJECT_PER_DAY) continue;\r\n\r\n            // Safety checks\r\n            if (!this.classTimetables[className] || \r\n                !this.classTimetables[className][dayIdx]) {\r\n                continue;\r\n            }\r\n\r\n            // Check if slot is free\r\n            if (this.classTimetables[className][dayIdx][period]) continue;\r\n\r\n            // Check teacher availability\r\n            const slotKey = `${day}-P${period + 1}`;\r\n            if (this.teacherBusySlots[subject.teacher] && \r\n                this.teacherBusySlots[subject.teacher][slotKey]) {\r\n                continue;\r\n            }\r\n\r\n            // Check teacher limits\r\n            const teacherDaily = this.teacherDailyCount[subject.teacher];\r\n            const teacherWeekly = this.teacherWeeklyCount[subject.teacher];\r\n\r\n            if (teacherDaily && teacherDaily[day] >= this.MAX_TEACHER_HOURS_PER_DAY) continue;\r\n            if (teacherWeekly >= this.MAX_TEACHER_HOURS_PER_WEEK) continue;\r\n\r\n            // Place the subject\r\n            this._placeAt(className, dayIdx, period, subject);\r\n            dailyCount[day]++;\r\n            subject.placedHours = (subject.placedHours || 0) + 1;\r\n            placed++;\r\n        }\r\n\r\n        if (placed < hoursToPlace) {\r\n            console.warn(`Subject ${subject.name}: Placed ${placed}/${hoursToPlace} hours`);\r\n        }\r\n\r\n        return placed > 0;\r\n    }\r\n\r\n    _placeAt(className, dayIdx, period, subject) {\r\n        if (!className || !subject || !subject.name || !subject.teacher) {\r\n            console.warn('Invalid placement parameters');\r\n            return;\r\n        }\r\n\r\n        const day = this.DAYS[dayIdx];\r\n        const slotKey = `${day}-P${period + 1}`;\r\n\r\n        // Safety check\r\n        if (!this.classTimetables[className] || \r\n            !this.classTimetables[className][dayIdx]) {\r\n            console.error(`Invalid timetable structure for ${className}`);\r\n            return;\r\n        }\r\n\r\n        // Place in class timetable\r\n        this.classTimetables[className][dayIdx][period] = {\r\n            subject: subject.name,\r\n            teacher: subject.teacher,\r\n            type: subject.subjectType || 'core'\r\n        };\r\n\r\n        // Mark teacher as busy\r\n        if (!this.teacherBusySlots[subject.teacher]) {\r\n            this.teacherBusySlots[subject.teacher] = {};\r\n        }\r\n        this.teacherBusySlots[subject.teacher][slotKey] = true;\r\n\r\n        // Update teacher counts\r\n        this.teacherWeeklyCount[subject.teacher] = \r\n            (this.teacherWeeklyCount[subject.teacher] || 0) + 1;\r\n\r\n        if (!this.teacherDailyCount[subject.teacher]) {\r\n            this.teacherDailyCount[subject.teacher] = {};\r\n        }\r\n        if (!this.teacherDailyCount[subject.teacher][day]) {\r\n            this.teacherDailyCount[subject.teacher][day] = 0;\r\n        }\r\n        this.teacherDailyCount[subject.teacher][day]++;\r\n    }\r\n\r\n    _generateStaffTimetables() {\r\n        console.log('Generating staff timetables...');\r\n\r\n        // Initialize staff timetables\r\n        const staffMembers = this.staff.filter(s => s && s.role === 'staff');\r\n        staffMembers.forEach(teacher => {\r\n            if (teacher && teacher.name) {\r\n                this.staffTimetables[teacher.name] = this.DAYS.map(() => \r\n                    Array(this.PERIODS).fill(null).map(() => ({ \r\n                        subject: 'FREE', \r\n                        class: '-', \r\n                        type: 'free' \r\n                    }))\r\n                );\r\n            }\r\n        });\r\n\r\n        // Fill with class assignments\r\n        this.classes.forEach(cls => {\r\n            if (!cls || !cls.name || !this.classTimetables[cls.name]) return;\r\n\r\n            this.DAYS.forEach((day, dayIndex) => {\r\n                const daySchedule = this.classTimetables[cls.name][dayIndex];\r\n                if (!daySchedule) return;\r\n\r\n                daySchedule.forEach((slot, period) => {\r\n                    if (slot && slot.teacher && this.staffTimetables[slot.teacher]) {\r\n                        this.staffTimetables[slot.teacher][dayIndex][period] = {\r\n                            subject: slot.subject,\r\n                            class: cls.name,\r\n                            type: slot.type\r\n                        };\r\n                    }\r\n                });\r\n            });\r\n        });\r\n\r\n        console.log(`Generated ${Object.keys(this.staffTimetables).length} staff timetables`);\r\n    }\r\n\r\n    _validateGenerated() {\r\n        console.log('Validating generated timetables...');\r\n        const warnings = [];\r\n\r\n        this.classes.forEach(cls => {\r\n            if (!cls || !cls.name) return;\r\n\r\n            if (!this.classTimetables[cls.name]) {\r\n                warnings.push(`Class ${cls.name}: No timetable generated`);\r\n                return;\r\n            }\r\n\r\n            let emptySlots = 0;\r\n\r\n            this.DAYS.forEach((day, dayIdx) => {\r\n                const daySchedule = this.classTimetables[cls.name][dayIdx];\r\n                if (!daySchedule) return;\r\n\r\n                daySchedule.forEach((slot, period) => {\r\n                    if (!slot) {\r\n                        // Fill empty slot with FREE period\r\n                        this.classTimetables[cls.name][dayIdx][period] = {\r\n                            subject: 'FREE',\r\n                            teacher: '-',\r\n                            type: 'free'\r\n                        };\r\n                        emptySlots++;\r\n                    }\r\n                });\r\n            });\r\n\r\n            if (emptySlots > 0) {\r\n                warnings.push(`Class ${cls.name}: ${emptySlots} FREE periods`);\r\n            }\r\n        });\r\n\r\n        console.log(`Validation complete. ${warnings.length} warnings.`);\r\n        return { valid: warnings.length === 0, warnings };\r\n    }\r\n\r\n    _shuffle(array) {\r\n        for (let i = array.length - 1; i > 0; i--) {\r\n            const j = Math.floor(Math.random() * (i + 1));\r\n            [array[i], array[j]] = [array[j], array[i]];\r\n        }\r\n    }\r\n}"],"names":["$parcel$export","e","n","v","s","Object","defineProperty","get","set","enumerable","configurable","$parcel$interopDefault","a","__esModule","default","parcelRequire","$parcel$global","globalThis","parcelRegister","register","module","exports","value","$9b678cdbbac6dec2$export$2e2bcd8739ae039","$ayMG0","$acw62","$aOD4d","$2A5UH","$4XiCD","$e3nvF","$hyYFF","$gqAsg","$bU9CP","$fAZ67","$6AR8M","$ilpIi","user","onLogout","classes","setClasses","useState","staff","setStaff","subjects","setSubjects","timetable","setTimetable","toasts","setToasts","loading","setLoading","staffFormRef","useRef","subjectFormRef","newClass","setNewClass","name","hallNumber","newStaff","setNewStaff","id","username","password","freePeriodMode","manualFreePeriods","newSubject","setNewSubject","className","subjectType","hoursPerWeek","isContinuous","blockSize","teacher","teachers","filter","role","showToast","message","type","newToast","Date","now","prev","setTimeout","removeToast","t","convertFlatToNested","flatTimetable","nested","keys","forEach","key","slots","Array","isArray","length","days","slot","day","period","subject","class","idx","p","undefined","useEffect","fetchAll","cls","st","sb","tt","Promise","all","getDocs","collection","db","docs","map","doc","data","empty","ttData","convertedData","classTimetables","staffTimetables","error","addClass","find","c","updateDoc","docRef","addDoc","editClass","deleteClass","window","confirm","deleteDoc","addOrUpdateStaff","updateData","resetStaffForm","email","uid","userCredential","createUserWithEmailAndPassword","auth","staffData","firebaseUid","setDoc","fullName","editStaff","staffMember","current","scrollIntoView","behavior","block","deleteStaff","x","addOrUpdateSubject","subjectData","resetSubjectForm","console","editSubject","deleteSubject","generateTimetable","generator","TimetableGenerator","validation","validate","valid","errors","result","generate","success","serializableClassTimetables","serializableStaffTimetables","dayIndex","periodIndex","flat","staffName","timetableData","generatedAt","toISOString","ttRef","existing","staffTT","displayClassTimetables","displayStaffTimetables","document","getElementById","jsxs","Fragment","children","jsx","style","display","flexDirection","justifyContent","alignItems","height","color","fontSize","gap","onClick","onChange","target","toUpperCase","placeholder","textAlign","padding","classSubjects","totalHours","reduce","sum","title","ref","disabled","background","cursor","min","max","parseInt","checked","htmlFor","marginBottom","flexWrap","sub","lineHeight","marginLeft","exportToPDF","ToastContainer","$e0e81a01ed643521$export$f2815235e76a62b9","$e0e81a01ed643521$export$8d8dc7d5f743331b","onClose","timer","clearTimeout","toast","index","$511984d6a1a2608c$export$2e2bcd8739ae039","allocated","remaining","percentage","width","Math","marginTop","fontWeight","abs","$0e552b1b7a884617$export$2e2bcd8739ae039","$0e552b1b7a884617$var$DAYS","grid","log","_","i","toLowerCase","$81aa4954b90786d4$export$2e2bcd8739ae039","$81aa4954b90786d4$var$DAYS","$a77c14b5958cefc4$export$21295ca23168aa6a","teacherBusySlots","teacherWeeklyCount","teacherDailyCount","DAYS","PERIODS","MAX_PERIODS_PER_WEEK","MIN_PERIODS_PER_WEEK","MAX_SAME_SUBJECT_PER_DAY","MAX_TEACHER_HOURS_PER_DAY","MAX_TEACHER_HOURS_PER_WEEK","push","classHours","hours","_initialize","_generateClassTimetable","warn","_generateStaffTimetables","_validateGenerated","warnings","fill","staffMembers","placedHours","labs","lab","_placeLabFlexible","regularSubjects","_placeSubjectFlexible","blocksNeeded","floor","blocksPlaced","possibleSlots","dayIdx","start","canPlace","slotKey","_placeAt","hoursToPlace","placed","dailyCount","allSlots","_shuffle","teacherDaily","teacherWeekly","daySchedule","emptySlots","array","j","random"],"version":3,"file":"AdminDashboard.b67adc97.js.map"}
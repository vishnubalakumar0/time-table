{"mappings":"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","sources":["<anon>","src/components/AdminDashboard.jsx","src/components/Toast.jsx","src/components/HoursTracker.jsx","src/components/TimetableGrid.jsx","src/components/StaffTimetableGrid.jsx","src/utils/timetableGenerator.js"],"sourcesContent":["\nfunction $parcel$defineInteropFlag(a) {\n  Object.defineProperty(a, '__esModule', {value: true, configurable: true});\n}\n\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\n\nfunction $parcel$interopDefault(a) {\n  return a && a.__esModule ? a.default : a;\n}\n\n      var $parcel$global = globalThis;\n    var parcelRequire = $parcel$global[\"parcelRequire3f2f\"];\nvar parcelRegister = parcelRequire.register;\nparcelRegister(\"dXtBz\", function(module, exports) {\n\n$parcel$defineInteropFlag(module.exports);\n\n$parcel$export(module.exports, \"default\", () => $9b678cdbbac6dec2$export$2e2bcd8739ae039);\n\nvar $ayMG0 = parcelRequire(\"ayMG0\");\n\nvar $acw62 = parcelRequire(\"acw62\");\n\nvar $aOD4d = parcelRequire(\"aOD4d\");\n\nvar $2A5UH = parcelRequire(\"2A5UH\");\n\nvar $4XiCD = parcelRequire(\"4XiCD\");\n\nvar $v5TqP = parcelRequire(\"v5TqP\");\n\nvar $hyYFF = parcelRequire(\"hyYFF\");\n\nvar $iFlyT = parcelRequire(\"iFlyT\");\n\nvar $izP1S = parcelRequire(\"izP1S\");\n\nvar $gqAsg = parcelRequire(\"gqAsg\");\n\nvar $6AR8M = parcelRequire(\"6AR8M\");\n\nvar $ilpIi = parcelRequire(\"ilpIi\");\n\nvar $fAZ67 = parcelRequire(\"fAZ67\");\nfunction $9b678cdbbac6dec2$export$2e2bcd8739ae039({ user: user, onLogout: onLogout }) {\n    const [classes, setClasses] = (0, $acw62.useState)((0, $iFlyT.Storage).get('classes') || []);\n    const [staff, setStaff] = (0, $acw62.useState)((0, $iFlyT.Storage).get('staff') || []);\n    const [subjects, setSubjects] = (0, $acw62.useState)((0, $iFlyT.Storage).get('subjects') || []);\n    const [timetable, setTimetable] = (0, $acw62.useState)((0, $iFlyT.Storage).get('timetable'));\n    const [toasts, setToasts] = (0, $acw62.useState)([]);\n    const teachers = staff.filter((s)=>s.role === 'staff');\n    const [newClass, setNewClass] = (0, $acw62.useState)({\n        name: ''\n    });\n    const [newStaff, setNewStaff] = (0, $acw62.useState)({\n        name: '',\n        username: '',\n        password: '',\n        freePeriodMode: 'auto',\n        manualFreePeriods: 0\n    });\n    const [newSubject, setNewSubject] = (0, $acw62.useState)({\n        className: '',\n        name: '',\n        subjectType: '',\n        hoursPerWeek: 6,\n        isContinuous: false,\n        blockSize: 2,\n        teacher: ''\n    });\n    // ðŸ”¥ Load classes from Firestore on mount (and update local backup)\n    (0, $acw62.useEffect)(()=>{\n        const loadClasses = async ()=>{\n            try {\n                const snapshot = await (0, $ilpIi.getDocs)((0, $ilpIi.collection)((0, $fAZ67.db), 'classes'));\n                if (!snapshot.empty) {\n                    const cloudClasses = snapshot.docs.map((d)=>({\n                            id: d.id,\n                            ...d.data()\n                        }));\n                    setClasses(cloudClasses);\n                    (0, $iFlyT.Storage).set('classes', cloudClasses);\n                }\n            } catch (err) {\n                console.error('Error loading classes from Firestore:', err);\n            }\n        };\n        loadClasses();\n    }, []);\n    const showToast = (message, type)=>{\n        setToasts((prev)=>[\n                ...prev,\n                {\n                    message: message,\n                    type: type\n                }\n            ]);\n    };\n    const removeToast = (index)=>{\n        setToasts((prev)=>prev.filter((_, i)=>i !== index));\n    };\n    // Class Management\n    // Class Management (Hybrid: Firestore + Local)\n    const addClass = async ()=>{\n        if (!newClass.name) {\n            showToast('Please enter class name', 'error');\n            return;\n        }\n        if (classes.find((c)=>c.name === newClass.name)) {\n            showToast('Class already exists', 'error');\n            return;\n        }\n        try {\n            // 1ï¸âƒ£ Save in Firestore\n            const docRef = await (0, $ilpIi.addDoc)((0, $ilpIi.collection)((0, $fAZ67.db), 'classes'), {\n                name: newClass.name\n            });\n            const newCls = {\n                id: docRef.id,\n                name: newClass.name\n            };\n            // 2ï¸âƒ£ Update UI + LocalStorage\n            const updated = [\n                ...classes,\n                newCls\n            ];\n            setClasses(updated);\n            (0, $iFlyT.Storage).set('classes', updated);\n            setNewClass({\n                name: ''\n            });\n            showToast('Class added successfully!', 'success');\n        } catch (err) {\n            console.error('Error adding class to Firestore:', err);\n            showToast('Could not save class online', 'error');\n        }\n    };\n    // ðŸ”¥ Create staff in Firebase (Auth + Firestore)\n    const createStaffInFirebase = async (staffObj)=>{\n        try {\n            // Email = username@timetable.com\n            const email = `${staffObj.username}@timetable.com`;\n            const password = staffObj.password || 'Staff@123';\n            console.log('Creating Firebase user:', email);\n            // 1ï¸âƒ£ Create Auth user\n            const userCredential = await (0, $6AR8M.createUserWithEmailAndPassword)((0, $fAZ67.auth), email, password);\n            const uid = userCredential.user.uid;\n            console.log('Staff Firebase UID:', uid);\n            // 2ï¸âƒ£ Create Firestore user document\n            await (0, $ilpIi.setDoc)((0, $ilpIi.doc)((0, $fAZ67.db), 'users', uid), {\n                fullName: staffObj.name || staffObj.fullName || '',\n                username: staffObj.username,\n                role: 'staff',\n                department: staffObj.department || staffObj.dept || '',\n                createdAt: new Date()\n            });\n            return uid;\n        } catch (error) {\n            const code = error.code || 'no-code';\n            const msg = error.message || 'no-message';\n            // Show real Firebase error in simple popup (no React red overlay)\n            alert(`Firebase staff creation error:\\n${code}\\n${msg}`);\n            // Return null to indicate failure\n            return null;\n        }\n    };\n    // Staff Management\n    const addStaff = async ()=>{\n        if (!newStaff.name || !newStaff.username || !newStaff.password) {\n            showToast('Please fill all fields', 'error');\n            return;\n        }\n        if (staff.find((s)=>s.username === newStaff.username)) {\n            showToast('Username already exists', 'error');\n            return;\n        }\n        // 1ï¸âƒ£ First try to create in Firebase (Auth + Firestore)\n        const uid = await createStaffInFirebase(newStaff);\n        if (!uid) {\n            // Firebase failed â†’ don't save locally\n            showToast('Firebase error: could not create staff account', 'error');\n            return;\n        }\n        // 2ï¸âƒ£ If Firebase success â†’ save to local state + storage\n        const staffToSave = {\n            id: Date.now(),\n            ...newStaff,\n            role: 'staff',\n            firebaseUid: uid\n        };\n        const updated = [\n            ...staff,\n            staffToSave\n        ];\n        setStaff(updated);\n        (0, $iFlyT.Storage).set('staff', updated);\n        // 3ï¸âƒ£ Reset form\n        setNewStaff({\n            name: '',\n            username: '',\n            password: '',\n            freePeriodMode: 'auto',\n            manualFreePeriods: 0\n        });\n        showToast('Staff added successfully!', 'success');\n    };\n    const deleteStaff = (id)=>{\n        if (!window.confirm('Delete this staff member?')) return;\n        const updated = staff.filter((s)=>s.id !== id);\n        setStaff(updated);\n        (0, $iFlyT.Storage).set('staff', updated);\n        showToast('Staff deleted', 'success');\n    };\n    // Subject Management\n    const addSubject = ()=>{\n        if (!newSubject.className || !newSubject.name || !newSubject.subjectType || !newSubject.teacher) {\n            showToast('Please fill all required fields', 'error');\n            return;\n        }\n        const updated = [\n            ...subjects,\n            {\n                id: Date.now(),\n                ...newSubject\n            }\n        ];\n        setSubjects(updated);\n        (0, $iFlyT.Storage).set('subjects', updated);\n        setNewSubject({\n            className: '',\n            name: '',\n            subjectType: '',\n            hoursPerWeek: 6,\n            isContinuous: false,\n            blockSize: 2,\n            teacher: ''\n        });\n        showToast('Subject added successfully!', 'success');\n    };\n    const deleteSubject = (id)=>{\n        if (!window.confirm('Delete this subject?')) return;\n        const updated = subjects.filter((s)=>s.id !== id);\n        setSubjects(updated);\n        (0, $iFlyT.Storage).set('subjects', updated);\n        showToast('Subject deleted', 'success');\n    };\n    // Timetable Generation\n    const generateTimetable = ()=>{\n        const generator = new (0, $izP1S.TimetableGenerator)(classes, teachers, subjects);\n        const validation = generator.validate();\n        if (!validation.valid) {\n            showToast('Validation errors: ' + validation.errors.join('; '), 'error');\n            return;\n        }\n        const result = generator.generate();\n        if (result.success) {\n            const timetableData = {\n                classTimetables: result.classTimetables,\n                staffTimetables: result.staffTimetables\n            };\n            setTimetable(timetableData);\n            (0, $iFlyT.Storage).set('timetable', timetableData);\n            showToast('Timetable generated successfully!', 'success');\n            setTimeout(()=>{\n                document.getElementById('view-timetables')?.scrollIntoView({\n                    behavior: 'smooth'\n                });\n            }, 1000);\n        } else showToast('Generation failed: ' + result.error, 'error');\n    };\n    return /*#__PURE__*/ (0, $ayMG0.jsxs)((0, $ayMG0.Fragment), {\n        children: [\n            /*#__PURE__*/ (0, $ayMG0.jsx)((0, $aOD4d.default), {}),\n            /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                className: \"header\",\n                children: /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                    className: \"header-content\",\n                    children: [\n                        /*#__PURE__*/ (0, $ayMG0.jsx)(\"h1\", {\n                            children: \"\\uD83C\\uDFEB Admin Dashboard\"\n                        }),\n                        /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                            className: \"header-actions\",\n                            children: [\n                                /*#__PURE__*/ (0, $ayMG0.jsx)(\"button\", {\n                                    className: \"theme-toggle\",\n                                    children: \"\\uD83C\\uDF19\"\n                                }),\n                                /*#__PURE__*/ (0, $ayMG0.jsx)(\"button\", {\n                                    className: \"btn btn-danger btn-sm\",\n                                    onClick: onLogout,\n                                    children: \"Logout\"\n                                })\n                            ]\n                        })\n                    ]\n                })\n            }),\n            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                className: \"content\",\n                children: [\n                    /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                        className: \"section\",\n                        children: [\n                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                className: \"section-header\",\n                                children: [\n                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"span\", {\n                                        className: \"section-icon\",\n                                        children: \"\\uD83D\\uDCDA\"\n                                    }),\n                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"h2\", {\n                                        className: \"section-title\",\n                                        children: \"Manage Classes\"\n                                    })\n                                ]\n                            }),\n                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                className: \"card\",\n                                children: [\n                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"h3\", {\n                                        children: \"Add New Class\"\n                                    }),\n                                    /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                        className: \"form-group\",\n                                        children: [\n                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"label\", {\n                                                children: \"Class Name (e.g., CS3A, EE2B)\"\n                                            }),\n                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"input\", {\n                                                type: \"text\",\n                                                value: newClass.name,\n                                                onChange: (e)=>setNewClass({\n                                                        name: e.target.value.toUpperCase()\n                                                    }),\n                                                placeholder: \"Enter class name\"\n                                            })\n                                        ]\n                                    }),\n                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"button\", {\n                                        className: \"btn btn-primary\",\n                                        onClick: addClass,\n                                        children: \"Add Class\"\n                                    })\n                                ]\n                            }),\n                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                className: \"card\",\n                                children: [\n                                    /*#__PURE__*/ (0, $ayMG0.jsxs)(\"h3\", {\n                                        children: [\n                                            \"Existing Classes (\",\n                                            classes.length,\n                                            \")\"\n                                        ]\n                                    }),\n                                    classes.length === 0 ? /*#__PURE__*/ (0, $ayMG0.jsx)(\"p\", {\n                                        style: {\n                                            color: '#64748b'\n                                        },\n                                        children: \"No classes added yet\"\n                                    }) : /*#__PURE__*/ (0, $ayMG0.jsxs)((0, $ayMG0.Fragment), {\n                                        children: [\n                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                                                className: \"desktop-table\",\n                                                children: /*#__PURE__*/ (0, $ayMG0.jsxs)(\"table\", {\n                                                    children: [\n                                                        /*#__PURE__*/ (0, $ayMG0.jsx)(\"thead\", {\n                                                            children: /*#__PURE__*/ (0, $ayMG0.jsxs)(\"tr\", {\n                                                                children: [\n                                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"th\", {\n                                                                        children: \"#\"\n                                                                    }),\n                                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"th\", {\n                                                                        children: \"Class Name\"\n                                                                    }),\n                                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"th\", {\n                                                                        children: \"Subjects\"\n                                                                    }),\n                                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"th\", {\n                                                                        children: \"Actions\"\n                                                                    })\n                                                                ]\n                                                            })\n                                                        }),\n                                                        /*#__PURE__*/ (0, $ayMG0.jsx)(\"tbody\", {\n                                                            children: classes.map((cls, idx)=>/*#__PURE__*/ (0, $ayMG0.jsxs)(\"tr\", {\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0, $ayMG0.jsx)(\"td\", {\n                                                                            children: idx + 1\n                                                                        }),\n                                                                        /*#__PURE__*/ (0, $ayMG0.jsx)(\"td\", {\n                                                                            children: /*#__PURE__*/ (0, $ayMG0.jsx)(\"strong\", {\n                                                                                children: cls.name\n                                                                            })\n                                                                        }),\n                                                                        /*#__PURE__*/ (0, $ayMG0.jsx)(\"td\", {\n                                                                            children: subjects.filter((s)=>s.className === cls.name).length\n                                                                        }),\n                                                                        /*#__PURE__*/ (0, $ayMG0.jsx)(\"td\", {\n                                                                            children: /*#__PURE__*/ (0, $ayMG0.jsx)(\"button\", {\n                                                                                className: \"btn btn-danger btn-sm\",\n                                                                                onClick: ()=>deleteClass(cls.id),\n                                                                                children: \"Delete\"\n                                                                            })\n                                                                        })\n                                                                    ]\n                                                                }, cls.id))\n                                                        })\n                                                    ]\n                                                })\n                                            }),\n                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                                                className: \"mobile-cards\",\n                                                children: classes.map((cls, idx)=>/*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                                        className: \"mobile-card\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                                                className: \"mobile-card-header\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"span\", {\n                                                                        className: \"mobile-card-title\",\n                                                                        children: cls.name\n                                                                    }),\n                                                                    /*#__PURE__*/ (0, $ayMG0.jsxs)(\"span\", {\n                                                                        className: \"mobile-card-badge\",\n                                                                        children: [\n                                                                            \"#\",\n                                                                            idx + 1\n                                                                        ]\n                                                                    })\n                                                                ]\n                                                            }),\n                                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                                                                className: \"mobile-card-body\",\n                                                                children: /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                                                    className: \"mobile-card-row\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0, $ayMG0.jsx)(\"span\", {\n                                                                            className: \"mobile-card-label\",\n                                                                            children: \"Subjects:\"\n                                                                        }),\n                                                                        /*#__PURE__*/ (0, $ayMG0.jsx)(\"span\", {\n                                                                            className: \"mobile-card-value\",\n                                                                            children: subjects.filter((s)=>s.className === cls.name).length\n                                                                        })\n                                                                    ]\n                                                                })\n                                                            }),\n                                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                                                                className: \"mobile-card-actions\",\n                                                                children: /*#__PURE__*/ (0, $ayMG0.jsx)(\"button\", {\n                                                                    className: \"btn btn-danger btn-sm\",\n                                                                    onClick: ()=>deleteClass(cls.id),\n                                                                    children: \"Delete\"\n                                                                })\n                                                            })\n                                                        ]\n                                                    }, cls.id))\n                                            })\n                                        ]\n                                    })\n                                ]\n                            })\n                        ]\n                    }),\n                    /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                        className: \"section\",\n                        children: [\n                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                className: \"section-header\",\n                                children: [\n                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"span\", {\n                                        className: \"section-icon\",\n                                        children: \"\\uD83D\\uDC65\"\n                                    }),\n                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"h2\", {\n                                        className: \"section-title\",\n                                        children: \"Manage Staff\"\n                                    })\n                                ]\n                            }),\n                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                className: \"card\",\n                                children: [\n                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"h3\", {\n                                        children: \"Add New Staff\"\n                                    }),\n                                    /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                        className: \"grid-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                                className: \"form-group\",\n                                                children: [\n                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"label\", {\n                                                        children: \"Full Name *\"\n                                                    }),\n                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"input\", {\n                                                        type: \"text\",\n                                                        value: newStaff.name,\n                                                        onChange: (e)=>setNewStaff({\n                                                                ...newStaff,\n                                                                name: e.target.value\n                                                            }),\n                                                        placeholder: \"Dr. John Doe\"\n                                                    })\n                                                ]\n                                            }),\n                                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                                className: \"form-group\",\n                                                children: [\n                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"label\", {\n                                                        children: \"Username *\"\n                                                    }),\n                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"input\", {\n                                                        type: \"text\",\n                                                        value: newStaff.username,\n                                                        onChange: (e)=>setNewStaff({\n                                                                ...newStaff,\n                                                                username: e.target.value\n                                                            }),\n                                                        placeholder: \"john\"\n                                                    })\n                                                ]\n                                            }),\n                                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                                className: \"form-group\",\n                                                children: [\n                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"label\", {\n                                                        children: \"Password *\"\n                                                    }),\n                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"input\", {\n                                                        type: \"password\",\n                                                        value: newStaff.password,\n                                                        onChange: (e)=>setNewStaff({\n                                                                ...newStaff,\n                                                                password: e.target.value\n                                                            }),\n                                                        placeholder: \"Password\"\n                                                    })\n                                                ]\n                                            }),\n                                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                                className: \"form-group\",\n                                                children: [\n                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"label\", {\n                                                        children: \"Free Period Mode\"\n                                                    }),\n                                                    /*#__PURE__*/ (0, $ayMG0.jsxs)(\"select\", {\n                                                        value: newStaff.freePeriodMode,\n                                                        onChange: (e)=>setNewStaff({\n                                                                ...newStaff,\n                                                                freePeriodMode: e.target.value\n                                                            }),\n                                                        children: [\n                                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"option\", {\n                                                                value: \"auto\",\n                                                                children: \"Auto\"\n                                                            }),\n                                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"option\", {\n                                                                value: \"manual\",\n                                                                children: \"Manual\"\n                                                            })\n                                                        ]\n                                                    })\n                                                ]\n                                            })\n                                        ]\n                                    }),\n                                    newStaff.freePeriodMode === 'manual' && /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                        className: \"form-group\",\n                                        children: [\n                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"label\", {\n                                                children: \"Free Periods per Week\"\n                                            }),\n                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"input\", {\n                                                type: \"number\",\n                                                min: \"0\",\n                                                max: \"30\",\n                                                value: newStaff.manualFreePeriods,\n                                                onChange: (e)=>setNewStaff({\n                                                        ...newStaff,\n                                                        manualFreePeriods: parseInt(e.target.value) || 0\n                                                    })\n                                            })\n                                        ]\n                                    }),\n                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"button\", {\n                                        className: \"btn btn-primary\",\n                                        onClick: addStaff,\n                                        children: \"Add Staff\"\n                                    })\n                                ]\n                            }),\n                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                className: \"card\",\n                                children: [\n                                    /*#__PURE__*/ (0, $ayMG0.jsxs)(\"h3\", {\n                                        children: [\n                                            \"Existing Staff (\",\n                                            teachers.length,\n                                            \")\"\n                                        ]\n                                    }),\n                                    teachers.length === 0 ? /*#__PURE__*/ (0, $ayMG0.jsx)(\"p\", {\n                                        style: {\n                                            color: '#64748b'\n                                        },\n                                        children: \"No staff added yet\"\n                                    }) : /*#__PURE__*/ (0, $ayMG0.jsxs)((0, $ayMG0.Fragment), {\n                                        children: [\n                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                                                className: \"desktop-table\",\n                                                children: /*#__PURE__*/ (0, $ayMG0.jsxs)(\"table\", {\n                                                    children: [\n                                                        /*#__PURE__*/ (0, $ayMG0.jsx)(\"thead\", {\n                                                            children: /*#__PURE__*/ (0, $ayMG0.jsxs)(\"tr\", {\n                                                                children: [\n                                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"th\", {\n                                                                        children: \"S.No\"\n                                                                    }),\n                                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"th\", {\n                                                                        children: \"Name\"\n                                                                    }),\n                                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"th\", {\n                                                                        children: \"Username\"\n                                                                    }),\n                                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"th\", {\n                                                                        children: \"Mode\"\n                                                                    }),\n                                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"th\", {\n                                                                        children: \"Actions\"\n                                                                    })\n                                                                ]\n                                                            })\n                                                        }),\n                                                        /*#__PURE__*/ (0, $ayMG0.jsx)(\"tbody\", {\n                                                            children: teachers.map((s, idx)=>/*#__PURE__*/ (0, $ayMG0.jsxs)(\"tr\", {\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0, $ayMG0.jsx)(\"td\", {\n                                                                            children: /*#__PURE__*/ (0, $ayMG0.jsxs)(\"span\", {\n                                                                                className: \"staff-badge\",\n                                                                                children: [\n                                                                                    \"S\",\n                                                                                    idx + 1\n                                                                                ]\n                                                                            })\n                                                                        }),\n                                                                        /*#__PURE__*/ (0, $ayMG0.jsx)(\"td\", {\n                                                                            children: /*#__PURE__*/ (0, $ayMG0.jsx)(\"strong\", {\n                                                                                children: s.name\n                                                                            })\n                                                                        }),\n                                                                        /*#__PURE__*/ (0, $ayMG0.jsx)(\"td\", {\n                                                                            children: s.username\n                                                                        }),\n                                                                        /*#__PURE__*/ (0, $ayMG0.jsx)(\"td\", {\n                                                                            children: s.freePeriodMode === 'manual' ? `Manual (${s.manualFreePeriods} free)` : 'Auto'\n                                                                        }),\n                                                                        /*#__PURE__*/ (0, $ayMG0.jsx)(\"td\", {\n                                                                            children: /*#__PURE__*/ (0, $ayMG0.jsx)(\"button\", {\n                                                                                className: \"btn btn-danger btn-sm\",\n                                                                                onClick: ()=>deleteStaff(s.id),\n                                                                                children: \"Delete\"\n                                                                            })\n                                                                        })\n                                                                    ]\n                                                                }, s.id))\n                                                        })\n                                                    ]\n                                                })\n                                            }),\n                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                                                className: \"mobile-cards\",\n                                                children: teachers.map((s, idx)=>/*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                                        className: \"mobile-card\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                                                className: \"mobile-card-header\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"span\", {\n                                                                        className: \"mobile-card-title\",\n                                                                        children: s.name\n                                                                    }),\n                                                                    /*#__PURE__*/ (0, $ayMG0.jsxs)(\"span\", {\n                                                                        className: \"mobile-card-badge\",\n                                                                        children: [\n                                                                            \"S\",\n                                                                            idx + 1\n                                                                        ]\n                                                                    })\n                                                                ]\n                                                            }),\n                                                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                                                className: \"mobile-card-body\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                                                        className: \"mobile-card-row\",\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"span\", {\n                                                                                className: \"mobile-card-label\",\n                                                                                children: \"Username:\"\n                                                                            }),\n                                                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"span\", {\n                                                                                className: \"mobile-card-value\",\n                                                                                children: s.username\n                                                                            })\n                                                                        ]\n                                                                    }),\n                                                                    /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                                                        className: \"mobile-card-row\",\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"span\", {\n                                                                                className: \"mobile-card-label\",\n                                                                                children: \"Mode:\"\n                                                                            }),\n                                                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"span\", {\n                                                                                className: \"mobile-card-value\",\n                                                                                children: s.freePeriodMode === 'manual' ? `Manual (${s.manualFreePeriods} free)` : 'Auto'\n                                                                            })\n                                                                        ]\n                                                                    })\n                                                                ]\n                                                            }),\n                                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                                                                className: \"mobile-card-actions\",\n                                                                children: /*#__PURE__*/ (0, $ayMG0.jsx)(\"button\", {\n                                                                    className: \"btn btn-danger btn-sm\",\n                                                                    onClick: ()=>deleteStaff(s.id),\n                                                                    children: \"Delete\"\n                                                                })\n                                                            })\n                                                        ]\n                                                    }, s.id))\n                                            })\n                                        ]\n                                    })\n                                ]\n                            })\n                        ]\n                    }),\n                    /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                        className: \"section\",\n                        children: [\n                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                className: \"section-header\",\n                                children: [\n                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"span\", {\n                                        className: \"section-icon\",\n                                        children: \"\\uD83D\\uDCD6\"\n                                    }),\n                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"h2\", {\n                                        className: \"section-title\",\n                                        children: \"Manage Subjects\"\n                                    })\n                                ]\n                            }),\n                            newSubject.className && /*#__PURE__*/ (0, $ayMG0.jsx)((0, $4XiCD.default), {\n                                className: newSubject.className,\n                                subjects: subjects\n                            }),\n                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                className: \"card\",\n                                children: [\n                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"h3\", {\n                                        children: \"Add New Subject\"\n                                    }),\n                                    /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                        className: \"grid-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                                className: \"form-group\",\n                                                children: [\n                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"label\", {\n                                                        children: \"Select Class *\"\n                                                    }),\n                                                    /*#__PURE__*/ (0, $ayMG0.jsxs)(\"select\", {\n                                                        value: newSubject.className,\n                                                        onChange: (e)=>setNewSubject({\n                                                                ...newSubject,\n                                                                className: e.target.value\n                                                            }),\n                                                        children: [\n                                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"option\", {\n                                                                value: \"\",\n                                                                children: \"-- Select Class --\"\n                                                            }),\n                                                            classes.map((cls)=>/*#__PURE__*/ (0, $ayMG0.jsx)(\"option\", {\n                                                                    value: cls.name,\n                                                                    children: cls.name\n                                                                }, cls.id))\n                                                        ]\n                                                    })\n                                                ]\n                                            }),\n                                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                                className: \"form-group\",\n                                                children: [\n                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"label\", {\n                                                        children: \"Subject Name *\"\n                                                    }),\n                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"input\", {\n                                                        type: \"text\",\n                                                        value: newSubject.name,\n                                                        onChange: (e)=>setNewSubject({\n                                                                ...newSubject,\n                                                                name: e.target.value\n                                                            }),\n                                                        placeholder: \"DBMS, AI Lab, etc.\"\n                                                    })\n                                                ]\n                                            }),\n                                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                                className: \"form-group\",\n                                                children: [\n                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"label\", {\n                                                        children: \"Subject Type *\"\n                                                    }),\n                                                    /*#__PURE__*/ (0, $ayMG0.jsxs)(\"select\", {\n                                                        value: newSubject.subjectType,\n                                                        onChange: (e)=>setNewSubject({\n                                                                ...newSubject,\n                                                                subjectType: e.target.value\n                                                            }),\n                                                        children: [\n                                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"option\", {\n                                                                value: \"\",\n                                                                children: \"-- Select Type --\"\n                                                            }),\n                                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"option\", {\n                                                                value: \"Core\",\n                                                                children: \"Core\"\n                                                            }),\n                                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"option\", {\n                                                                value: \"Elective\",\n                                                                children: \"Elective\"\n                                                            }),\n                                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"option\", {\n                                                                value: \"Lab\",\n                                                                children: \"Lab\"\n                                                            }),\n                                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"option\", {\n                                                                value: \"Other\",\n                                                                children: \"Other\"\n                                                            })\n                                                        ]\n                                                    })\n                                                ]\n                                            }),\n                                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                                className: \"form-group\",\n                                                children: [\n                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"label\", {\n                                                        children: \"Hours per Week *\"\n                                                    }),\n                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"input\", {\n                                                        type: \"number\",\n                                                        min: \"1\",\n                                                        max: \"30\",\n                                                        value: newSubject.hoursPerWeek,\n                                                        onChange: (e)=>setNewSubject({\n                                                                ...newSubject,\n                                                                hoursPerWeek: parseInt(e.target.value) || 6\n                                                            })\n                                                    })\n                                                ]\n                                            }),\n                                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                                className: \"form-group\",\n                                                children: [\n                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"label\", {\n                                                        children: \"Teacher *\"\n                                                    }),\n                                                    /*#__PURE__*/ (0, $ayMG0.jsxs)(\"select\", {\n                                                        value: newSubject.teacher,\n                                                        onChange: (e)=>setNewSubject({\n                                                                ...newSubject,\n                                                                teacher: e.target.value\n                                                            }),\n                                                        children: [\n                                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"option\", {\n                                                                value: \"\",\n                                                                children: \"-- Select Teacher --\"\n                                                            }),\n                                                            teachers.map((t)=>/*#__PURE__*/ (0, $ayMG0.jsx)(\"option\", {\n                                                                    value: t.name,\n                                                                    children: t.name\n                                                                }, t.id))\n                                                        ]\n                                                    })\n                                                ]\n                                            })\n                                        ]\n                                    }),\n                                    /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                        className: \"checkbox-group\",\n                                        children: [\n                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"input\", {\n                                                type: \"checkbox\",\n                                                id: \"continuous\",\n                                                checked: newSubject.isContinuous,\n                                                onChange: (e)=>setNewSubject({\n                                                        ...newSubject,\n                                                        isContinuous: e.target.checked\n                                                    })\n                                            }),\n                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"label\", {\n                                                htmlFor: \"continuous\",\n                                                style: {\n                                                    marginBottom: 0\n                                                },\n                                                children: \"Continuous Lab Block\"\n                                            })\n                                        ]\n                                    }),\n                                    newSubject.isContinuous && /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                        className: \"form-group\",\n                                        children: [\n                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"label\", {\n                                                children: \"Block Size\"\n                                            }),\n                                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"select\", {\n                                                value: newSubject.blockSize,\n                                                onChange: (e)=>setNewSubject({\n                                                        ...newSubject,\n                                                        blockSize: parseInt(e.target.value)\n                                                    }),\n                                                children: [\n                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"option\", {\n                                                        value: 2,\n                                                        children: \"2 Periods\"\n                                                    }),\n                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"option\", {\n                                                        value: 3,\n                                                        children: \"3 Periods\"\n                                                    })\n                                                ]\n                                            })\n                                        ]\n                                    }),\n                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"button\", {\n                                        className: \"btn btn-primary\",\n                                        onClick: addSubject,\n                                        children: \"Add Subject\"\n                                    })\n                                ]\n                            }),\n                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                className: \"card\",\n                                children: [\n                                    /*#__PURE__*/ (0, $ayMG0.jsxs)(\"h3\", {\n                                        children: [\n                                            \"Existing Subjects (\",\n                                            subjects.length,\n                                            \")\"\n                                        ]\n                                    }),\n                                    subjects.length === 0 ? /*#__PURE__*/ (0, $ayMG0.jsx)(\"p\", {\n                                        style: {\n                                            color: '#64748b'\n                                        },\n                                        children: \"No subjects added yet\"\n                                    }) : /*#__PURE__*/ (0, $ayMG0.jsx)((0, $ayMG0.Fragment), {\n                                        children: classes.map((cls)=>{\n                                            const classSubjects = subjects.filter((s)=>s.className === cls.name);\n                                            if (classSubjects.length === 0) return null;\n                                            const totalHours = classSubjects.reduce((sum, s)=>sum + s.hoursPerWeek, 0);\n                                            return /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                                style: {\n                                                    marginBottom: '30px'\n                                                },\n                                                children: [\n                                                    /*#__PURE__*/ (0, $ayMG0.jsxs)(\"h4\", {\n                                                        style: {\n                                                            marginBottom: '15px',\n                                                            display: 'flex',\n                                                            alignItems: 'center',\n                                                            gap: '10px',\n                                                            color: '#1e293b'\n                                                        },\n                                                        children: [\n                                                            \"Class: \",\n                                                            cls.name,\n                                                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"span\", {\n                                                                style: {\n                                                                    padding: '4px 12px',\n                                                                    borderRadius: '12px',\n                                                                    fontSize: '12px',\n                                                                    fontWeight: 600,\n                                                                    background: totalHours === 30 ? '#10b981' : '#ef4444',\n                                                                    color: 'white'\n                                                                },\n                                                                children: [\n                                                                    totalHours,\n                                                                    \"/30 hours\"\n                                                                ]\n                                                            })\n                                                        ]\n                                                    }),\n                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                                                        className: \"desktop-table\",\n                                                        children: /*#__PURE__*/ (0, $ayMG0.jsxs)(\"table\", {\n                                                            children: [\n                                                                /*#__PURE__*/ (0, $ayMG0.jsx)(\"thead\", {\n                                                                    children: /*#__PURE__*/ (0, $ayMG0.jsxs)(\"tr\", {\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"th\", {\n                                                                                children: \"Subject\"\n                                                                            }),\n                                                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"th\", {\n                                                                                children: \"Type\"\n                                                                            }),\n                                                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"th\", {\n                                                                                children: \"Hours\"\n                                                                            }),\n                                                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"th\", {\n                                                                                children: \"Teacher\"\n                                                                            }),\n                                                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"th\", {\n                                                                                children: \"Actions\"\n                                                                            })\n                                                                        ]\n                                                                    })\n                                                                }),\n                                                                /*#__PURE__*/ (0, $ayMG0.jsx)(\"tbody\", {\n                                                                    children: classSubjects.map((sub)=>/*#__PURE__*/ (0, $ayMG0.jsxs)(\"tr\", {\n                                                                            children: [\n                                                                                /*#__PURE__*/ (0, $ayMG0.jsx)(\"td\", {\n                                                                                    children: /*#__PURE__*/ (0, $ayMG0.jsx)(\"strong\", {\n                                                                                        children: sub.name\n                                                                                    })\n                                                                                }),\n                                                                                /*#__PURE__*/ (0, $ayMG0.jsx)(\"td\", {\n                                                                                    children: sub.subjectType\n                                                                                }),\n                                                                                /*#__PURE__*/ (0, $ayMG0.jsxs)(\"td\", {\n                                                                                    children: [\n                                                                                        sub.hoursPerWeek,\n                                                                                        \"h\"\n                                                                                    ]\n                                                                                }),\n                                                                                /*#__PURE__*/ (0, $ayMG0.jsx)(\"td\", {\n                                                                                    children: sub.teacher\n                                                                                }),\n                                                                                /*#__PURE__*/ (0, $ayMG0.jsx)(\"td\", {\n                                                                                    children: /*#__PURE__*/ (0, $ayMG0.jsx)(\"button\", {\n                                                                                        className: \"btn btn-danger btn-sm\",\n                                                                                        onClick: ()=>deleteSubject(sub.id),\n                                                                                        children: \"Delete\"\n                                                                                    })\n                                                                                })\n                                                                            ]\n                                                                        }, sub.id))\n                                                                })\n                                                            ]\n                                                        })\n                                                    }),\n                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                                                        className: \"mobile-cards\",\n                                                        children: classSubjects.map((sub)=>/*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                                                className: \"mobile-card\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                                                        className: \"mobile-card-header\",\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"span\", {\n                                                                                className: \"mobile-card-title\",\n                                                                                children: sub.name\n                                                                            }),\n                                                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"span\", {\n                                                                                className: \"mobile-card-badge\",\n                                                                                children: sub.subjectType\n                                                                            })\n                                                                        ]\n                                                                    }),\n                                                                    /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                                                        className: \"mobile-card-body\",\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                                                                className: \"mobile-card-row\",\n                                                                                children: [\n                                                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"span\", {\n                                                                                        className: \"mobile-card-label\",\n                                                                                        children: \"Hours:\"\n                                                                                    }),\n                                                                                    /*#__PURE__*/ (0, $ayMG0.jsxs)(\"span\", {\n                                                                                        className: \"mobile-card-value\",\n                                                                                        children: [\n                                                                                            sub.hoursPerWeek,\n                                                                                            \"h\"\n                                                                                        ]\n                                                                                    })\n                                                                                ]\n                                                                            }),\n                                                                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                                                                className: \"mobile-card-row\",\n                                                                                children: [\n                                                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"span\", {\n                                                                                        className: \"mobile-card-label\",\n                                                                                        children: \"Teacher:\"\n                                                                                    }),\n                                                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"span\", {\n                                                                                        className: \"mobile-card-value\",\n                                                                                        children: sub.teacher\n                                                                                    })\n                                                                                ]\n                                                                            })\n                                                                        ]\n                                                                    }),\n                                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                                                                        className: \"mobile-card-actions\",\n                                                                        children: /*#__PURE__*/ (0, $ayMG0.jsx)(\"button\", {\n                                                                            className: \"btn btn-danger btn-sm\",\n                                                                            onClick: ()=>deleteSubject(sub.id),\n                                                                            children: \"Delete\"\n                                                                        })\n                                                                    })\n                                                                ]\n                                                            }, sub.id))\n                                                    })\n                                                ]\n                                            }, cls.id);\n                                        })\n                                    })\n                                ]\n                            })\n                        ]\n                    }),\n                    /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                        className: \"section\",\n                        children: [\n                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                className: \"section-header\",\n                                children: [\n                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"span\", {\n                                        className: \"section-icon\",\n                                        children: \"\\u26A1\"\n                                    }),\n                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"h2\", {\n                                        className: \"section-title\",\n                                        children: \"Generate Timetable\"\n                                    })\n                                ]\n                            }),\n                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                className: \"card\",\n                                children: [\n                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"h3\", {\n                                        children: \"Ready to Generate\"\n                                    }),\n                                    /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                        style: {\n                                            marginBottom: '25px',\n                                            padding: '20px',\n                                            background: '#f8fafc',\n                                            borderRadius: '12px',\n                                            color: '#475569'\n                                        },\n                                        children: [\n                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"p\", {\n                                                style: {\n                                                    marginBottom: '15px',\n                                                    fontSize: '15px',\n                                                    lineHeight: '1.6'\n                                                },\n                                                children: \"The smart algorithm will create an optimized timetable ensuring:\"\n                                            }),\n                                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"ul\", {\n                                                style: {\n                                                    marginLeft: '25px',\n                                                    lineHeight: '1.8'\n                                                },\n                                                children: [\n                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"li\", {\n                                                        children: \"\\u2705 No free periods (all 30 filled)\"\n                                                    }),\n                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"li\", {\n                                                        children: \"\\u2705 Each subject appears at least once per day \\uD83D\\uDD25 NEW!\"\n                                                    }),\n                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"li\", {\n                                                        children: \"\\u2705 Labs in continuous blocks\"\n                                                    }),\n                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"li\", {\n                                                        children: \"\\u2705 Core subjects distributed evenly\"\n                                                    }),\n                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"li\", {\n                                                        children: \"\\u2705 No teacher conflicts\"\n                                                    }),\n                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"li\", {\n                                                        children: \"\\u2705 Balanced teacher workload\"\n                                                    })\n                                                ]\n                                            })\n                                        ]\n                                    }),\n                                    /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                        style: {\n                                            display: 'grid',\n                                            gridTemplateColumns: 'repeat(auto-fit, minmax(150px, 1fr))',\n                                            gap: '15px',\n                                            marginBottom: '25px'\n                                        },\n                                        children: [\n                                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                                style: {\n                                                    padding: '15px',\n                                                    background: 'linear-gradient(135deg, #667eea, #764ba2)',\n                                                    borderRadius: '12px',\n                                                    color: 'white',\n                                                    textAlign: 'center'\n                                                },\n                                                children: [\n                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                                                        style: {\n                                                            fontSize: '13px',\n                                                            opacity: 0.9\n                                                        },\n                                                        children: \"Classes\"\n                                                    }),\n                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                                                        style: {\n                                                            fontSize: '2em',\n                                                            fontWeight: 'bold'\n                                                        },\n                                                        children: classes.length\n                                                    })\n                                                ]\n                                            }),\n                                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                                style: {\n                                                    padding: '15px',\n                                                    background: 'linear-gradient(135deg, #10b981, #059669)',\n                                                    borderRadius: '12px',\n                                                    color: 'white',\n                                                    textAlign: 'center'\n                                                },\n                                                children: [\n                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                                                        style: {\n                                                            fontSize: '13px',\n                                                            opacity: 0.9\n                                                        },\n                                                        children: \"Teachers\"\n                                                    }),\n                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                                                        style: {\n                                                            fontSize: '2em',\n                                                            fontWeight: 'bold'\n                                                        },\n                                                        children: teachers.length\n                                                    })\n                                                ]\n                                            }),\n                                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                                style: {\n                                                    padding: '15px',\n                                                    background: 'linear-gradient(135deg, #f59e0b, #d97706)',\n                                                    borderRadius: '12px',\n                                                    color: 'white',\n                                                    textAlign: 'center'\n                                                },\n                                                children: [\n                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                                                        style: {\n                                                            fontSize: '13px',\n                                                            opacity: 0.9\n                                                        },\n                                                        children: \"Subjects\"\n                                                    }),\n                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                                                        style: {\n                                                            fontSize: '2em',\n                                                            fontWeight: 'bold'\n                                                        },\n                                                        children: subjects.length\n                                                    })\n                                                ]\n                                            })\n                                        ]\n                                    }),\n                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"button\", {\n                                        className: \"btn btn-success\",\n                                        onClick: generateTimetable,\n                                        style: {\n                                            width: '100%',\n                                            fontSize: '18px',\n                                            padding: '18px 40px'\n                                        },\n                                        children: \"Generate Timetable\"\n                                    })\n                                ]\n                            })\n                        ]\n                    }),\n                    timetable && /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                        className: \"section\",\n                        id: \"view-timetables\",\n                        children: [\n                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                className: \"section-header\",\n                                children: [\n                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"span\", {\n                                        className: \"section-icon\",\n                                        children: \"\\uD83D\\uDCCA\"\n                                    }),\n                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"h2\", {\n                                        className: \"section-title\",\n                                        children: \"Generated Timetables\"\n                                    })\n                                ]\n                            }),\n                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                className: \"card\",\n                                children: [\n                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"h3\", {\n                                        children: \"Class-wise Timetables\"\n                                    }),\n                                    classes.map((cls)=>/*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                            style: {\n                                                marginBottom: '40px'\n                                            },\n                                            children: [\n                                                /*#__PURE__*/ (0, $ayMG0.jsxs)(\"h4\", {\n                                                    style: {\n                                                        marginBottom: '15px',\n                                                        fontSize: '1.2em',\n                                                        color: '#1e293b'\n                                                    },\n                                                    children: [\n                                                        \"Class: \",\n                                                        cls.name\n                                                    ]\n                                                }),\n                                                /*#__PURE__*/ (0, $ayMG0.jsx)((0, $v5TqP.default), {\n                                                    timetable: timetable.classTimetables,\n                                                    className: cls.name\n                                                }),\n                                                /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                                                    style: {\n                                                        marginTop: '15px',\n                                                        display: 'flex',\n                                                        gap: '10px'\n                                                    },\n                                                    className: \"no-print\",\n                                                    children: /*#__PURE__*/ (0, $ayMG0.jsx)(\"button\", {\n                                                        className: \"btn btn-primary btn-sm\",\n                                                        onClick: ()=>(0, $gqAsg.exportToPDF)('timetable-export', `${cls.name}_Timetable.pdf`),\n                                                        children: \"Download PDF\"\n                                                    })\n                                                })\n                                            ]\n                                        }, cls.id))\n                                ]\n                            }),\n                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                className: \"card\",\n                                children: [\n                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"h3\", {\n                                        children: \"Staff-wise Timetables\"\n                                    }),\n                                    teachers.map((teacher)=>/*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                            style: {\n                                                marginBottom: '40px'\n                                            },\n                                            children: [\n                                                /*#__PURE__*/ (0, $ayMG0.jsxs)(\"h4\", {\n                                                    style: {\n                                                        marginBottom: '15px',\n                                                        fontSize: '1.2em',\n                                                        color: '#1e293b'\n                                                    },\n                                                    children: [\n                                                        \"Teacher: \",\n                                                        teacher.name\n                                                    ]\n                                                }),\n                                                /*#__PURE__*/ (0, $ayMG0.jsx)((0, $hyYFF.default), {\n                                                    timetable: timetable.staffTimetables,\n                                                    staffName: teacher.name\n                                                }),\n                                                /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                                                    style: {\n                                                        marginTop: '15px',\n                                                        display: 'flex',\n                                                        gap: '10px'\n                                                    },\n                                                    className: \"no-print\",\n                                                    children: /*#__PURE__*/ (0, $ayMG0.jsx)(\"button\", {\n                                                        className: \"btn btn-primary btn-sm\",\n                                                        onClick: ()=>(0, $gqAsg.exportToPDF)('staff-timetable-export', `${teacher.name}_Timetable.pdf`),\n                                                        children: \"Download PDF\"\n                                                    })\n                                                })\n                                            ]\n                                        }, teacher.id))\n                                ]\n                            })\n                        ]\n                    })\n                ]\n            }),\n            /*#__PURE__*/ (0, $ayMG0.jsx)((0, $2A5UH.ToastContainer), {\n                toasts: toasts,\n                removeToast: removeToast\n            })\n        ]\n    });\n}\n\n});\nparcelRegister(\"2A5UH\", function(module, exports) {\n\n$parcel$export(module.exports, \"ToastContainer\", () => $e0e81a01ed643521$export$f2815235e76a62b9);\n\nvar $ayMG0 = parcelRequire(\"ayMG0\");\n\nvar $acw62 = parcelRequire(\"acw62\");\nfunction $e0e81a01ed643521$export$8d8dc7d5f743331b({ message: message, type: type, onClose: onClose }) {\n    (0, $acw62.useEffect)(()=>{\n        const timer = setTimeout(onClose, 5000);\n        return ()=>clearTimeout(timer);\n    }, [\n        onClose\n    ]);\n    return /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n        className: `toast toast-${type}`,\n        children: [\n            /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                className: \"toast-icon\",\n                children: type === 'success' ? \"\\u2705\" : \"\\u274C\"\n            }),\n            /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                className: \"toast-text\",\n                children: message\n            })\n        ]\n    });\n}\nfunction $e0e81a01ed643521$export$f2815235e76a62b9({ toasts: toasts, removeToast: removeToast }) {\n    return /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n        className: \"toast-container\",\n        children: toasts.map((toast, index)=>/*#__PURE__*/ (0, $ayMG0.jsx)($e0e81a01ed643521$export$8d8dc7d5f743331b, {\n                message: toast.message,\n                type: toast.type,\n                onClose: ()=>removeToast(index)\n            }, index))\n    });\n}\n\n});\n\nparcelRegister(\"4XiCD\", function(module, exports) {\n\n$parcel$export(module.exports, \"default\", () => $511984d6a1a2608c$export$2e2bcd8739ae039);\n\nvar $ayMG0 = parcelRequire(\"ayMG0\");\nparcelRequire(\"acw62\");\nfunction $511984d6a1a2608c$export$2e2bcd8739ae039({ className: className, subjects: subjects }) {\n    const allocated = subjects.filter((s)=>s.className === className).reduce((sum, s)=>sum + s.hoursPerWeek, 0);\n    const remaining = 30 - allocated;\n    const percentage = allocated / 30 * 100;\n    return /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n        className: \"hours-tracker\",\n        children: [\n            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                className: \"hours-grid\",\n                children: [\n                    /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                        className: \"hours-item\",\n                        children: [\n                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                                className: \"hours-label\",\n                                children: \"Allocated\"\n                            }),\n                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                                className: \"hours-value\",\n                                children: allocated\n                            })\n                        ]\n                    }),\n                    /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                        className: \"hours-item\",\n                        children: [\n                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                                className: \"hours-label\",\n                                children: \"Remaining\"\n                            }),\n                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                                className: \"hours-value\",\n                                children: remaining\n                            })\n                        ]\n                    }),\n                    /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                        className: \"hours-item\",\n                        children: [\n                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                                className: \"hours-label\",\n                                children: \"Total\"\n                            }),\n                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                                className: \"hours-value\",\n                                children: \"30\"\n                            })\n                        ]\n                    })\n                ]\n            }),\n            /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                className: \"progress-bar\",\n                children: /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                    className: \"progress-fill\",\n                    style: {\n                        width: `${Math.min(percentage, 100)}%`\n                    }\n                })\n            }),\n            remaining === 0 && /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                style: {\n                    marginTop: '12px',\n                    textAlign: 'center',\n                    fontWeight: 'bold'\n                },\n                children: \"\\u2713 Perfect! No free periods.\"\n            }),\n            remaining < 0 && /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                style: {\n                    marginTop: '12px',\n                    textAlign: 'center',\n                    fontWeight: 'bold',\n                    color: '#ef4444'\n                },\n                children: [\n                    \"\\u26A0 Over by \",\n                    Math.abs(remaining),\n                    \" hours!\"\n                ]\n            })\n        ]\n    });\n}\n\n});\n\nparcelRegister(\"v5TqP\", function(module, exports) {\n\n$parcel$export(module.exports, \"default\", () => $0fffc37793eb4b6c$export$2e2bcd8739ae039);\n\nvar $ayMG0 = parcelRequire(\"ayMG0\");\n\nvar $acw62 = parcelRequire(\"acw62\");\nconst $0fffc37793eb4b6c$var$DAYS = [\n    'Monday',\n    'Tuesday',\n    'Wednesday',\n    'Thursday',\n    'Friday'\n];\nfunction $0fffc37793eb4b6c$export$2e2bcd8739ae039({ timetable: timetable, className: className }) {\n    if (!timetable || !timetable[className]) return /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n        style: {\n            padding: '40px',\n            textAlign: 'center',\n            color: '#64748b'\n        },\n        children: \"No timetable generated yet\"\n    });\n    const grid = timetable[className];\n    return /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n        id: \"timetable-export\",\n        className: \"timetable-grid\",\n        children: [\n            /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                className: \"timetable-header\",\n                children: \"Day/Period\"\n            }),\n            [\n                ...Array(6)\n            ].map((_, i)=>/*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                    className: \"timetable-header\",\n                    children: [\n                        \"P\",\n                        i + 1\n                    ]\n                }, i)),\n            $0fffc37793eb4b6c$var$DAYS.map((day, dayIndex)=>/*#__PURE__*/ (0, $ayMG0.jsxs)((0, (/*@__PURE__*/$parcel$interopDefault($acw62))).Fragment, {\n                    children: [\n                        /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                            className: \"timetable-day\",\n                            children: day\n                        }),\n                        grid[dayIndex].map((slot, periodIndex)=>/*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                                className: `timetable-cell subject-${slot ? slot.type.toLowerCase() : 'other'}`,\n                                children: slot ? /*#__PURE__*/ (0, $ayMG0.jsxs)((0, $ayMG0.Fragment), {\n                                    children: [\n                                        /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                                            className: \"subject-name\",\n                                            children: slot.subject\n                                        }),\n                                        /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                                            className: \"teacher-name\",\n                                            children: slot.teacher\n                                        })\n                                    ]\n                                }) : /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                                    children: \"-\"\n                                })\n                            }, periodIndex))\n                    ]\n                }, day))\n        ]\n    });\n}\n\n});\n\nparcelRegister(\"hyYFF\", function(module, exports) {\n\n$parcel$export(module.exports, \"default\", () => $81aa4954b90786d4$export$2e2bcd8739ae039);\n\nvar $ayMG0 = parcelRequire(\"ayMG0\");\n\nvar $acw62 = parcelRequire(\"acw62\");\nconst $81aa4954b90786d4$var$DAYS = [\n    'Monday',\n    'Tuesday',\n    'Wednesday',\n    'Thursday',\n    'Friday'\n];\nfunction $81aa4954b90786d4$export$2e2bcd8739ae039({ timetable: timetable, staffName: staffName }) {\n    if (!timetable || !timetable[staffName]) return /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n        style: {\n            padding: '40px',\n            textAlign: 'center',\n            color: '#64748b'\n        },\n        children: \"No timetable generated yet\"\n    });\n    const grid = timetable[staffName];\n    return /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n        id: \"staff-timetable-export\",\n        className: \"timetable-grid\",\n        children: [\n            /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                className: \"timetable-header\",\n                children: \"Day/Period\"\n            }),\n            [\n                ...Array(6)\n            ].map((_, i)=>/*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                    className: \"timetable-header\",\n                    children: [\n                        \"P\",\n                        i + 1\n                    ]\n                }, i)),\n            $81aa4954b90786d4$var$DAYS.map((day, dayIndex)=>/*#__PURE__*/ (0, $ayMG0.jsxs)((0, (/*@__PURE__*/$parcel$interopDefault($acw62))).Fragment, {\n                    children: [\n                        /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                            className: \"timetable-day\",\n                            children: day\n                        }),\n                        grid[dayIndex].map((slot, periodIndex)=>/*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                                className: `timetable-cell subject-${slot.type.toLowerCase()}`,\n                                children: slot.subject !== 'FREE' ? /*#__PURE__*/ (0, $ayMG0.jsxs)((0, $ayMG0.Fragment), {\n                                    children: [\n                                        /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                                            className: \"subject-name\",\n                                            children: slot.subject\n                                        }),\n                                        /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                                            className: \"teacher-name\",\n                                            children: slot.class\n                                        })\n                                    ]\n                                }) : /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                                    style: {\n                                        color: '#94a3b8'\n                                    },\n                                    children: \"FREE\"\n                                })\n                            }, periodIndex))\n                    ]\n                }, day))\n        ]\n    });\n}\n\n});\n\nparcelRegister(\"izP1S\", function(module, exports) {\n\n$parcel$export(module.exports, \"TimetableGenerator\", () => $d86314373d1a4c5f$export$21295ca23168aa6a);\nclass $d86314373d1a4c5f$export$21295ca23168aa6a {\n    constructor(classes, staff, subjects){\n        this.classes = classes;\n        this.staff = staff;\n        this.subjects = subjects;\n        this.classTimetables = {};\n        this.staffTimetables = {};\n        this.teacherBusySlots = {};\n        this.teacherWeeklyCount = {};\n        this.teacherDailyCount = {};\n        this.teacherConsecutiveCount = {};\n        this.DAYS = [\n            'Monday',\n            'Tuesday',\n            'Wednesday',\n            'Thursday',\n            'Friday'\n        ];\n        this.PERIODS = 6;\n        this.MAX_PERIODS_PER_DAY = 30; // 5 days Ã— 6 periods\n        this.MAX_SAME_SUBJECT_PER_DAY = 2;\n        this.MAX_CONSECUTIVE_PERIODS = 6;\n    }\n    /**\r\n     * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\r\n     * VALIDATION (Rule A.1, A.2, F)\r\n     * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\r\n     */ validate() {\n        const errors = [];\n        // Basic checks\n        if (this.classes.length === 0) errors.push('No classes added');\n        if (this.staff.filter((s)=>s.role === 'staff').length === 0) errors.push('No staff added');\n        if (this.subjects.length === 0) errors.push('No subjects added');\n        if (errors.length > 0) return {\n            valid: false,\n            errors: errors\n        };\n        // Rule A.1: Total hours must match capacity (5 days Ã— 6 periods = 30)\n        const classHours = {};\n        this.subjects.forEach((subject)=>{\n            classHours[subject.className] = (classHours[subject.className] || 0) + subject.hoursPerWeek;\n        });\n        this.classes.forEach((cls)=>{\n            const hours = classHours[cls.name] || 0;\n            if (hours !== this.MAX_PERIODS_PER_DAY) errors.push(`Class ${cls.name}: Has ${hours} hours, needs exactly ${this.MAX_PERIODS_PER_DAY} ` + `(Rule A.1: Total hours must match capacity)`);\n        });\n        // Validate lab block sizes\n        this.subjects.forEach((subject)=>{\n            if (subject.isContinuous) {\n                if (subject.hoursPerWeek % subject.blockSize !== 0) errors.push(`Subject ${subject.name}: ${subject.hoursPerWeek} hours cannot be evenly divided ` + `into ${subject.blockSize}-period blocks`);\n            }\n        });\n        return {\n            valid: errors.length === 0,\n            errors: errors\n        };\n    }\n    /**\r\n     * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\r\n     * MAIN GENERATION (Rule E)\r\n     * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\r\n     */ generate() {\n        this._initialize();\n        for (const cls of this.classes){\n            if (!this._generateClassTimetable(cls.name)) return {\n                success: false,\n                error: `Failed to generate timetable for ${cls.name}`\n            };\n        }\n        this._generateStaffTimetables();\n        // Final validation\n        const validation = this._validateGenerated();\n        if (!validation.valid) console.warn('Generated timetable has warnings:', validation.warnings);\n        return {\n            success: true,\n            classTimetables: this.classTimetables,\n            staffTimetables: this.staffTimetables,\n            warnings: validation.warnings || []\n        };\n    }\n    _initialize() {\n        // Initialize class timetables (Rule A.2: No free periods - will be filled)\n        this.classes.forEach((cls)=>{\n            this.classTimetables[cls.name] = this.DAYS.map(()=>Array(this.PERIODS).fill(null));\n        });\n        // Initialize teacher tracking (Rule B)\n        this.staff.filter((s)=>s.role === 'staff').forEach((teacher)=>{\n            this.teacherBusySlots[teacher.name] = {};\n            this.teacherWeeklyCount[teacher.name] = 0;\n            this.teacherDailyCount[teacher.name] = this.DAYS.reduce((acc, day)=>{\n                acc[day] = 0;\n                return acc;\n            }, {});\n            this.teacherConsecutiveCount[teacher.name] = {};\n        });\n    }\n    /**\r\n     * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\r\n     * PRIORITY ORDER (Rule E)\r\n     * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\r\n     */ _generateClassTimetable(className) {\n        const classSubjects = this.subjects.filter((s)=>s.className === className);\n        classSubjects.forEach((s)=>s.placedHours = 0);\n        // STEP 1: Allocate labs (Rule D, E.1)\n        const labs = classSubjects.filter((s)=>s.isContinuous);\n        labs.sort((a, b)=>b.hoursPerWeek - a.hoursPerWeek);\n        for (const lab of labs)if (!this._placeLab(className, lab)) {\n            console.error(`Step 1 failed: Cannot place lab ${lab.name}`);\n            return false;\n        }\n        // STEP 2: Allocate high-hour regular subjects (Rule C.1, E.2)\n        const highHourSubjects = classSubjects.filter((s)=>!s.isContinuous && s.hoursPerWeek >= 5);\n        highHourSubjects.sort((a, b)=>b.hoursPerWeek - a.hoursPerWeek);\n        for (const subject of highHourSubjects)if (!this._placeHighHourSubject(className, subject)) {\n            console.error(`Step 2 failed: Cannot place high-hour subject ${subject.name}`);\n            return false;\n        }\n        // STEP 3: Allocate low-hour subjects (Rule C.2, E.3)\n        const lowHourSubjects = classSubjects.filter((s)=>!s.isContinuous && s.hoursPerWeek < 5);\n        lowHourSubjects.sort((a, b)=>b.hoursPerWeek - a.hoursPerWeek);\n        for (const subject of lowHourSubjects)if (!this._placeLowHourSubject(className, subject)) {\n            console.error(`Step 3 failed: Cannot place low-hour subject ${subject.name}`);\n            return false;\n        }\n        // STEP 4: Check teacher conflicts (done during placement via _canPlaceAt)\n        // STEP 5: Randomization (done via _shuffle in slot selection)\n        return true;\n    }\n    /**\r\n     * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\r\n     * STEP 1: PLACE LABS (Rule D - Continuous blocks, can skip days)\r\n     * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\r\n     */ _placeLab(className, subject) {\n        const blocksNeeded = subject.hoursPerWeek / subject.blockSize;\n        let blocksPlaced = 0;\n        // Generate all possible continuous block positions\n        const possibleSlots = [];\n        this.DAYS.forEach((day)=>{\n            for(let start = 0; start <= this.PERIODS - subject.blockSize; start++){\n                // Prefer not starting at first period (70% probability)\n                if (start === 0 && Math.random() < 0.7) continue;\n                possibleSlots.push({\n                    day: day,\n                    start: start\n                });\n            }\n        });\n        // Rule E.5: Randomize within constraints\n        this._shuffle(possibleSlots);\n        for (const { day: day, start: start } of possibleSlots){\n            if (blocksPlaced >= blocksNeeded) break;\n            // Check if can place entire block\n            let canPlace = true;\n            for(let i = 0; i < subject.blockSize; i++){\n                const period = start + i;\n                const dayIndex = this.DAYS.indexOf(day);\n                // Rule A.3: No subject overlap\n                if (this.classTimetables[className][dayIndex][period]) {\n                    canPlace = false;\n                    break;\n                }\n                // Rule B.1: No teacher clash\n                const slotKey = `${day}-P${period + 1}`;\n                if (this.teacherBusySlots[subject.teacher]?.[slotKey]) {\n                    canPlace = false;\n                    break;\n                }\n                // Rule B.2: Check teacher limits\n                if (!this._checkTeacherLimit(subject.teacher)) {\n                    canPlace = false;\n                    break;\n                }\n                // Rule B.4: Avoid too many consecutive periods\n                if (this.teacherDailyCount[subject.teacher][day] >= this.MAX_CONSECUTIVE_PERIODS) {\n                    canPlace = false;\n                    break;\n                }\n            }\n            if (canPlace) {\n                // Place the entire continuous block\n                for(let i = 0; i < subject.blockSize; i++){\n                    const period = start + i;\n                    const dayIndex = this.DAYS.indexOf(day);\n                    this._placeAt(className, dayIndex, period, subject);\n                }\n                subject.placedHours += subject.blockSize;\n                blocksPlaced++;\n            }\n        }\n        // Rule D.4: All blocks must be placed\n        return blocksPlaced === blocksNeeded;\n    }\n    /**\r\n     * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\r\n     * STEP 2: PLACE HIGH-HOUR SUBJECTS (Rule C.1 - Must appear daily)\r\n     * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\r\n     */ /**\r\n * STEP 2: PLACE HIGH-HOUR SUBJECTS (Rule C.1 - Must appear daily, best-effort)\r\n * High-hour subjects try to appear on all days, but we don't crash the whole\r\n * timetable if the perfect distribution is impossible.\r\n */ _placeHighHourSubject(className, subject) {\n        const hoursToPlace = subject.hoursPerWeek;\n        let placed = 0;\n        const dailyCount = {};\n        this.DAYS.forEach((day)=>dailyCount[day] = 0);\n        // PHASE 1: Try to place at least ONE period on EACH day (best-effort)\n        for(let dayIdx = 0; dayIdx < this.DAYS.length; dayIdx++){\n            if (placed >= hoursToPlace) break;\n            const day = this.DAYS[dayIdx];\n            const periods = this._getAvailablePeriods(className, dayIdx, subject);\n            if (periods.length > 0) {\n                // Random selection within valid options\n                const period = periods[Math.floor(Math.random() * periods.length)];\n                this._placeAt(className, dayIdx, period, subject);\n                dailyCount[day]++;\n                subject.placedHours++;\n                placed++;\n            }\n        }\n        // PHASE 2: Place remaining hours with daily limit (max 2 / day normally, 3 in fallback)\n        while(placed < hoursToPlace){\n            let availableSlots = [];\n            // Normal rule: max 2 per day\n            for(let dayIdx = 0; dayIdx < this.DAYS.length; dayIdx++){\n                const day = this.DAYS[dayIdx];\n                if (dailyCount[day] >= this.MAX_SAME_SUBJECT_PER_DAY) continue;\n                const periods = this._getAvailablePeriods(className, dayIdx, subject);\n                periods.forEach((period)=>{\n                    availableSlots.push({\n                        dayIdx: dayIdx,\n                        period: period,\n                        day: day\n                    });\n                });\n            }\n            // Fallback: allow up to 3 per day if needed\n            if (availableSlots.length === 0) for(let dayIdx = 0; dayIdx < this.DAYS.length; dayIdx++){\n                const day = this.DAYS[dayIdx];\n                if (dailyCount[day] >= 3) continue;\n                const periods = this._getAvailablePeriods(className, dayIdx, subject);\n                periods.forEach((period)=>{\n                    availableSlots.push({\n                        dayIdx: dayIdx,\n                        period: period,\n                        day: day\n                    });\n                });\n            }\n            // FINAL EMERGENCY FALLBACK:\n            // If still no slots found, ignore daily repetition limits and just\n            // find ANY valid empty slot that doesn't clash with teacher/time.\n            if (availableSlots.length === 0) {\n                const emergencySlots = [];\n                for(let dayIdx = 0; dayIdx < this.DAYS.length; dayIdx++){\n                    for(let period = 0; period < this.PERIODS; period++)if (this._canPlaceAt(className, dayIdx, period, subject)) emergencySlots.push({\n                        dayIdx: dayIdx,\n                        period: period,\n                        day: this.DAYS[dayIdx]\n                    });\n                }\n                if (emergencySlots.length === 0) {\n                    console.warn(`Cannot fully place ${subject.name}: ${placed}/${hoursToPlace} placed. ` + `Proceeding with partial allocation.`);\n                    // Do NOT crash the whole timetable â€“ just accept partial placement.\n                    return true;\n                }\n                const slot = emergencySlots[Math.floor(Math.random() * emergencySlots.length)];\n                this._placeAt(className, slot.dayIdx, slot.period, subject);\n                dailyCount[slot.day]++;\n                subject.placedHours++;\n                placed++;\n                continue;\n            }\n            // Normal case: choose a valid slot\n            const slot = availableSlots[Math.floor(Math.random() * availableSlots.length)];\n            this._placeAt(className, slot.dayIdx, slot.period, subject);\n            dailyCount[slot.day]++;\n            subject.placedHours++;\n            placed++;\n        }\n        // Even if distribution wasn't \"perfect\", at this point we've placed all hours.\n        return true;\n    }\n    /**\r\n     * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\r\n     * STEP 3: PLACE LOW-HOUR SUBJECTS (Rule C.2 - Can have gaps)\r\n     * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\r\n     */ _placeLowHourSubject(className, subject) {\n        const hoursToPlace = subject.hoursPerWeek;\n        let placed = 0;\n        const dailyCount = {};\n        this.DAYS.forEach((day)=>dailyCount[day] = 0);\n        // Generate all possible slots\n        const allSlots = [];\n        this.DAYS.forEach((day, dayIdx)=>{\n            for(let period = 0; period < this.PERIODS; period++)allSlots.push({\n                day: day,\n                dayIdx: dayIdx,\n                period: period\n            });\n        });\n        // Rule E.5: Randomize\n        this._shuffle(allSlots);\n        for (const { day: day, dayIdx: dayIdx, period: period } of allSlots){\n            if (placed >= hoursToPlace) break;\n            // Rule C.3: Max 2 per day\n            if (dailyCount[day] >= this.MAX_SAME_SUBJECT_PER_DAY) continue;\n            if (!this._canPlaceAt(className, dayIdx, period, subject)) continue;\n            // Avoid back-to-back (Rule C.4: Daily variety)\n            if (period > 0) {\n                const prev = this.classTimetables[className][dayIdx][period - 1];\n                if (prev?.subject === subject.name && Math.random() < 0.8) continue;\n            }\n            this._placeAt(className, dayIdx, period, subject);\n            dailyCount[day]++;\n            subject.placedHours++;\n            placed++;\n        }\n        return placed === hoursToPlace;\n    }\n    /**\r\n     * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\r\n     * HELPER FUNCTIONS\r\n     * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\r\n     */ _getAvailablePeriods(className, dayIdx, subject) {\n        const available = [];\n        for(let period = 0; period < this.PERIODS; period++)if (this._canPlaceAt(className, dayIdx, period, subject)) {\n            // Avoid back-to-back\n            if (period > 0) {\n                const prev = this.classTimetables[className][dayIdx][period - 1];\n                if (prev?.subject === subject.name) continue;\n            }\n            available.push(period);\n        }\n        return available;\n    }\n    _canPlaceAt(className, dayIdx, period, subject) {\n        const day = this.DAYS[dayIdx];\n        const slotKey = `${day}-P${period + 1}`;\n        // Rule A.3: No subject overlap in a class\n        if (this.classTimetables[className][dayIdx][period]) return false;\n        // Rule B.1: No teacher clash\n        if (this.teacherBusySlots[subject.teacher]?.[slotKey]) return false;\n        // Rule B.2: Check teacher limits\n        if (!this._checkTeacherLimit(subject.teacher)) return false;\n        // Rule B.4: Avoid too many consecutive periods\n        if (this.teacherDailyCount[subject.teacher][day] >= this.MAX_CONSECUTIVE_PERIODS) return false;\n        return true;\n    }\n    _placeAt(className, dayIdx, period, subject) {\n        const day = this.DAYS[dayIdx];\n        const slotKey = `${day}-P${period + 1}`;\n        // Place in class timetable\n        this.classTimetables[className][dayIdx][period] = {\n            subject: subject.name,\n            teacher: subject.teacher,\n            type: subject.subjectType\n        };\n        // Update teacher tracking\n        if (!this.teacherBusySlots[subject.teacher]) this.teacherBusySlots[subject.teacher] = {};\n        this.teacherBusySlots[subject.teacher][slotKey] = true;\n        this.teacherWeeklyCount[subject.teacher]++;\n        this.teacherDailyCount[subject.teacher][day]++;\n    }\n    _checkTeacherLimit(teacherName) {\n        const teacher = this.staff.find((s)=>s.name === teacherName);\n        if (!teacher) return false;\n        // Rule B.2: Teachers MAY have free periods\n        const maxHours = teacher.freePeriodMode === 'manual' ? this.MAX_PERIODS_PER_DAY - teacher.manualFreePeriods : this.MAX_PERIODS_PER_DAY;\n        return this.teacherWeeklyCount[teacherName] < maxHours;\n    }\n    /**\r\n     * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\r\n     * GENERATE STAFF TIMETABLES (Rule B.2 - Teachers may have free periods)\r\n     * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\r\n     */ _generateStaffTimetables() {\n        this.staff.filter((s)=>s.role === 'staff').forEach((teacher)=>{\n            this.staffTimetables[teacher.name] = this.DAYS.map(()=>Array(this.PERIODS).fill({\n                    subject: 'FREE',\n                    class: '-',\n                    type: 'free'\n                }));\n        });\n        this.classes.forEach((cls)=>{\n            this.DAYS.forEach((day, dayIndex)=>{\n                this.classTimetables[cls.name][dayIndex].forEach((slot, period)=>{\n                    if (slot) this.staffTimetables[slot.teacher][dayIndex][period] = {\n                        subject: slot.subject,\n                        class: cls.name,\n                        type: slot.type\n                    };\n                });\n            });\n        });\n    }\n    /**\r\n     * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\r\n     * VALIDATION (Rule F)\r\n     * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\r\n     */ _validateGenerated() {\n        const warnings = [];\n        // F.1: Class validation\n        this.classes.forEach((cls)=>{\n            let totalSlots = 0;\n            let emptySlots = 0;\n            this.DAYS.forEach((day, dayIdx)=>{\n                this.classTimetables[cls.name][dayIdx].forEach((slot)=>{\n                    totalSlots++;\n                    if (!slot) emptySlots++;\n                });\n            });\n            if (emptySlots > 0) warnings.push(`Class ${cls.name}: Has ${emptySlots} empty slots (Rule A.2 violated)`);\n        });\n        // F.2: Teacher validation - check for clashes\n        const teachers = this.staff.filter((s)=>s.role === 'staff');\n        teachers.forEach((teacher)=>{\n            const teacherSlots = {};\n            this.DAYS.forEach((day)=>{\n                for(let p = 0; p < this.PERIODS; p++)teacherSlots[`${day}-P${p + 1}`] = [];\n            });\n            this.classes.forEach((cls)=>{\n                this.DAYS.forEach((day, dayIdx)=>{\n                    this.classTimetables[cls.name][dayIdx].forEach((slot, period)=>{\n                        if (slot && slot.teacher === teacher.name) teacherSlots[`${day}-P${period + 1}`].push(cls.name);\n                    });\n                });\n            });\n            Object.keys(teacherSlots).forEach((slotKey)=>{\n                if (teacherSlots[slotKey].length > 1) warnings.push(`Teacher ${teacher.name} has clash at ${slotKey}: ` + `${teacherSlots[slotKey].join(', ')} (Rule B.1 violated)`);\n            });\n        });\n        // F.3: Subject validation - high-hour subjects should appear daily\n        const classSubjects = {};\n        this.subjects.forEach((sub)=>{\n            if (!classSubjects[sub.className]) classSubjects[sub.className] = [];\n            classSubjects[sub.className].push(sub);\n        });\n        Object.keys(classSubjects).forEach((className)=>{\n            classSubjects[className].forEach((subject)=>{\n                if (!subject.isContinuous && subject.hoursPerWeek >= 5) {\n                    // Check if appears on all days\n                    const daysWithSubject = new Set();\n                    this.DAYS.forEach((day, dayIdx)=>{\n                        this.classTimetables[className][dayIdx].forEach((slot)=>{\n                            if (slot && slot.subject === subject.name) daysWithSubject.add(day);\n                        });\n                    });\n                    if (daysWithSubject.size < this.DAYS.length) {\n                        const missingDays = this.DAYS.filter((d)=>!daysWithSubject.has(d));\n                        warnings.push(`Subject ${subject.name} (${className}): Missing on ${missingDays.join(', ')} ` + `(Rule C.1: High-hour subjects should appear daily)`);\n                    }\n                }\n            });\n        });\n        return {\n            valid: warnings.length === 0,\n            warnings: warnings\n        };\n    }\n    /**\r\n     * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\r\n     * UTILITY FUNCTION (Rule E.5: Randomization)\r\n     * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\r\n     */ _shuffle(array) {\n        for(let i = array.length - 1; i > 0; i--){\n            const j = Math.floor(Math.random() * (i + 1));\n            [array[i], array[j]] = [\n                array[j],\n                array[i]\n            ];\n        }\n    }\n}\n\n});\n\n\n\n//# sourceMappingURL=AdminDashboard.c9d3da5e.js.map\n","import React, { useState, useEffect } from 'react';\r\nimport AnimatedBackground from './AnimatedBackground';\r\nimport { ToastContainer } from './Toast';\r\nimport HoursTracker from './HoursTracker';\r\nimport TimetableGrid from './TimetableGrid';\r\nimport StaffTimetableGrid from './StaffTimetableGrid';\r\nimport { Storage } from '../utils/storage';\r\nimport { TimetableGenerator } from '../utils/timetableGenerator';\r\nimport { exportToPDF } from '../utils/pdfUtils';\r\n\r\n// ðŸ”¥ Firebase imports\r\nimport { createUserWithEmailAndPassword } from 'firebase/auth';\r\nimport { setDoc, doc, collection, addDoc, getDocs, deleteDoc } from 'firebase/firestore';\r\nimport { auth, db } from '../utils/firebase';\r\n\r\n\r\n\r\nexport default function AdminDashboard({ user, onLogout }) {\r\n    const [classes, setClasses] = useState(Storage.get('classes') || []);\r\n    const [staff, setStaff] = useState(Storage.get('staff') || []);\r\n    const [subjects, setSubjects] = useState(Storage.get('subjects') || []);\r\n    const [timetable, setTimetable] = useState(Storage.get('timetable'));\r\n    const [toasts, setToasts] = useState([]);\r\n\r\n    const teachers = staff.filter(s => s.role === 'staff');\r\n\r\n    const [newClass, setNewClass] = useState({ name: '' });\r\n    const [newStaff, setNewStaff] = useState({\r\n        name: '',\r\n        username: '',\r\n        password: '',\r\n        freePeriodMode: 'auto',\r\n        manualFreePeriods: 0\r\n    });\r\n    const [newSubject, setNewSubject] = useState({\r\n        className: '',\r\n        name: '',\r\n        subjectType: '',\r\n        hoursPerWeek: 6,\r\n        isContinuous: false,\r\n        blockSize: 2,\r\n        teacher: ''\r\n    });\r\n    // ðŸ”¥ Load classes from Firestore on mount (and update local backup)\r\n    useEffect(() => {\r\n    const loadClasses = async () => {\r\n        try {\r\n            const snapshot = await getDocs(collection(db, 'classes'));\r\n            if (!snapshot.empty) {\r\n                const cloudClasses = snapshot.docs.map(d => ({\r\n                    id: d.id,\r\n                    ...d.data(),\r\n                }));\r\n                setClasses(cloudClasses);\r\n                Storage.set('classes', cloudClasses);\r\n            }\r\n        } catch (err) {\r\n            console.error('Error loading classes from Firestore:', err);\r\n        }\r\n        };\r\n    loadClasses();\r\n    }, []);\r\n\r\n    const showToast = (message, type) => {\r\n        setToasts(prev => [...prev, { message, type }]);\r\n    };\r\n\r\n    const removeToast = (index) => {\r\n        setToasts(prev => prev.filter((_, i) => i !== index));\r\n    };\r\n\r\n    // Class Management\r\n    // Class Management (Hybrid: Firestore + Local)\r\n    const addClass = async () => {\r\n    if (!newClass.name) {\r\n        showToast('Please enter class name', 'error');\r\n        return;\r\n    }\r\n    if (classes.find(c => c.name === newClass.name)) {\r\n        showToast('Class already exists', 'error');\r\n        return;\r\n    }\r\n\r\n    try {\r\n        // 1ï¸âƒ£ Save in Firestore\r\n        const docRef = await addDoc(collection(db, 'classes'), {\r\n            name: newClass.name,\r\n        });\r\n\r\n        const newCls = { id: docRef.id, name: newClass.name };\r\n\r\n        // 2ï¸âƒ£ Update UI + LocalStorage\r\n        const updated = [...classes, newCls];\r\n        setClasses(updated);\r\n        Storage.set('classes', updated);\r\n\r\n        setNewClass({ name: '' });\r\n        showToast('Class added successfully!', 'success');\r\n    } catch (err) {\r\n        console.error('Error adding class to Firestore:', err);\r\n        showToast('Could not save class online', 'error');\r\n    }\r\n};\r\n\r\n    // ðŸ”¥ Create staff in Firebase (Auth + Firestore)\r\n    const createStaffInFirebase = async (staffObj) => {\r\n        try {\r\n            // Email = username@timetable.com\r\n            const email = `${staffObj.username}@timetable.com`;\r\n            const password = staffObj.password || 'Staff@123';\r\n\r\n            console.log('Creating Firebase user:', email);\r\n\r\n            // 1ï¸âƒ£ Create Auth user\r\n            const userCredential = await createUserWithEmailAndPassword(auth, email, password);\r\n            const uid = userCredential.user.uid;\r\n\r\n            console.log('Staff Firebase UID:', uid);\r\n\r\n            // 2ï¸âƒ£ Create Firestore user document\r\n            await setDoc(doc(db, 'users', uid), {\r\n                fullName: staffObj.name || staffObj.fullName || '',\r\n                username: staffObj.username,\r\n                role: 'staff',\r\n                department: staffObj.department || staffObj.dept || '',\r\n                createdAt: new Date(),\r\n            });\r\n\r\n            return uid;\r\n        } catch (error) {\r\n            const code = error.code || 'no-code';\r\n            const msg = error.message || 'no-message';\r\n\r\n            // Show real Firebase error in simple popup (no React red overlay)\r\n            alert(`Firebase staff creation error:\\n${code}\\n${msg}`);\r\n\r\n            // Return null to indicate failure\r\n            return null;\r\n        }\r\n    };\r\n\r\n    // Staff Management\r\n    const addStaff = async () => {\r\n        if (!newStaff.name || !newStaff.username || !newStaff.password) {\r\n            showToast('Please fill all fields', 'error');\r\n            return;\r\n        }\r\n        if (staff.find(s => s.username === newStaff.username)) {\r\n            showToast('Username already exists', 'error');\r\n            return;\r\n        }\r\n\r\n        // 1ï¸âƒ£ First try to create in Firebase (Auth + Firestore)\r\n        const uid = await createStaffInFirebase(newStaff);\r\n\r\n        if (!uid) {\r\n            // Firebase failed â†’ don't save locally\r\n            showToast('Firebase error: could not create staff account', 'error');\r\n            return;\r\n        }\r\n\r\n        // 2ï¸âƒ£ If Firebase success â†’ save to local state + storage\r\n        const staffToSave = {\r\n            id: Date.now(),\r\n            ...newStaff,\r\n            role: 'staff',\r\n            firebaseUid: uid,\r\n        };\r\n\r\n        const updated = [...staff, staffToSave];\r\n        setStaff(updated);\r\n        Storage.set('staff', updated);\r\n\r\n        // 3ï¸âƒ£ Reset form\r\n        setNewStaff({\r\n            name: '',\r\n            username: '',\r\n            password: '',\r\n            freePeriodMode: 'auto',\r\n            manualFreePeriods: 0\r\n        });\r\n\r\n        showToast('Staff added successfully!', 'success');\r\n    };\r\n\r\n    const deleteStaff = (id) => {\r\n        if (!window.confirm('Delete this staff member?')) return;\r\n        const updated = staff.filter(s => s.id !== id);\r\n        setStaff(updated);\r\n        Storage.set('staff', updated);\r\n        showToast('Staff deleted', 'success');\r\n    };\r\n\r\n    // Subject Management\r\n    const addSubject = () => {\r\n        if (!newSubject.className || !newSubject.name || !newSubject.subjectType || !newSubject.teacher) {\r\n            showToast('Please fill all required fields', 'error');\r\n            return;\r\n        }\r\n        const updated = [...subjects, { id: Date.now(), ...newSubject }];\r\n        setSubjects(updated);\r\n        Storage.set('subjects', updated);\r\n        setNewSubject({\r\n            className: '',\r\n            name: '',\r\n            subjectType: '',\r\n            hoursPerWeek: 6,\r\n            isContinuous: false,\r\n            blockSize: 2,\r\n            teacher: ''\r\n        });\r\n        showToast('Subject added successfully!', 'success');\r\n    };\r\n\r\n    const deleteSubject = (id) => {\r\n        if (!window.confirm('Delete this subject?')) return;\r\n        const updated = subjects.filter(s => s.id !== id);\r\n        setSubjects(updated);\r\n        Storage.set('subjects', updated);\r\n        showToast('Subject deleted', 'success');\r\n    };\r\n\r\n    // Timetable Generation\r\n    const generateTimetable = () => {\r\n        const generator = new TimetableGenerator(classes, teachers, subjects);\r\n        const validation = generator.validate();\r\n\r\n        if (!validation.valid) {\r\n            showToast('Validation errors: ' + validation.errors.join('; '), 'error');\r\n            return;\r\n        }\r\n\r\n        const result = generator.generate();\r\n\r\n        if (result.success) {\r\n            const timetableData = {\r\n                classTimetables: result.classTimetables,\r\n                staffTimetables: result.staffTimetables\r\n            };\r\n            setTimetable(timetableData);\r\n            Storage.set('timetable', timetableData);\r\n            showToast('Timetable generated successfully!', 'success');\r\n\r\n            setTimeout(() => {\r\n                document.getElementById('view-timetables')?.scrollIntoView({\r\n                    behavior: 'smooth'\r\n                });\r\n            }, 1000);\r\n        } else {\r\n            showToast('Generation failed: ' + result.error, 'error');\r\n        }\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <AnimatedBackground />\r\n            <div className=\"header\">\r\n                <div className=\"header-content\">\r\n                    <h1>ðŸ« Admin Dashboard</h1>\r\n                    <div className=\"header-actions\">\r\n                        <button className=\"theme-toggle\">ðŸŒ™</button>\r\n                        <button className=\"btn btn-danger btn-sm\" onClick={onLogout}>\r\n                            Logout\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"content\">\r\n\r\n                {/* CLASSES SECTION */}\r\n                <div className=\"section\">\r\n                    <div className=\"section-header\">\r\n                        <span className=\"section-icon\">ðŸ“š</span>\r\n                        <h2 className=\"section-title\">Manage Classes</h2>\r\n                    </div>\r\n\r\n                    <div className=\"card\">\r\n                        <h3>Add New Class</h3>\r\n                        <div className=\"form-group\">\r\n                            <label>Class Name (e.g., CS3A, EE2B)</label>\r\n                            <input\r\n                                type=\"text\"\r\n                                value={newClass.name}\r\n                                onChange={(e) => setNewClass({ name: e.target.value.toUpperCase() })}\r\n                                placeholder=\"Enter class name\"\r\n                            />\r\n                        </div>\r\n                        <button className=\"btn btn-primary\" onClick={addClass}>\r\n                            Add Class\r\n                        </button>\r\n                    </div>\r\n\r\n                    <div className=\"card\">\r\n                        <h3>Existing Classes ({classes.length})</h3>\r\n                        {classes.length === 0 ? (\r\n                            <p style={{ color: '#64748b' }}>No classes added yet</p>\r\n                        ) : (\r\n                            <>\r\n                                <div className=\"desktop-table\">\r\n                                    <table>\r\n                                        <thead>\r\n                                            <tr>\r\n                                                <th>#</th>\r\n                                                <th>Class Name</th>\r\n                                                <th>Subjects</th>\r\n                                                <th>Actions</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                            {classes.map((cls, idx) => (\r\n                                                <tr key={cls.id}>\r\n                                                    <td>{idx + 1}</td>\r\n                                                    <td><strong>{cls.name}</strong></td>\r\n                                                    <td>{subjects.filter(s => s.className === cls.name).length}</td>\r\n                                                    <td>\r\n                                                        <button\r\n                                                            className=\"btn btn-danger btn-sm\"\r\n                                                            onClick={() => deleteClass(cls.id)}\r\n                                                        >\r\n                                                            Delete\r\n                                                        </button>\r\n                                                    </td>\r\n                                                </tr>\r\n                                            ))}\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n\r\n                                <div className=\"mobile-cards\">\r\n                                    {classes.map((cls, idx) => (\r\n                                        <div key={cls.id} className=\"mobile-card\">\r\n                                            <div className=\"mobile-card-header\">\r\n                                                <span className=\"mobile-card-title\">{cls.name}</span>\r\n                                                <span className=\"mobile-card-badge\">#{idx + 1}</span>\r\n                                            </div>\r\n                                            <div className=\"mobile-card-body\">\r\n                                                <div className=\"mobile-card-row\">\r\n                                                    <span className=\"mobile-card-label\">Subjects:</span>\r\n                                                    <span className=\"mobile-card-value\">\r\n                                                        {subjects.filter(s => s.className === cls.name).length}\r\n                                                    </span>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"mobile-card-actions\">\r\n                                                <button\r\n                                                    className=\"btn btn-danger btn-sm\"\r\n                                                    onClick={() => deleteClass(cls.id)}\r\n                                                >\r\n                                                    Delete\r\n                                                </button>\r\n                                            </div>\r\n                                        </div>\r\n                                    ))}\r\n                                </div>\r\n                            </>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n\r\n                {/* STAFF SECTION */}\r\n                <div className=\"section\">\r\n                    <div className=\"section-header\">\r\n                        <span className=\"section-icon\">ðŸ‘¥</span>\r\n                        <h2 className=\"section-title\">Manage Staff</h2>\r\n                    </div>\r\n\r\n                    <div className=\"card\">\r\n                        <h3>Add New Staff</h3>\r\n                        <div className=\"grid-2\">\r\n                            <div className=\"form-group\">\r\n                                <label>Full Name *</label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    value={newStaff.name}\r\n                                    onChange={(e) => setNewStaff({ ...newStaff, name: e.target.value })}\r\n                                    placeholder=\"Dr. John Doe\"\r\n                                />\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label>Username *</label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    value={newStaff.username}\r\n                                    onChange={(e) => setNewStaff({ ...newStaff, username: e.target.value })}\r\n                                    placeholder=\"john\"\r\n                                />\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label>Password *</label>\r\n                                <input\r\n                                    type=\"password\"\r\n                                    value={newStaff.password}\r\n                                    onChange={(e) => setNewStaff({ ...newStaff, password: e.target.value })}\r\n                                    placeholder=\"Password\"\r\n                                />\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label>Free Period Mode</label>\r\n                                <select\r\n                                    value={newStaff.freePeriodMode}\r\n                                    onChange={(e) => setNewStaff({ ...newStaff, freePeriodMode: e.target.value })}\r\n                                >\r\n                                    <option value=\"auto\">Auto</option>\r\n                                    <option value=\"manual\">Manual</option>\r\n                                </select>\r\n                            </div>\r\n                        </div>\r\n                        {newStaff.freePeriodMode === 'manual' && (\r\n                            <div className=\"form-group\">\r\n                                <label>Free Periods per Week</label>\r\n                                <input\r\n                                    type=\"number\"\r\n                                    min=\"0\"\r\n                                    max=\"30\"\r\n                                    value={newStaff.manualFreePeriods}\r\n                                    onChange={(e) => setNewStaff({\r\n                                        ...newStaff,\r\n                                        manualFreePeriods: parseInt(e.target.value) || 0\r\n                                    })}\r\n                                />\r\n                            </div>\r\n                        )}\r\n                        <button className=\"btn btn-primary\" onClick={addStaff}>\r\n                            Add Staff\r\n                        </button>\r\n                    </div>\r\n\r\n                    <div className=\"card\">\r\n                        <h3>Existing Staff ({teachers.length})</h3>\r\n                        {teachers.length === 0 ? (\r\n                            <p style={{ color: '#64748b' }}>No staff added yet</p>\r\n                        ) : (\r\n                            <>\r\n                                <div className=\"desktop-table\">\r\n                                    <table>\r\n                                        <thead>\r\n                                            <tr>\r\n                                                <th>S.No</th>\r\n                                                <th>Name</th>\r\n                                                <th>Username</th>\r\n                                                <th>Mode</th>\r\n                                                <th>Actions</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                            {teachers.map((s, idx) => (\r\n                                                <tr key={s.id}>\r\n                                                    <td><span className=\"staff-badge\">S{idx + 1}</span></td>\r\n                                                    <td><strong>{s.name}</strong></td>\r\n                                                    <td>{s.username}</td>\r\n                                                    <td>\r\n                                                        {s.freePeriodMode === 'manual'\r\n                                                            ? `Manual (${s.manualFreePeriods} free)`\r\n                                                            : 'Auto'}\r\n                                                    </td>\r\n                                                    <td>\r\n                                                        <button\r\n                                                            className=\"btn btn-danger btn-sm\"\r\n                                                            onClick={() => deleteStaff(s.id)}\r\n                                                        >\r\n                                                            Delete\r\n                                                        </button>\r\n                                                    </td>\r\n                                                </tr>\r\n                                            ))}\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n\r\n                                <div className=\"mobile-cards\">\r\n                                    {teachers.map((s, idx) => (\r\n                                        <div key={s.id} className=\"mobile-card\">\r\n                                            <div className=\"mobile-card-header\">\r\n                                                <span className=\"mobile-card-title\">{s.name}</span>\r\n                                                <span className=\"mobile-card-badge\">S{idx + 1}</span>\r\n                                            </div>\r\n                                            <div className=\"mobile-card-body\">\r\n                                                <div className=\"mobile-card-row\">\r\n                                                    <span className=\"mobile-card-label\">Username:</span>\r\n                                                    <span className=\"mobile-card-value\">{s.username}</span>\r\n                                                </div>\r\n                                                <div className=\"mobile-card-row\">\r\n                                                    <span className=\"mobile-card-label\">Mode:</span>\r\n                                                    <span className=\"mobile-card-value\">\r\n                                                        {s.freePeriodMode === 'manual'\r\n                                                            ? `Manual (${s.manualFreePeriods} free)`\r\n                                                            : 'Auto'}\r\n                                                    </span>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"mobile-card-actions\">\r\n                                                <button\r\n                                                    className=\"btn btn-danger btn-sm\"\r\n                                                    onClick={() => deleteStaff(s.id)}\r\n                                                >\r\n                                                    Delete\r\n                                                </button>\r\n                                            </div>\r\n                                        </div>\r\n                                    ))}\r\n                                </div>\r\n                            </>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n\r\n                {/* SUBJECTS SECTION */}\r\n                <div className=\"section\">\r\n                    <div className=\"section-header\">\r\n                        <span className=\"section-icon\">ðŸ“–</span>\r\n                        <h2 className=\"section-title\">Manage Subjects</h2>\r\n                    </div>\r\n\r\n                    {newSubject.className && (\r\n                        <HoursTracker className={newSubject.className} subjects={subjects} />\r\n                    )}\r\n\r\n                    <div className=\"card\">\r\n                        <h3>Add New Subject</h3>\r\n                        <div className=\"grid-2\">\r\n                            <div className=\"form-group\">\r\n                                <label>Select Class *</label>\r\n                                <select\r\n                                    value={newSubject.className}\r\n                                    onChange={(e) => setNewSubject({ ...newSubject, className: e.target.value })}\r\n                                >\r\n                                    <option value=\"\">-- Select Class --</option>\r\n                                    {classes.map(cls => (\r\n                                        <option key={cls.id} value={cls.name}>{cls.name}</option>\r\n                                    ))}\r\n                                </select>\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label>Subject Name *</label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    value={newSubject.name}\r\n                                    onChange={(e) => setNewSubject({ ...newSubject, name: e.target.value })}\r\n                                    placeholder=\"DBMS, AI Lab, etc.\"\r\n                                />\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label>Subject Type *</label>\r\n                                <select\r\n                                    value={newSubject.subjectType}\r\n                                    onChange={(e) => setNewSubject({ ...newSubject, subjectType: e.target.value })}\r\n                                >\r\n                                    <option value=\"\">-- Select Type --</option>\r\n                                    <option value=\"Core\">Core</option>\r\n                                    <option value=\"Elective\">Elective</option>\r\n                                    <option value=\"Lab\">Lab</option>\r\n                                    <option value=\"Other\">Other</option>\r\n                                </select>\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label>Hours per Week *</label>\r\n                                <input\r\n                                    type=\"number\"\r\n                                    min=\"1\"\r\n                                    max=\"30\"\r\n                                    value={newSubject.hoursPerWeek}\r\n                                    onChange={(e) => setNewSubject({\r\n                                        ...newSubject,\r\n                                        hoursPerWeek: parseInt(e.target.value) || 6\r\n                                    })}\r\n                                />\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label>Teacher *</label>\r\n                                <select\r\n                                    value={newSubject.teacher}\r\n                                    onChange={(e) => setNewSubject({ ...newSubject, teacher: e.target.value })}\r\n                                >\r\n                                    <option value=\"\">-- Select Teacher --</option>\r\n                                    {teachers.map(t => (\r\n                                        <option key={t.id} value={t.name}>{t.name}</option>\r\n                                    ))}\r\n                                </select>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"checkbox-group\">\r\n                            <input\r\n                                type=\"checkbox\"\r\n                                id=\"continuous\"\r\n                                checked={newSubject.isContinuous}\r\n                                onChange={(e) => setNewSubject({ ...newSubject, isContinuous: e.target.checked })}\r\n                            />\r\n                            <label htmlFor=\"continuous\" style={{ marginBottom: 0 }}>\r\n                                Continuous Lab Block\r\n                            </label>\r\n                        </div>\r\n\r\n                        {newSubject.isContinuous && (\r\n                            <div className=\"form-group\">\r\n                                <label>Block Size</label>\r\n                                <select\r\n                                    value={newSubject.blockSize}\r\n                                    onChange={(e) => setNewSubject({\r\n                                        ...newSubject,\r\n                                        blockSize: parseInt(e.target.value)\r\n                                    })}\r\n                                >\r\n                                    <option value={2}>2 Periods</option>\r\n                                    <option value={3}>3 Periods</option>\r\n                                </select>\r\n                            </div>\r\n                        )}\r\n\r\n                        <button className=\"btn btn-primary\" onClick={addSubject}>\r\n                            Add Subject\r\n                        </button>\r\n                    </div>\r\n\r\n                    <div className=\"card\">\r\n                        <h3>Existing Subjects ({subjects.length})</h3>\r\n                        {subjects.length === 0 ? (\r\n                            <p style={{ color: '#64748b' }}>No subjects added yet</p>\r\n                        ) : (\r\n                            <>\r\n                                {classes.map(cls => {\r\n                                    const classSubjects = subjects.filter(s => s.className === cls.name);\r\n                                    if (classSubjects.length === 0) return null;\r\n\r\n                                    const totalHours = classSubjects.reduce((sum, s) => sum + s.hoursPerWeek, 0);\r\n\r\n                                    return (\r\n                                        <div key={cls.id} style={{ marginBottom: '30px' }}>\r\n                                            <h4 style={{\r\n                                                marginBottom: '15px',\r\n                                                display: 'flex',\r\n                                                alignItems: 'center',\r\n                                                gap: '10px',\r\n                                                color: '#1e293b'\r\n                                            }}>\r\n                                                Class: {cls.name}\r\n                                                <span style={{\r\n                                                    padding: '4px 12px',\r\n                                                    borderRadius: '12px',\r\n                                                    fontSize: '12px',\r\n                                                    fontWeight: 600,\r\n                                                    background: totalHours === 30 ? '#10b981' : '#ef4444',\r\n                                                    color: 'white'\r\n                                                }}>\r\n                                                    {totalHours}/30 hours\r\n                                                </span>\r\n                                            </h4>\r\n\r\n                                            <div className=\"desktop-table\">\r\n                                                <table>\r\n                                                    <thead>\r\n                                                        <tr>\r\n                                                            <th>Subject</th>\r\n                                                            <th>Type</th>\r\n                                                            <th>Hours</th>\r\n                                                            <th>Teacher</th>\r\n                                                            <th>Actions</th>\r\n                                                        </tr>\r\n                                                    </thead>\r\n                                                    <tbody>\r\n                                                        {classSubjects.map(sub => (\r\n                                                            <tr key={sub.id}>\r\n                                                                <td><strong>{sub.name}</strong></td>\r\n                                                                <td>{sub.subjectType}</td>\r\n                                                                <td>{sub.hoursPerWeek}h</td>\r\n                                                                <td>{sub.teacher}</td>\r\n                                                                <td>\r\n                                                                    <button\r\n                                                                        className=\"btn btn-danger btn-sm\"\r\n                                                                        onClick={() => deleteSubject(sub.id)}\r\n                                                                    >\r\n                                                                        Delete\r\n                                                                    </button>\r\n                                                                </td>\r\n                                                            </tr>\r\n                                                        ))}\r\n                                                    </tbody>\r\n                                                </table>\r\n                                            </div>\r\n\r\n                                            <div className=\"mobile-cards\">\r\n                                                {classSubjects.map(sub => (\r\n                                                    <div key={sub.id} className=\"mobile-card\">\r\n                                                        <div className=\"mobile-card-header\">\r\n                                                            <span className=\"mobile-card-title\">{sub.name}</span>\r\n                                                            <span className=\"mobile-card-badge\">{sub.subjectType}</span>\r\n                                                        </div>\r\n                                                        <div className=\"mobile-card-body\">\r\n                                                            <div className=\"mobile-card-row\">\r\n                                                                <span className=\"mobile-card-label\">Hours:</span>\r\n                                                                <span className=\"mobile-card-value\">{sub.hoursPerWeek}h</span>\r\n                                                            </div>\r\n                                                            <div className=\"mobile-card-row\">\r\n                                                                <span className=\"mobile-card-label\">Teacher:</span>\r\n                                                                <span className=\"mobile-card-value\">{sub.teacher}</span>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                        <div className=\"mobile-card-actions\">\r\n                                                            <button\r\n                                                                className=\"btn btn-danger btn-sm\"\r\n                                                                onClick={() => deleteSubject(sub.id)}\r\n                                                            >\r\n                                                                Delete\r\n                                                            </button>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                ))}\r\n                                            </div>\r\n                                        </div>\r\n                                    );\r\n                                })}\r\n                            </>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n\r\n                {/* GENERATION SECTION */}\r\n                <div className=\"section\">\r\n                    <div className=\"section-header\">\r\n                        <span className=\"section-icon\">âš¡</span>\r\n                        <h2 className=\"section-title\">Generate Timetable</h2>\r\n                    </div>\r\n\r\n                    <div className=\"card\">\r\n                        <h3>Ready to Generate</h3>\r\n                        <div style={{\r\n                            marginBottom: '25px',\r\n                            padding: '20px',\r\n                            background: '#f8fafc',\r\n                            borderRadius: '12px',\r\n                            color: '#475569'\r\n                        }}>\r\n                            <p style={{ marginBottom: '15px', fontSize: '15px', lineHeight: '1.6' }}>\r\n                                The smart algorithm will create an optimized timetable ensuring:\r\n                            </p>\r\n                            <ul style={{ marginLeft: '25px', lineHeight: '1.8' }}>\r\n                                <li>âœ… No free periods (all 30 filled)</li>\r\n                                <li>âœ… Each subject appears at least once per day ðŸ”¥ NEW!</li>\r\n                                <li>âœ… Labs in continuous blocks</li>\r\n                                <li>âœ… Core subjects distributed evenly</li>\r\n                                <li>âœ… No teacher conflicts</li>\r\n                                <li>âœ… Balanced teacher workload</li>\r\n                            </ul>\r\n                        </div>\r\n\r\n                        <div style={{\r\n                            display: 'grid',\r\n                            gridTemplateColumns: 'repeat(auto-fit, minmax(150px, 1fr))',\r\n                            gap: '15px',\r\n                            marginBottom: '25px'\r\n                        }}>\r\n                            <div style={{\r\n                                padding: '15px',\r\n                                background: 'linear-gradient(135deg, #667eea, #764ba2)',\r\n                                borderRadius: '12px',\r\n                                color: 'white',\r\n                                textAlign: 'center'\r\n                            }}>\r\n                                <div style={{ fontSize: '13px', opacity: 0.9 }}>Classes</div>\r\n                                <div style={{ fontSize: '2em', fontWeight: 'bold' }}>{classes.length}</div>\r\n                            </div>\r\n                            <div style={{\r\n                                padding: '15px',\r\n                                background: 'linear-gradient(135deg, #10b981, #059669)',\r\n                                borderRadius: '12px',\r\n                                color: 'white',\r\n                                textAlign: 'center'\r\n                            }}>\r\n                                <div style={{ fontSize: '13px', opacity: 0.9 }}>Teachers</div>\r\n                                <div style={{ fontSize: '2em', fontWeight: 'bold' }}>{teachers.length}</div>\r\n                            </div>\r\n                            <div style={{\r\n                                padding: '15px',\r\n                                background: 'linear-gradient(135deg, #f59e0b, #d97706)',\r\n                                borderRadius: '12px',\r\n                                color: 'white',\r\n                                textAlign: 'center'\r\n                            }}>\r\n                                <div style={{ fontSize: '13px', opacity: 0.9 }}>Subjects</div>\r\n                                <div style={{ fontSize: '2em', fontWeight: 'bold' }}>{subjects.length}</div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <button\r\n                            className=\"btn btn-success\"\r\n                            onClick={generateTimetable}\r\n                            style={{ width: '100%', fontSize: '18px', padding: '18px 40px' }}\r\n                        >\r\n                            Generate Timetable\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* VIEW TIMETABLES SECTION */}\r\n                {timetable && (\r\n                    <div className=\"section\" id=\"view-timetables\">\r\n                        <div className=\"section-header\">\r\n                            <span className=\"section-icon\">ðŸ“Š</span>\r\n                            <h2 className=\"section-title\">Generated Timetables</h2>\r\n                        </div>\r\n\r\n                        <div className=\"card\">\r\n                            <h3>Class-wise Timetables</h3>\r\n                            {classes.map(cls => (\r\n                                <div key={cls.id} style={{ marginBottom: '40px' }}>\r\n                                    <h4 style={{\r\n                                        marginBottom: '15px',\r\n                                        fontSize: '1.2em',\r\n                                        color: '#1e293b'\r\n                                    }}>\r\n                                        Class: {cls.name}\r\n                                    </h4>\r\n                                    <TimetableGrid\r\n                                        timetable={timetable.classTimetables}\r\n                                        className={cls.name}\r\n                                    />\r\n                                    <div\r\n                                        style={{ marginTop: '15px', display: 'flex', gap: '10px' }}\r\n                                        className=\"no-print\"\r\n                                    >\r\n                                        <button\r\n                                            className=\"btn btn-primary btn-sm\"\r\n                                            onClick={() => exportToPDF(\r\n                                                'timetable-export',\r\n                                                `${cls.name}_Timetable.pdf`\r\n                                            )}\r\n                                        >\r\n                                            Download PDF\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n\r\n                        <div className=\"card\">\r\n                            <h3>Staff-wise Timetables</h3>\r\n                            {teachers.map(teacher => (\r\n                                <div key={teacher.id} style={{ marginBottom: '40px' }}>\r\n                                    <h4 style={{\r\n                                        marginBottom: '15px',\r\n                                        fontSize: '1.2em',\r\n                                        color: '#1e293b'\r\n                                    }}>\r\n                                        Teacher: {teacher.name}\r\n                                    </h4>\r\n                                    <StaffTimetableGrid\r\n                                        timetable={timetable.staffTimetables}\r\n                                        staffName={teacher.name}\r\n                                    />\r\n                                    <div\r\n                                        style={{ marginTop: '15px', display: 'flex', gap: '10px' }}\r\n                                        className=\"no-print\"\r\n                                    >\r\n                                        <button\r\n                                            className=\"btn btn-primary btn-sm\"\r\n                                            onClick={() => exportToPDF(\r\n                                                'staff-timetable-export',\r\n                                                `${teacher.name}_Timetable.pdf`\r\n                                            )}\r\n                                        >\r\n                                            Download PDF\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            <ToastContainer toasts={toasts} removeToast={removeToast} />\r\n        </>\r\n    );\r\n}\r\n","import React, { useEffect } from 'react';\r\n\r\nexport function Toast({ message, type, onClose }) {\r\n    useEffect(() => {\r\n        const timer = setTimeout(onClose, 5000);\r\n        return () => clearTimeout(timer);\r\n    }, [onClose]);\r\n\r\n    return (\r\n        <div className={`toast toast-${type}`}>\r\n            <div className=\"toast-icon\">\r\n                {type === 'success' ? 'âœ…' : 'âŒ'}\r\n            </div>\r\n            <div className=\"toast-text\">{message}</div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport function ToastContainer({ toasts, removeToast }) {\r\n    return (\r\n        <div className=\"toast-container\">\r\n            {toasts.map((toast, index) => (\r\n                <Toast\r\n                    key={index}\r\n                    message={toast.message}\r\n                    type={toast.type}\r\n                    onClose={() => removeToast(index)}\r\n                />\r\n            ))}\r\n        </div>\r\n    );\r\n}","import React from 'react';\r\n\r\nexport default function HoursTracker({ className, subjects }) {\r\n    const allocated = subjects\r\n        .filter(s => s.className === className)\r\n        .reduce((sum, s) => sum + s.hoursPerWeek, 0);\r\n\r\n    const remaining = 30 - allocated;\r\n    const percentage = (allocated / 30) * 100;\r\n\r\n    return (\r\n        <div className=\"hours-tracker\">\r\n            <div className=\"hours-grid\">\r\n                <div className=\"hours-item\">\r\n                    <div className=\"hours-label\">Allocated</div>\r\n                    <div className=\"hours-value\">{allocated}</div>\r\n                </div>\r\n                <div className=\"hours-item\">\r\n                    <div className=\"hours-label\">Remaining</div>\r\n                    <div className=\"hours-value\">{remaining}</div>\r\n                </div>\r\n                <div className=\"hours-item\">\r\n                    <div className=\"hours-label\">Total</div>\r\n                    <div className=\"hours-value\">30</div>\r\n                </div>\r\n            </div>\r\n            <div className=\"progress-bar\">\r\n                <div \r\n                    className=\"progress-fill\" \r\n                    style={{ width: `${Math.min(percentage, 100)}%` }} \r\n                />\r\n            </div>\r\n            {remaining === 0 && (\r\n                <div style={{ marginTop: '12px', textAlign: 'center', fontWeight: 'bold' }}>\r\n                    âœ“ Perfect! No free periods.\r\n                </div>\r\n            )}\r\n            {remaining < 0 && (\r\n                <div style={{ marginTop: '12px', textAlign: 'center', fontWeight: 'bold', color: '#ef4444' }}>\r\n                    âš  Over by {Math.abs(remaining)} hours!\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}","import React from 'react';\r\n\r\nconst DAYS = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday'];\r\n\r\nexport default function TimetableGrid({ timetable, className }) {\r\n    if (!timetable || !timetable[className]) {\r\n        return (\r\n            <div style={{padding: '40px', textAlign: 'center', color: '#64748b'}}>\r\n                No timetable generated yet\r\n            </div>\r\n        );\r\n    }\r\n\r\n    const grid = timetable[className];\r\n\r\n    return (\r\n        <div id=\"timetable-export\" className=\"timetable-grid\">\r\n            <div className=\"timetable-header\">Day/Period</div>\r\n            {[...Array(6)].map((_, i) => (\r\n                <div key={i} className=\"timetable-header\">P{i + 1}</div>\r\n            ))}\r\n\r\n            {DAYS.map((day, dayIndex) => (\r\n                <React.Fragment key={day}>\r\n                    <div className=\"timetable-day\">{day}</div>\r\n                    {grid[dayIndex].map((slot, periodIndex) => (\r\n                        <div \r\n                            key={periodIndex} \r\n                            className={`timetable-cell subject-${slot ? slot.type.toLowerCase() : 'other'}`}\r\n                        >\r\n                            {slot ? (\r\n                                <>\r\n                                    <div className=\"subject-name\">{slot.subject}</div>\r\n                                    <div className=\"teacher-name\">{slot.teacher}</div>\r\n                                </>\r\n                            ) : (\r\n                                <div>-</div>\r\n                            )}\r\n                        </div>\r\n                    ))}\r\n                </React.Fragment>\r\n            ))}\r\n        </div>\r\n    );\r\n}","import React from 'react';\r\n\r\nconst DAYS = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday'];\r\n\r\nexport default function StaffTimetableGrid({ timetable, staffName }) {\r\n    if (!timetable || !timetable[staffName]) {\r\n        return (\r\n            <div style={{padding: '40px', textAlign: 'center', color: '#64748b'}}>\r\n                No timetable generated yet\r\n            </div>\r\n        );\r\n    }\r\n\r\n    const grid = timetable[staffName];\r\n\r\n    return (\r\n        <div id=\"staff-timetable-export\" className=\"timetable-grid\">\r\n            <div className=\"timetable-header\">Day/Period</div>\r\n            {[...Array(6)].map((_, i) => (\r\n                <div key={i} className=\"timetable-header\">P{i + 1}</div>\r\n            ))}\r\n\r\n            {DAYS.map((day, dayIndex) => (\r\n                <React.Fragment key={day}>\r\n                    <div className=\"timetable-day\">{day}</div>\r\n                    {grid[dayIndex].map((slot, periodIndex) => (\r\n                        <div \r\n                            key={periodIndex} \r\n                            className={`timetable-cell subject-${slot.type.toLowerCase()}`}\r\n                        >\r\n                            {slot.subject !== 'FREE' ? (\r\n                                <>\r\n                                    <div className=\"subject-name\">{slot.subject}</div>\r\n                                    <div className=\"teacher-name\">{slot.class}</div>\r\n                                </>\r\n                            ) : (\r\n                                <div style={{ color: '#94a3b8' }}>FREE</div>\r\n                            )}\r\n                        </div>\r\n                    ))}\r\n                </React.Fragment>\r\n            ))}\r\n        </div>\r\n    );\r\n}","export class TimetableGenerator {\r\n    constructor(classes, staff, subjects) {\r\n        this.classes = classes;\r\n        this.staff = staff;\r\n        this.subjects = subjects;\r\n        this.classTimetables = {};\r\n        this.staffTimetables = {};\r\n        this.teacherBusySlots = {};\r\n        this.teacherWeeklyCount = {};\r\n        this.teacherDailyCount = {};\r\n        this.teacherConsecutiveCount = {};\r\n        this.DAYS = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday'];\r\n        this.PERIODS = 6;\r\n        this.MAX_PERIODS_PER_DAY = 30; // 5 days Ã— 6 periods\r\n        this.MAX_SAME_SUBJECT_PER_DAY = 2;\r\n        this.MAX_CONSECUTIVE_PERIODS = 6;\r\n    }\r\n\r\n    /**\r\n     * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\r\n     * VALIDATION (Rule A.1, A.2, F)\r\n     * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\r\n     */\r\n    validate() {\r\n        const errors = [];\r\n\r\n        // Basic checks\r\n        if (this.classes.length === 0) errors.push('No classes added');\r\n        if (this.staff.filter(s => s.role === 'staff').length === 0) errors.push('No staff added');\r\n        if (this.subjects.length === 0) errors.push('No subjects added');\r\n\r\n        if (errors.length > 0) return { valid: false, errors };\r\n\r\n        // Rule A.1: Total hours must match capacity (5 days Ã— 6 periods = 30)\r\n        const classHours = {};\r\n        this.subjects.forEach(subject => {\r\n            classHours[subject.className] = (classHours[subject.className] || 0) + subject.hoursPerWeek;\r\n        });\r\n\r\n        this.classes.forEach(cls => {\r\n            const hours = classHours[cls.name] || 0;\r\n            if (hours !== this.MAX_PERIODS_PER_DAY) {\r\n                errors.push(\r\n                    `Class ${cls.name}: Has ${hours} hours, needs exactly ${this.MAX_PERIODS_PER_DAY} ` +\r\n                    `(Rule A.1: Total hours must match capacity)`\r\n                );\r\n            }\r\n        });\r\n\r\n        // Validate lab block sizes\r\n        this.subjects.forEach(subject => {\r\n            if (subject.isContinuous) {\r\n                if (subject.hoursPerWeek % subject.blockSize !== 0) {\r\n                    errors.push(\r\n                        `Subject ${subject.name}: ${subject.hoursPerWeek} hours cannot be evenly divided ` +\r\n                        `into ${subject.blockSize}-period blocks`\r\n                    );\r\n                }\r\n            }\r\n        });\r\n\r\n        return { valid: errors.length === 0, errors };\r\n    }\r\n\r\n    /**\r\n     * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\r\n     * MAIN GENERATION (Rule E)\r\n     * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\r\n     */\r\n    generate() {\r\n        this._initialize();\r\n\r\n        for (const cls of this.classes) {\r\n            if (!this._generateClassTimetable(cls.name)) {\r\n                return { \r\n                    success: false, \r\n                    error: `Failed to generate timetable for ${cls.name}` \r\n                };\r\n            }\r\n        }\r\n\r\n        this._generateStaffTimetables();\r\n\r\n        // Final validation\r\n        const validation = this._validateGenerated();\r\n        if (!validation.valid) {\r\n            console.warn('Generated timetable has warnings:', validation.warnings);\r\n        }\r\n\r\n        return {\r\n            success: true,\r\n            classTimetables: this.classTimetables,\r\n            staffTimetables: this.staffTimetables,\r\n            warnings: validation.warnings || []\r\n        };\r\n    }\r\n\r\n    _initialize() {\r\n        // Initialize class timetables (Rule A.2: No free periods - will be filled)\r\n        this.classes.forEach(cls => {\r\n            this.classTimetables[cls.name] = this.DAYS.map(() => Array(this.PERIODS).fill(null));\r\n        });\r\n\r\n        // Initialize teacher tracking (Rule B)\r\n        this.staff.filter(s => s.role === 'staff').forEach(teacher => {\r\n            this.teacherBusySlots[teacher.name] = {};\r\n            this.teacherWeeklyCount[teacher.name] = 0;\r\n            this.teacherDailyCount[teacher.name] = this.DAYS.reduce((acc, day) => {\r\n                acc[day] = 0;\r\n                return acc;\r\n            }, {});\r\n            this.teacherConsecutiveCount[teacher.name] = {};\r\n        });\r\n    }\r\n\r\n    /**\r\n     * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\r\n     * PRIORITY ORDER (Rule E)\r\n     * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\r\n     */\r\n    _generateClassTimetable(className) {\r\n        const classSubjects = this.subjects.filter(s => s.className === className);\r\n        classSubjects.forEach(s => s.placedHours = 0);\r\n\r\n        // STEP 1: Allocate labs (Rule D, E.1)\r\n        const labs = classSubjects.filter(s => s.isContinuous);\r\n        labs.sort((a, b) => b.hoursPerWeek - a.hoursPerWeek);\r\n\r\n        for (const lab of labs) {\r\n            if (!this._placeLab(className, lab)) {\r\n                console.error(`Step 1 failed: Cannot place lab ${lab.name}`);\r\n                return false;\r\n            }\r\n        }\r\n\r\n        // STEP 2: Allocate high-hour regular subjects (Rule C.1, E.2)\r\n        const highHourSubjects = classSubjects.filter(\r\n            s => !s.isContinuous && s.hoursPerWeek >= 5\r\n        );\r\n        highHourSubjects.sort((a, b) => b.hoursPerWeek - a.hoursPerWeek);\r\n\r\n        for (const subject of highHourSubjects) {\r\n            if (!this._placeHighHourSubject(className, subject)) {\r\n                console.error(`Step 2 failed: Cannot place high-hour subject ${subject.name}`);\r\n                return false;\r\n            }\r\n        }\r\n\r\n        // STEP 3: Allocate low-hour subjects (Rule C.2, E.3)\r\n        const lowHourSubjects = classSubjects.filter(\r\n            s => !s.isContinuous && s.hoursPerWeek < 5\r\n        );\r\n        lowHourSubjects.sort((a, b) => b.hoursPerWeek - a.hoursPerWeek);\r\n\r\n        for (const subject of lowHourSubjects) {\r\n            if (!this._placeLowHourSubject(className, subject)) {\r\n                console.error(`Step 3 failed: Cannot place low-hour subject ${subject.name}`);\r\n                return false;\r\n            }\r\n        }\r\n\r\n        // STEP 4: Check teacher conflicts (done during placement via _canPlaceAt)\r\n        // STEP 5: Randomization (done via _shuffle in slot selection)\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\r\n     * STEP 1: PLACE LABS (Rule D - Continuous blocks, can skip days)\r\n     * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\r\n     */\r\n    _placeLab(className, subject) {\r\n        const blocksNeeded = subject.hoursPerWeek / subject.blockSize;\r\n        let blocksPlaced = 0;\r\n\r\n        // Generate all possible continuous block positions\r\n        const possibleSlots = [];\r\n        this.DAYS.forEach(day => {\r\n            for (let start = 0; start <= this.PERIODS - subject.blockSize; start++) {\r\n                // Prefer not starting at first period (70% probability)\r\n                if (start === 0 && Math.random() < 0.7) continue;\r\n                possibleSlots.push({ day, start });\r\n            }\r\n        });\r\n\r\n        // Rule E.5: Randomize within constraints\r\n        this._shuffle(possibleSlots);\r\n\r\n        for (const {day, start} of possibleSlots) {\r\n            if (blocksPlaced >= blocksNeeded) break;\r\n\r\n            // Check if can place entire block\r\n            let canPlace = true;\r\n            for (let i = 0; i < subject.blockSize; i++) {\r\n                const period = start + i;\r\n                const dayIndex = this.DAYS.indexOf(day);\r\n\r\n                // Rule A.3: No subject overlap\r\n                if (this.classTimetables[className][dayIndex][period]) {\r\n                    canPlace = false;\r\n                    break;\r\n                }\r\n\r\n                // Rule B.1: No teacher clash\r\n                const slotKey = `${day}-P${period + 1}`;\r\n                if (this.teacherBusySlots[subject.teacher]?.[slotKey]) {\r\n                    canPlace = false;\r\n                    break;\r\n                }\r\n\r\n                // Rule B.2: Check teacher limits\r\n                if (!this._checkTeacherLimit(subject.teacher)) {\r\n                    canPlace = false;\r\n                    break;\r\n                }\r\n\r\n                // Rule B.4: Avoid too many consecutive periods\r\n                if (this.teacherDailyCount[subject.teacher][day] >= this.MAX_CONSECUTIVE_PERIODS) {\r\n                    canPlace = false;\r\n                    break;\r\n                }\r\n            }\r\n\r\n            if (canPlace) {\r\n                // Place the entire continuous block\r\n                for (let i = 0; i < subject.blockSize; i++) {\r\n                    const period = start + i;\r\n                    const dayIndex = this.DAYS.indexOf(day);\r\n                    this._placeAt(className, dayIndex, period, subject);\r\n                }\r\n                subject.placedHours += subject.blockSize;\r\n                blocksPlaced++;\r\n            }\r\n        }\r\n\r\n        // Rule D.4: All blocks must be placed\r\n        return blocksPlaced === blocksNeeded;\r\n    }\r\n\r\n    /**\r\n     * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\r\n     * STEP 2: PLACE HIGH-HOUR SUBJECTS (Rule C.1 - Must appear daily)\r\n     * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\r\n     */\r\n    /**\r\n * STEP 2: PLACE HIGH-HOUR SUBJECTS (Rule C.1 - Must appear daily, best-effort)\r\n * High-hour subjects try to appear on all days, but we don't crash the whole\r\n * timetable if the perfect distribution is impossible.\r\n */\r\n_placeHighHourSubject(className, subject) {\r\n    const hoursToPlace = subject.hoursPerWeek;\r\n    let placed = 0;\r\n    const dailyCount = {};\r\n    this.DAYS.forEach(day => dailyCount[day] = 0);\r\n\r\n    // PHASE 1: Try to place at least ONE period on EACH day (best-effort)\r\n    for (let dayIdx = 0; dayIdx < this.DAYS.length; dayIdx++) {\r\n        if (placed >= hoursToPlace) break;\r\n\r\n        const day = this.DAYS[dayIdx];\r\n        const periods = this._getAvailablePeriods(className, dayIdx, subject);\r\n\r\n        if (periods.length > 0) {\r\n            // Random selection within valid options\r\n            const period = periods[Math.floor(Math.random() * periods.length)];\r\n            this._placeAt(className, dayIdx, period, subject);\r\n            dailyCount[day]++;\r\n            subject.placedHours++;\r\n            placed++;\r\n        } else {\r\n            // It's OK if we can't place on a specific day here;\r\n            // validation will later warn if needed.\r\n            // console.warn(`Could not place ${subject.name} on ${day} in phase 1`);\r\n        }\r\n    }\r\n\r\n    // PHASE 2: Place remaining hours with daily limit (max 2 / day normally, 3 in fallback)\r\n    while (placed < hoursToPlace) {\r\n        let availableSlots = [];\r\n\r\n        // Normal rule: max 2 per day\r\n        for (let dayIdx = 0; dayIdx < this.DAYS.length; dayIdx++) {\r\n            const day = this.DAYS[dayIdx];\r\n\r\n            if (dailyCount[day] >= this.MAX_SAME_SUBJECT_PER_DAY) continue;\r\n\r\n            const periods = this._getAvailablePeriods(className, dayIdx, subject);\r\n            periods.forEach(period => {\r\n                availableSlots.push({ dayIdx, period, day });\r\n            });\r\n        }\r\n\r\n        // Fallback: allow up to 3 per day if needed\r\n        if (availableSlots.length === 0) {\r\n            for (let dayIdx = 0; dayIdx < this.DAYS.length; dayIdx++) {\r\n                const day = this.DAYS[dayIdx];\r\n                if (dailyCount[day] >= 3) continue;\r\n\r\n                const periods = this._getAvailablePeriods(className, dayIdx, subject);\r\n                periods.forEach(period => {\r\n                    availableSlots.push({ dayIdx, period, day });\r\n                });\r\n            }\r\n        }\r\n\r\n        // FINAL EMERGENCY FALLBACK:\r\n        // If still no slots found, ignore daily repetition limits and just\r\n        // find ANY valid empty slot that doesn't clash with teacher/time.\r\n        if (availableSlots.length === 0) {\r\n            const emergencySlots = [];\r\n\r\n            for (let dayIdx = 0; dayIdx < this.DAYS.length; dayIdx++) {\r\n                for (let period = 0; period < this.PERIODS; period++) {\r\n                    if (this._canPlaceAt(className, dayIdx, period, subject)) {\r\n                        emergencySlots.push({\r\n                            dayIdx,\r\n                            period,\r\n                            day: this.DAYS[dayIdx]\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (emergencySlots.length === 0) {\r\n                console.warn(\r\n                    `Cannot fully place ${subject.name}: ${placed}/${hoursToPlace} placed. ` +\r\n                    `Proceeding with partial allocation.`\r\n                );\r\n                // Do NOT crash the whole timetable â€“ just accept partial placement.\r\n                return true;\r\n            }\r\n\r\n            const slot = emergencySlots[Math.floor(Math.random() * emergencySlots.length)];\r\n            this._placeAt(className, slot.dayIdx, slot.period, subject);\r\n            dailyCount[slot.day]++;\r\n            subject.placedHours++;\r\n            placed++;\r\n            continue;\r\n        }\r\n\r\n        // Normal case: choose a valid slot\r\n        const slot = availableSlots[Math.floor(Math.random() * availableSlots.length)];\r\n        this._placeAt(className, slot.dayIdx, slot.period, subject);\r\n        dailyCount[slot.day]++;\r\n        subject.placedHours++;\r\n        placed++;\r\n    }\r\n\r\n    // Even if distribution wasn't \"perfect\", at this point we've placed all hours.\r\n    return true;\r\n}\r\n\r\n    /**\r\n     * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\r\n     * STEP 3: PLACE LOW-HOUR SUBJECTS (Rule C.2 - Can have gaps)\r\n     * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\r\n     */\r\n    _placeLowHourSubject(className, subject) {\r\n        const hoursToPlace = subject.hoursPerWeek;\r\n        let placed = 0;\r\n        const dailyCount = {};\r\n        this.DAYS.forEach(day => dailyCount[day] = 0);\r\n\r\n        // Generate all possible slots\r\n        const allSlots = [];\r\n        this.DAYS.forEach((day, dayIdx) => {\r\n            for (let period = 0; period < this.PERIODS; period++) {\r\n                allSlots.push({ day, dayIdx, period });\r\n            }\r\n        });\r\n\r\n        // Rule E.5: Randomize\r\n        this._shuffle(allSlots);\r\n\r\n        for (const {day, dayIdx, period} of allSlots) {\r\n            if (placed >= hoursToPlace) break;\r\n\r\n            // Rule C.3: Max 2 per day\r\n            if (dailyCount[day] >= this.MAX_SAME_SUBJECT_PER_DAY) continue;\r\n\r\n            if (!this._canPlaceAt(className, dayIdx, period, subject)) continue;\r\n\r\n            // Avoid back-to-back (Rule C.4: Daily variety)\r\n            if (period > 0) {\r\n                const prev = this.classTimetables[className][dayIdx][period - 1];\r\n                if (prev?.subject === subject.name && Math.random() < 0.8) continue;\r\n            }\r\n\r\n            this._placeAt(className, dayIdx, period, subject);\r\n            dailyCount[day]++;\r\n            subject.placedHours++;\r\n            placed++;\r\n        }\r\n\r\n        return placed === hoursToPlace;\r\n    }\r\n\r\n    /**\r\n     * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\r\n     * HELPER FUNCTIONS\r\n     * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\r\n     */\r\n    _getAvailablePeriods(className, dayIdx, subject) {\r\n        const available = [];\r\n\r\n        for (let period = 0; period < this.PERIODS; period++) {\r\n            if (this._canPlaceAt(className, dayIdx, period, subject)) {\r\n                // Avoid back-to-back\r\n                if (period > 0) {\r\n                    const prev = this.classTimetables[className][dayIdx][period - 1];\r\n                    if (prev?.subject === subject.name) continue;\r\n                }\r\n                available.push(period);\r\n            }\r\n        }\r\n\r\n        return available;\r\n    }\r\n\r\n    _canPlaceAt(className, dayIdx, period, subject) {\r\n        const day = this.DAYS[dayIdx];\r\n        const slotKey = `${day}-P${period + 1}`;\r\n\r\n        // Rule A.3: No subject overlap in a class\r\n        if (this.classTimetables[className][dayIdx][period]) return false;\r\n\r\n        // Rule B.1: No teacher clash\r\n        if (this.teacherBusySlots[subject.teacher]?.[slotKey]) return false;\r\n\r\n        // Rule B.2: Check teacher limits\r\n        if (!this._checkTeacherLimit(subject.teacher)) return false;\r\n\r\n        // Rule B.4: Avoid too many consecutive periods\r\n        if (this.teacherDailyCount[subject.teacher][day] >= this.MAX_CONSECUTIVE_PERIODS) return false;\r\n\r\n        return true;\r\n    }\r\n\r\n    _placeAt(className, dayIdx, period, subject) {\r\n        const day = this.DAYS[dayIdx];\r\n        const slotKey = `${day}-P${period + 1}`;\r\n\r\n        // Place in class timetable\r\n        this.classTimetables[className][dayIdx][period] = {\r\n            subject: subject.name,\r\n            teacher: subject.teacher,\r\n            type: subject.subjectType\r\n        };\r\n\r\n        // Update teacher tracking\r\n        if (!this.teacherBusySlots[subject.teacher]) {\r\n            this.teacherBusySlots[subject.teacher] = {};\r\n        }\r\n        this.teacherBusySlots[subject.teacher][slotKey] = true;\r\n        this.teacherWeeklyCount[subject.teacher]++;\r\n        this.teacherDailyCount[subject.teacher][day]++;\r\n    }\r\n\r\n    _checkTeacherLimit(teacherName) {\r\n        const teacher = this.staff.find(s => s.name === teacherName);\r\n        if (!teacher) return false;\r\n\r\n        // Rule B.2: Teachers MAY have free periods\r\n        const maxHours = teacher.freePeriodMode === 'manual' \r\n            ? this.MAX_PERIODS_PER_DAY - teacher.manualFreePeriods \r\n            : this.MAX_PERIODS_PER_DAY;\r\n\r\n        return this.teacherWeeklyCount[teacherName] < maxHours;\r\n    }\r\n\r\n    /**\r\n     * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\r\n     * GENERATE STAFF TIMETABLES (Rule B.2 - Teachers may have free periods)\r\n     * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\r\n     */\r\n    _generateStaffTimetables() {\r\n        this.staff.filter(s => s.role === 'staff').forEach(teacher => {\r\n            this.staffTimetables[teacher.name] = this.DAYS.map(() => \r\n                Array(this.PERIODS).fill({ subject: 'FREE', class: '-', type: 'free' })\r\n            );\r\n        });\r\n\r\n        this.classes.forEach(cls => {\r\n            this.DAYS.forEach((day, dayIndex) => {\r\n                this.classTimetables[cls.name][dayIndex].forEach((slot, period) => {\r\n                    if (slot) {\r\n                        this.staffTimetables[slot.teacher][dayIndex][period] = {\r\n                            subject: slot.subject,\r\n                            class: cls.name,\r\n                            type: slot.type\r\n                        };\r\n                    }\r\n                });\r\n            });\r\n        });\r\n    }\r\n\r\n    /**\r\n     * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\r\n     * VALIDATION (Rule F)\r\n     * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\r\n     */\r\n    _validateGenerated() {\r\n        const warnings = [];\r\n\r\n        // F.1: Class validation\r\n        this.classes.forEach(cls => {\r\n            let totalSlots = 0;\r\n            let emptySlots = 0;\r\n\r\n            this.DAYS.forEach((day, dayIdx) => {\r\n                this.classTimetables[cls.name][dayIdx].forEach(slot => {\r\n                    totalSlots++;\r\n                    if (!slot) emptySlots++;\r\n                });\r\n            });\r\n\r\n            if (emptySlots > 0) {\r\n                warnings.push(`Class ${cls.name}: Has ${emptySlots} empty slots (Rule A.2 violated)`);\r\n            }\r\n        });\r\n\r\n        // F.2: Teacher validation - check for clashes\r\n        const teachers = this.staff.filter(s => s.role === 'staff');\r\n        teachers.forEach(teacher => {\r\n            const teacherSlots = {};\r\n            this.DAYS.forEach(day => {\r\n                for (let p = 0; p < this.PERIODS; p++) {\r\n                    teacherSlots[`${day}-P${p+1}`] = [];\r\n                }\r\n            });\r\n\r\n            this.classes.forEach(cls => {\r\n                this.DAYS.forEach((day, dayIdx) => {\r\n                    this.classTimetables[cls.name][dayIdx].forEach((slot, period) => {\r\n                        if (slot && slot.teacher === teacher.name) {\r\n                            teacherSlots[`${day}-P${period+1}`].push(cls.name);\r\n                        }\r\n                    });\r\n                });\r\n            });\r\n\r\n            Object.keys(teacherSlots).forEach(slotKey => {\r\n                if (teacherSlots[slotKey].length > 1) {\r\n                    warnings.push(\r\n                        `Teacher ${teacher.name} has clash at ${slotKey}: ` +\r\n                        `${teacherSlots[slotKey].join(', ')} (Rule B.1 violated)`\r\n                    );\r\n                }\r\n            });\r\n        });\r\n\r\n        // F.3: Subject validation - high-hour subjects should appear daily\r\n        const classSubjects = {};\r\n        this.subjects.forEach(sub => {\r\n            if (!classSubjects[sub.className]) classSubjects[sub.className] = [];\r\n            classSubjects[sub.className].push(sub);\r\n        });\r\n\r\n        Object.keys(classSubjects).forEach(className => {\r\n            classSubjects[className].forEach(subject => {\r\n                if (!subject.isContinuous && subject.hoursPerWeek >= 5) {\r\n                    // Check if appears on all days\r\n                    const daysWithSubject = new Set();\r\n                    this.DAYS.forEach((day, dayIdx) => {\r\n                        this.classTimetables[className][dayIdx].forEach(slot => {\r\n                            if (slot && slot.subject === subject.name) {\r\n                                daysWithSubject.add(day);\r\n                            }\r\n                        });\r\n                    });\r\n\r\n                    if (daysWithSubject.size < this.DAYS.length) {\r\n                        const missingDays = this.DAYS.filter(d => !daysWithSubject.has(d));\r\n                        warnings.push(\r\n                            `Subject ${subject.name} (${className}): Missing on ${missingDays.join(', ')} ` +\r\n                            `(Rule C.1: High-hour subjects should appear daily)`\r\n                        );\r\n                    }\r\n                }\r\n            });\r\n        });\r\n\r\n        return {\r\n            valid: warnings.length === 0,\r\n            warnings\r\n        };\r\n    }\r\n\r\n    /**\r\n     * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\r\n     * UTILITY FUNCTION (Rule E.5: Randomization)\r\n     * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\r\n     */\r\n    _shuffle(array) {\r\n        for (let i = array.length - 1; i > 0; i--) {\r\n            const j = Math.floor(Math.random() * (i + 1));\r\n            [array[i], array[j]] = [array[j], array[i]];\r\n        }\r\n    }\r\n}"],"names":["$parcel$export","e","n","v","s","Object","defineProperty","get","set","enumerable","configurable","$parcel$interopDefault","a","__esModule","default","parcelRequire","$parcel$global","globalThis","parcelRegister","register","module","exports","value","$9b678cdbbac6dec2$export$2e2bcd8739ae039","$ayMG0","$acw62","$aOD4d","$2A5UH","$4XiCD","$v5TqP","$hyYFF","$iFlyT","$izP1S","$gqAsg","$6AR8M","$ilpIi","$fAZ67","user","onLogout","classes","setClasses","useState","Storage","staff","setStaff","subjects","setSubjects","timetable","setTimetable","toasts","setToasts","teachers","filter","role","newClass","setNewClass","name","newStaff","setNewStaff","username","password","freePeriodMode","manualFreePeriods","newSubject","setNewSubject","className","subjectType","hoursPerWeek","isContinuous","blockSize","teacher","useEffect","loadClasses","snapshot","getDocs","collection","db","empty","cloudClasses","docs","map","d","id","data","err","console","error","showToast","message","type","prev","addClass","find","c","newCls","docRef","addDoc","updated","createStaffInFirebase","staffObj","email","log","uid","userCredential","createUserWithEmailAndPassword","auth","setDoc","doc","fullName","department","dept","createdAt","Date","code","msg","alert","addStaff","now","firebaseUid","deleteStaff","window","confirm","deleteSubject","jsxs","Fragment","children","jsx","onClick","onChange","target","toUpperCase","placeholder","length","style","color","cls","idx","deleteClass","min","max","parseInt","t","checked","htmlFor","marginBottom","classSubjects","totalHours","reduce","sum","display","alignItems","gap","padding","borderRadius","fontSize","fontWeight","background","sub","lineHeight","marginLeft","gridTemplateColumns","textAlign","opacity","generator","TimetableGenerator","validation","validate","valid","errors","join","result","generate","success","timetableData","classTimetables","staffTimetables","setTimeout","document","getElementById","scrollIntoView","behavior","width","marginTop","exportToPDF","staffName","ToastContainer","removeToast","index","_","i","$e0e81a01ed643521$export$f2815235e76a62b9","$e0e81a01ed643521$export$8d8dc7d5f743331b","onClose","timer","clearTimeout","toast","$511984d6a1a2608c$export$2e2bcd8739ae039","allocated","remaining","percentage","Math","abs","$0fffc37793eb4b6c$export$2e2bcd8739ae039","$0fffc37793eb4b6c$var$DAYS","grid","Array","day","dayIndex","slot","periodIndex","toLowerCase","subject","$81aa4954b90786d4$export$2e2bcd8739ae039","$81aa4954b90786d4$var$DAYS","class","$d86314373d1a4c5f$export$21295ca23168aa6a","teacherBusySlots","teacherWeeklyCount","teacherDailyCount","teacherConsecutiveCount","DAYS","PERIODS","MAX_PERIODS_PER_DAY","MAX_SAME_SUBJECT_PER_DAY","MAX_CONSECUTIVE_PERIODS","push","classHours","forEach","hours","_initialize","_generateClassTimetable","_generateStaffTimetables","_validateGenerated","warn","warnings","fill","acc","placedHours","labs","lab","sort","b","_placeLab","highHourSubjects","_placeHighHourSubject","lowHourSubjects","_placeLowHourSubject","blocksNeeded","blocksPlaced","possibleSlots","start","random","_shuffle","canPlace","period","indexOf","slotKey","_checkTeacherLimit","_placeAt","hoursToPlace","placed","dailyCount","dayIdx","periods","_getAvailablePeriods","floor","availableSlots","emergencySlots","_canPlaceAt","allSlots","available","teacherName","maxHours","totalSlots","emptySlots","teacherSlots","p","keys","daysWithSubject","Set","add","size","missingDays","has","array","j"],"version":3,"file":"AdminDashboard.c9d3da5e.js.map"}